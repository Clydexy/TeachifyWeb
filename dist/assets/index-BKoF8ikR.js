function p_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y5={exports:{}},z0={},v5={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),m_=Symbol.for("react.portal"),g_=Symbol.for("react.fragment"),y_=Symbol.for("react.strict_mode"),v_=Symbol.for("react.profiler"),w_=Symbol.for("react.provider"),__=Symbol.for("react.context"),x_=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),S_=Symbol.for("react.memo"),b_=Symbol.for("react.lazy"),e4=Symbol.iterator;function k_(t){return t===null||typeof t!="object"?null:(t=e4&&t[e4]||t["@@iterator"],typeof t=="function"?t:null)}var w5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_5=Object.assign,x5={};function to(t,e,n){this.props=t,this.context=e,this.refs=x5,this.updater=n||w5}to.prototype.isReactComponent={};to.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};to.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E5(){}E5.prototype=to.prototype;function Wp(t,e,n){this.props=t,this.context=e,this.refs=x5,this.updater=n||w5}var Gp=Wp.prototype=new E5;Gp.constructor=Wp;_5(Gp,to.prototype);Gp.isPureReactComponent=!0;var t4=Array.isArray,S5=Object.prototype.hasOwnProperty,Kp={current:null},b5={key:!0,ref:!0,__self:!0,__source:!0};function k5(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)S5.call(e,r)&&!b5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Yl,type:t,key:s,ref:a,props:i,_owner:Kp.current}}function T_(t,e){return{$$typeof:Yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yl}function I_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n4=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I_(""+t.key):e.toString(36)}function pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Yl:case m_:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Yh(a,0):r,t4(i)?(n="",t!=null&&(n=t.replace(n4,"$&/")+"/"),pc(i,e,n,"",function(c){return c})):i!=null&&(Qp(i)&&(i=T_(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(n4,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",t4(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Yh(s,o);a+=pc(s,e,n,l,i)}else if(l=k_(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Yh(s,o++),a+=pc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Mu(t,e,n){if(t==null)return t;var r=[],i=0;return pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function A_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},mc={transition:null},C_={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:mc,ReactCurrentOwner:Kp};function T5(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Mu,forEach:function(t,e,n){Mu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mu(t,function(){e++}),e},toArray:function(t){return Mu(t,function(e){return e})||[]},only:function(t){if(!Qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=to;Ne.Fragment=g_;Ne.Profiler=v_;Ne.PureComponent=Wp;Ne.StrictMode=y_;Ne.Suspense=E_;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C_;Ne.act=T5;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Kp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)S5.call(e,l)&&!b5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Yl,type:t.type,key:i,ref:s,props:r,_owner:a}};Ne.createContext=function(t){return t={$$typeof:__,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w_,_context:t},t.Consumer=t};Ne.createElement=k5;Ne.createFactory=function(t){var e=k5.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:x_,render:t}};Ne.isValidElement=Qp;Ne.lazy=function(t){return{$$typeof:b_,_payload:{_status:-1,_result:t},_init:A_}};Ne.memo=function(t,e){return{$$typeof:S_,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=mc.transition;mc.transition={};try{t()}finally{mc.transition=e}};Ne.unstable_act=T5;Ne.useCallback=function(t,e){return an.current.useCallback(t,e)};Ne.useContext=function(t){return an.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return an.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return an.current.useEffect(t,e)};Ne.useId=function(){return an.current.useId()};Ne.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return an.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};Ne.useRef=function(t){return an.current.useRef(t)};Ne.useState=function(t){return an.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return an.current.useTransition()};Ne.version="18.3.1";v5.exports=Ne;var re=v5.exports;const I5=g5(re),R_=p_({__proto__:null,default:I5},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_=re,N_=Symbol.for("react.element"),M_=Symbol.for("react.fragment"),D_=Object.prototype.hasOwnProperty,O_=P_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L_={key:!0,ref:!0,__self:!0,__source:!0};function A5(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)D_.call(e,r)&&!L_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:N_,type:t,key:s,ref:a,props:i,_owner:O_.current}}z0.Fragment=M_;z0.jsx=A5;z0.jsxs=A5;y5.exports=z0;var $=y5.exports,uf={},C5={exports:{}},Dn={},R5={exports:{}},P5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,he){var D=ne.length;ne.push(he);e:for(;0<D;){var ke=D-1>>>1,we=ne[ke];if(0<i(we,he))ne[ke]=he,ne[D]=we,D=ke;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var he=ne[0],D=ne.pop();if(D!==he){ne[0]=D;e:for(var ke=0,we=ne.length,V=we>>>1;ke<V;){var Xe=2*(ke+1)-1,tt=ne[Xe],Ue=Xe+1,ht=ne[Ue];if(0>i(tt,D))Ue<we&&0>i(ht,tt)?(ne[ke]=ht,ne[Ue]=D,ke=Ue):(ne[ke]=tt,ne[Xe]=D,ke=Xe);else if(Ue<we&&0>i(ht,D))ne[ke]=ht,ne[Ue]=D,ke=Ue;else break e}}return he}function i(ne,he){var D=ne.sortIndex-he.sortIndex;return D!==0?D:ne.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,d=null,m=3,g=!1,x=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ne){for(var he=n(c);he!==null;){if(he.callback===null)r(c);else if(he.startTime<=ne)r(c),he.sortIndex=he.expirationTime,e(l,he);else break;he=n(c)}}function B(ne){if(S=!1,T(ne),!x)if(n(l)!==null)x=!0,Ce(j);else{var he=n(c);he!==null&&Re(B,he.startTime-ne)}}function j(ne,he){x=!1,S&&(S=!1,E(b),b=-1),g=!0;var D=m;try{for(T(he),d=n(l);d!==null&&(!(d.expirationTime>he)||ne&&!M());){var ke=d.callback;if(typeof ke=="function"){d.callback=null,m=d.priorityLevel;var we=ke(d.expirationTime<=he);he=t.unstable_now(),typeof we=="function"?d.callback=we:d===n(l)&&r(l),T(he)}else r(l);d=n(l)}if(d!==null)var V=!0;else{var Xe=n(c);Xe!==null&&Re(B,Xe.startTime-he),V=!1}return V}finally{d=null,m=D,g=!1}}var F=!1,C=null,b=-1,A=5,N=-1;function M(){return!(t.unstable_now()-N<A)}function L(){if(C!==null){var ne=t.unstable_now();N=ne;var he=!0;try{he=C(!0,ne)}finally{he?P():(F=!1,C=null)}}else F=!1}var P;if(typeof w=="function")P=function(){w(L)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ce=de.port2;de.port1.onmessage=L,P=function(){ce.postMessage(null)}}else P=function(){R(L,0)};function Ce(ne){C=ne,F||(F=!0,P())}function Re(ne,he){b=R(function(){ne(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,Ce(j))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(m){case 1:case 2:case 3:var he=3;break;default:he=m}var D=m;m=he;try{return ne()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var D=m;m=ne;try{return he()}finally{m=D}},t.unstable_scheduleCallback=function(ne,he,D){var ke=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?ke+D:ke):D=ke,ne){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=D+we,ne={id:h++,callback:he,priorityLevel:ne,startTime:D,expirationTime:we,sortIndex:-1},D>ke?(ne.sortIndex=D,e(c,ne),n(l)===null&&ne===n(c)&&(S?(E(b),b=-1):S=!0,Re(B,D-ke))):(ne.sortIndex=we,e(l,ne),x||g||(x=!0,Ce(j))),ne},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ne){var he=m;return function(){var D=m;m=he;try{return ne.apply(this,arguments)}finally{m=D}}}})(P5);R5.exports=P5;var z_=R5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=re,Mn=z_;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N5=new Set,yl={};function js(t,e){za(t,e),za(t+"Capture",e)}function za(t,e){for(yl[t]=e,t=0;t<e.length;t++)N5.add(e[t])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,F_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r4={},i4={};function B_(t){return cf.call(i4,t)?!0:cf.call(r4,t)?!1:F_.test(t)?i4[t]=!0:(r4[t]=!0,!1)}function U_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j_(t,e,n,r){if(e===null||typeof e>"u"||U_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);Vt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yp,Xp);Vt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yp,Xp);Vt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jp(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j_(e,n,i,r)&&(n=null),r||i===null?B_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=V_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Du=Symbol.for("react.element"),ha=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),hf=Symbol.for("react.profiler"),M5=Symbol.for("react.provider"),D5=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),O5=Symbol.for("react.offscreen"),s4=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=s4&&t[s4]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,Xh;function qo(t){if(Xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||""}return`
`+Xh+t}var Jh=!1;function Zh(t,e){if(!t||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qo(t):""}function q_(t){switch(t.tag){case 5:return qo(t.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return t=Zh(t.type,!1),t;case 11:return t=Zh(t.type.render,!1),t;case 1:return t=Zh(t.type,!0),t;default:return""}}function pf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case ha:return"Portal";case hf:return"Profiler";case Zp:return"StrictMode";case df:return"Suspense";case ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D5:return(t.displayName||"Context")+".Consumer";case M5:return(t._context.displayName||"Context")+".Provider";case em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tm:return e=t.displayName||null,e!==null?e:pf(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return pf(t(e))}catch{}}return null}function H_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pf(e);case 8:return e===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $_(t){var e=L5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ou(t){t._valueTracker||(t._valueTracker=$_(t))}function z5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mf(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V5(t,e){e=e.checked,e!=null&&Jp(t,"checked",e,!1)}function gf(t,e){V5(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yf(t,e.type,n):e.hasOwnProperty("defaultValue")&&yf(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function o4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yf(t,e,n){(e!=="number"||Bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ho=Array.isArray;function ba(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Ho(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function F5(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lu,U5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lu=Lu||document.createElement("div"),Lu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W_=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){W_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function j5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function q5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=j5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var G_=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(t,e){if(e){if(G_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function xf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=null;function nm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sf=null,ka=null,Ta=null;function c4(t){if(t=Zl(t)){if(typeof Sf!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=j0(e),Sf(t.stateNode,t.type,e))}}function H5(t){ka?Ta?Ta.push(t):Ta=[t]:ka=t}function $5(){if(ka){var t=ka,e=Ta;if(Ta=ka=null,c4(t),e)for(t=0;t<e.length;t++)c4(e[t])}}function W5(t,e){return t(e)}function G5(){}var ed=!1;function K5(t,e,n){if(ed)return t(e,n);ed=!0;try{return W5(t,e,n)}finally{ed=!1,(ka!==null||Ta!==null)&&(G5(),$5())}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var r=j0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var bf=!1;if(Qr)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){bf=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{bf=!1}function K_(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var tl=!1,Uc=null,jc=!1,kf=null,Q_={onError:function(t){tl=!0,Uc=t}};function Y_(t,e,n,r,i,s,a,o,l){tl=!1,Uc=null,K_.apply(Q_,arguments)}function X_(t,e,n,r,i,s,a,o,l){if(Y_.apply(this,arguments),tl){if(tl){var c=Uc;tl=!1,Uc=null}else throw Error(Z(198));jc||(jc=!0,kf=c)}}function qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h4(t){if(qs(t)!==t)throw Error(Z(188))}function J_(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h4(i),t;if(s===r)return h4(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function Y5(t){return t=J_(t),t!==null?X5(t):null}function X5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X5(t);if(e!==null)return e;t=t.sibling}return null}var J5=Mn.unstable_scheduleCallback,d4=Mn.unstable_cancelCallback,Z_=Mn.unstable_shouldYield,ex=Mn.unstable_requestPaint,gt=Mn.unstable_now,tx=Mn.unstable_getCurrentPriorityLevel,rm=Mn.unstable_ImmediatePriority,Z5=Mn.unstable_UserBlockingPriority,qc=Mn.unstable_NormalPriority,nx=Mn.unstable_LowPriority,e3=Mn.unstable_IdlePriority,V0=null,yr=null;function rx(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(V0,t,void 0,(t.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:ax,ix=Math.log,sx=Math.LN2;function ax(t){return t>>>=0,t===0?32:31-(ix(t)/sx|0)|0}var zu=64,Vu=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=$o(o):(s&=a,s!==0&&(r=$o(s)))}else a=n&~i,a!==0?r=$o(a):s!==0&&(r=$o(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ir(e),i=1<<n,r|=t[n],e&=~i;return r}function ox(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ir(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=ox(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t3(){var t=zu;return zu<<=1,!(zu&4194240)&&(zu=64),t}function td(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ir(e),t[e]=n}function ux(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ir(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function n3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r3,sm,i3,s3,a3,If=!1,Fu=[],Oi=null,Li=null,zi=null,_l=new Map,xl=new Map,bi=[],cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function f4(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(e.pointerId)}}function Oo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zl(e),e!==null&&sm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hx(t,e,n,r,i){switch(e){case"focusin":return Oi=Oo(Oi,t,e,n,r,i),!0;case"dragenter":return Li=Oo(Li,t,e,n,r,i),!0;case"mouseover":return zi=Oo(zi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,Oo(_l.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xl.set(s,Oo(xl.get(s)||null,t,e,n,r,i)),!0}return!1}function o3(t){var e=bs(t.target);if(e!==null){var n=qs(e);if(n!==null){if(e=n.tag,e===13){if(e=Q5(n),e!==null){t.blockedOn=e,a3(t.priority,function(){i3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ef=r,n.target.dispatchEvent(r),Ef=null}else return e=Zl(n),e!==null&&sm(e),t.blockedOn=n,!1;e.shift()}return!0}function p4(t,e,n){gc(t)&&n.delete(e)}function dx(){If=!1,Oi!==null&&gc(Oi)&&(Oi=null),Li!==null&&gc(Li)&&(Li=null),zi!==null&&gc(zi)&&(zi=null),_l.forEach(p4),xl.forEach(p4)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,If||(If=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,dx)))}function El(t){function e(i){return Lo(i,t)}if(0<Fu.length){Lo(Fu[0],t);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&Lo(Oi,t),Li!==null&&Lo(Li,t),zi!==null&&Lo(zi,t),_l.forEach(e),xl.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)o3(n),n.blockedOn===null&&bi.shift()}var Ia=ai.ReactCurrentBatchConfig,$c=!0;function fx(t,e,n,r){var i=$e,s=Ia.transition;Ia.transition=null;try{$e=1,am(t,e,n,r)}finally{$e=i,Ia.transition=s}}function px(t,e,n,r){var i=$e,s=Ia.transition;Ia.transition=null;try{$e=4,am(t,e,n,r)}finally{$e=i,Ia.transition=s}}function am(t,e,n,r){if($c){var i=Af(t,e,n,r);if(i===null)hd(t,e,r,Wc,n),f4(t,r);else if(hx(i,t,e,n,r))r.stopPropagation();else if(f4(t,r),e&4&&-1<cx.indexOf(t)){for(;i!==null;){var s=Zl(i);if(s!==null&&r3(s),s=Af(t,e,n,r),s===null&&hd(t,e,r,Wc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hd(t,e,r,null,n)}}var Wc=null;function Af(t,e,n,r){if(Wc=null,t=nm(r),t=bs(t),t!==null)if(e=qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wc=t,null}function l3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tx()){case rm:return 1;case Z5:return 4;case qc:case nx:return 16;case e3:return 536870912;default:return 16}default:return 16}}var Ri=null,om=null,yc=null;function u3(){if(yc)return yc;var t,e=om,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return yc=i.slice(t,1<r?1-r:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bu(){return!0}function m4(){return!1}function On(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bu:m4,this.isPropagationStopped=m4,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bu)},persist:function(){},isPersistent:Bu}),e}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=On(no),Jl=ut({},no,{view:0,detail:0}),mx=On(Jl),nd,rd,zo,F0=ut({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(nd=t.screenX-zo.screenX,rd=t.screenY-zo.screenY):rd=nd=0,zo=t),nd)},movementY:function(t){return"movementY"in t?t.movementY:rd}}),g4=On(F0),gx=ut({},F0,{dataTransfer:0}),yx=On(gx),vx=ut({},Jl,{relatedTarget:0}),id=On(vx),wx=ut({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),_x=On(wx),xx=ut({},no,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ex=On(xx),Sx=ut({},no,{data:0}),y4=On(Sx),bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ix(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tx[t])?!!e[t]:!1}function um(){return Ix}var Ax=ut({},Jl,{key:function(t){if(t.key){var e=bx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cx=On(Ax),Rx=ut({},F0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v4=On(Rx),Px=ut({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),Nx=On(Px),Mx=ut({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=On(Mx),Ox=ut({},F0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lx=On(Ox),zx=[9,13,27,32],cm=Qr&&"CompositionEvent"in window,nl=null;Qr&&"documentMode"in document&&(nl=document.documentMode);var Vx=Qr&&"TextEvent"in window&&!nl,c3=Qr&&(!cm||nl&&8<nl&&11>=nl),w4=" ",_4=!1;function h3(t,e){switch(t){case"keyup":return zx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function Fx(t,e){switch(t){case"compositionend":return d3(e);case"keypress":return e.which!==32?null:(_4=!0,w4);case"textInput":return t=e.data,t===w4&&_4?null:t;default:return null}}function Bx(t,e){if(fa)return t==="compositionend"||!cm&&h3(t,e)?(t=u3(),yc=om=Ri=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c3&&e.locale!=="ko"?null:e.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ux[t.type]:e==="textarea"}function f3(t,e,n,r){H5(r),e=Gc(e,"onChange"),0<e.length&&(n=new lm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Sl=null;function jx(t){b3(t,0)}function B0(t){var e=ga(t);if(z5(e))return t}function qx(t,e){if(t==="change")return e}var p3=!1;if(Qr){var sd;if(Qr){var ad="oninput"in document;if(!ad){var E4=document.createElement("div");E4.setAttribute("oninput","return;"),ad=typeof E4.oninput=="function"}sd=ad}else sd=!1;p3=sd&&(!document.documentMode||9<document.documentMode)}function S4(){rl&&(rl.detachEvent("onpropertychange",m3),Sl=rl=null)}function m3(t){if(t.propertyName==="value"&&B0(Sl)){var e=[];f3(e,Sl,t,nm(t)),K5(jx,e)}}function Hx(t,e,n){t==="focusin"?(S4(),rl=e,Sl=n,rl.attachEvent("onpropertychange",m3)):t==="focusout"&&S4()}function $x(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return B0(Sl)}function Wx(t,e){if(t==="click")return B0(e)}function Gx(t,e){if(t==="input"||t==="change")return B0(e)}function Kx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:Kx;function bl(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cf.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function b4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k4(t,e){var n=b4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=b4(n)}}function g3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y3(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bc(t.document)}return e}function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qx(t){var e=y3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&g3(n.ownerDocument.documentElement,n)){if(r!==null&&hm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=k4(n,s);var a=k4(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yx=Qr&&"documentMode"in document&&11>=document.documentMode,pa=null,Cf=null,il=null,Rf=!1;function T4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rf||pa==null||pa!==Bc(r)||(r=pa,"selectionStart"in r&&hm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&bl(il,r)||(il=r,r=Gc(Cf,"onSelect"),0<r.length&&(e=new lm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Uu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},od={},v3={};Qr&&(v3=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function U0(t){if(od[t])return od[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v3)return od[t]=e[n];return t}var w3=U0("animationend"),_3=U0("animationiteration"),x3=U0("animationstart"),E3=U0("transitionend"),S3=new Map,I4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){S3.set(t,e),js(e,[t])}for(var ld=0;ld<I4.length;ld++){var ud=I4[ld],Xx=ud.toLowerCase(),Jx=ud[0].toUpperCase()+ud.slice(1);ss(Xx,"on"+Jx)}ss(w3,"onAnimationEnd");ss(_3,"onAnimationIteration");ss(x3,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(E3,"onTransitionEnd");za("onMouseEnter",["mouseout","mouseover"]);za("onMouseLeave",["mouseout","mouseover"]);za("onPointerEnter",["pointerout","pointerover"]);za("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function A4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,X_(r,e,void 0,t),t.currentTarget=null}function b3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;A4(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;A4(i,o,c),s=l}}}if(jc)throw t=kf,jc=!1,kf=null,t}function Ze(t,e){var n=e[Of];n===void 0&&(n=e[Of]=new Set);var r=t+"__bubble";n.has(r)||(k3(e,t,2,!1),n.add(r))}function cd(t,e,n){var r=0;e&&(r|=4),k3(n,t,r,e)}var ju="_reactListening"+Math.random().toString(36).slice(2);function kl(t){if(!t[ju]){t[ju]=!0,N5.forEach(function(n){n!=="selectionchange"&&(Zx.has(n)||cd(n,!1,t),cd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ju]||(e[ju]=!0,cd("selectionchange",!1,e))}}function k3(t,e,n,r){switch(l3(e)){case 1:var i=fx;break;case 4:i=px;break;default:i=am}n=i.bind(null,e,n,t),i=void 0,!bf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=bs(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}K5(function(){var c=s,h=nm(n),d=[];e:{var m=S3.get(t);if(m!==void 0){var g=lm,x=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":g=Cx;break;case"focusin":x="focus",g=id;break;case"focusout":x="blur",g=id;break;case"beforeblur":case"afterblur":g=id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=g4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Nx;break;case w3:case _3:case x3:g=_x;break;case E3:g=Dx;break;case"scroll":g=mx;break;case"wheel":g=Lx;break;case"copy":case"cut":case"paste":g=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=v4}var S=(e&4)!==0,R=!S&&t==="scroll",E=S?m!==null?m+"Capture":null:m;S=[];for(var w=c,T;w!==null;){T=w;var B=T.stateNode;if(T.tag===5&&B!==null&&(T=B,E!==null&&(B=wl(w,E),B!=null&&S.push(Tl(w,B,T)))),R)break;w=w.return}0<S.length&&(m=new g(m,x,null,n,h),d.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Ef&&(x=n.relatedTarget||n.fromElement)&&(bs(x)||x[Yr]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=n.relatedTarget||n.toElement,g=c,x=x?bs(x):null,x!==null&&(R=qs(x),x!==R||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=c),g!==x)){if(S=g4,B="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=v4,B="onPointerLeave",E="onPointerEnter",w="pointer"),R=g==null?m:ga(g),T=x==null?m:ga(x),m=new S(B,w+"leave",g,n,h),m.target=R,m.relatedTarget=T,B=null,bs(h)===c&&(S=new S(E,w+"enter",x,n,h),S.target=T,S.relatedTarget=R,B=S),R=B,g&&x)t:{for(S=g,E=x,w=0,T=S;T;T=ra(T))w++;for(T=0,B=E;B;B=ra(B))T++;for(;0<w-T;)S=ra(S),w--;for(;0<T-w;)E=ra(E),T--;for(;w--;){if(S===E||E!==null&&S===E.alternate)break t;S=ra(S),E=ra(E)}S=null}else S=null;g!==null&&C4(d,m,g,S,!1),x!==null&&R!==null&&C4(d,R,x,S,!0)}}e:{if(m=c?ga(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var j=qx;else if(x4(m))if(p3)j=Gx;else{j=$x;var F=Hx}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Wx);if(j&&(j=j(t,c))){f3(d,j,n,h);break e}F&&F(t,m,c),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&yf(m,"number",m.value)}switch(F=c?ga(c):window,t){case"focusin":(x4(F)||F.contentEditable==="true")&&(pa=F,Cf=c,il=null);break;case"focusout":il=Cf=pa=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,T4(d,n,h);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":T4(d,n,h)}var C;if(cm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else fa?h3(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(c3&&n.locale!=="ko"&&(fa||b!=="onCompositionStart"?b==="onCompositionEnd"&&fa&&(C=u3()):(Ri=h,om="value"in Ri?Ri.value:Ri.textContent,fa=!0)),F=Gc(c,b),0<F.length&&(b=new y4(b,t,null,n,h),d.push({event:b,listeners:F}),C?b.data=C:(C=d3(n),C!==null&&(b.data=C)))),(C=Vx?Fx(t,n):Bx(t,n))&&(c=Gc(c,"onBeforeInput"),0<c.length&&(h=new y4("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=C))}b3(d,e)})}function Tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wl(t,n),s!=null&&r.unshift(Tl(t,s,i)),s=wl(t,e),s!=null&&r.push(Tl(t,s,i))),t=t.return}return r}function ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C4(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=wl(n,s),l!=null&&a.unshift(Tl(n,l,o))):i||(l=wl(n,s),l!=null&&a.push(Tl(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var eE=/\r\n?/g,tE=/\u0000|\uFFFD/g;function R4(t){return(typeof t=="string"?t:""+t).replace(eE,`
`).replace(tE,"")}function qu(t,e,n){if(e=R4(e),R4(t)!==e&&n)throw Error(Z(425))}function Kc(){}var Pf=null,Nf=null;function Mf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,nE=typeof clearTimeout=="function"?clearTimeout:void 0,P4=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof P4<"u"?function(t){return P4.resolve(null).then(t).catch(iE)}:Df;function iE(t){setTimeout(function(){throw t})}function dd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);El(e)}function Vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ro=Math.random().toString(36).slice(2),fr="__reactFiber$"+ro,Il="__reactProps$"+ro,Yr="__reactContainer$"+ro,Of="__reactEvents$"+ro,sE="__reactListeners$"+ro,aE="__reactHandles$"+ro;function bs(t){var e=t[fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yr]||n[fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N4(t);t!==null;){if(n=t[fr])return n;t=N4(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[fr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function j0(t){return t[Il]||null}var Lf=[],ya=-1;function as(t){return{current:t}}function et(t){0>ya||(t.current=Lf[ya],Lf[ya]=null,ya--)}function Qe(t,e){ya++,Lf[ya]=t.current,t.current=e}var Yi={},Qt=as(Yi),pn=as(!1),Ns=Yi;function Va(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mn(t){return t=t.childContextTypes,t!=null}function Qc(){et(pn),et(Qt)}function M4(t,e,n){if(Qt.current!==Yi)throw Error(Z(168));Qe(Qt,e),Qe(pn,n)}function T3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,H_(t)||"Unknown",i));return ut({},n,r)}function Yc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Ns=Qt.current,Qe(Qt,t),Qe(pn,pn.current),!0}function D4(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=T3(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,et(pn),et(Qt),Qe(Qt,t)):et(pn),Qe(pn,n)}var Lr=null,q0=!1,fd=!1;function I3(t){Lr===null?Lr=[t]:Lr.push(t)}function oE(t){q0=!0,I3(t)}function os(){if(!fd&&Lr!==null){fd=!0;var t=0,e=$e;try{var n=Lr;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lr=null,q0=!1}catch(i){throw Lr!==null&&(Lr=Lr.slice(t+1)),J5(rm,os),i}finally{$e=e,fd=!1}}return null}var va=[],wa=0,Xc=null,Jc=0,Vn=[],Fn=0,Ms=null,Vr=1,Fr="";function _s(t,e){va[wa++]=Jc,va[wa++]=Xc,Xc=t,Jc=e}function A3(t,e,n){Vn[Fn++]=Vr,Vn[Fn++]=Fr,Vn[Fn++]=Ms,Ms=t;var r=Vr;t=Fr;var i=32-ir(r)-1;r&=~(1<<i),n+=1;var s=32-ir(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Vr=1<<32-ir(e)+i|n<<i|r,Fr=s+t}else Vr=1<<s|n<<i|r,Fr=t}function dm(t){t.return!==null&&(_s(t,1),A3(t,1,0))}function fm(t){for(;t===Xc;)Xc=va[--wa],va[wa]=null,Jc=va[--wa],va[wa]=null;for(;t===Ms;)Ms=Vn[--Fn],Vn[Fn]=null,Fr=Vn[--Fn],Vn[Fn]=null,Vr=Vn[--Fn],Vn[Fn]=null}var Pn=null,Cn=null,nt=!1,nr=null;function C3(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function O4(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=Vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pn=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:Vr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pn=t,Cn=null,!0):!1;default:return!1}}function zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vf(t){if(nt){var e=Cn;if(e){var n=e;if(!O4(t,e)){if(zf(t))throw Error(Z(418));e=Vi(n.nextSibling);var r=Pn;e&&O4(t,e)?C3(r,n):(t.flags=t.flags&-4097|2,nt=!1,Pn=t)}}else{if(zf(t))throw Error(Z(418));t.flags=t.flags&-4097|2,nt=!1,Pn=t}}}function L4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pn=t}function Hu(t){if(t!==Pn)return!1;if(!nt)return L4(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mf(t.type,t.memoizedProps)),e&&(e=Cn)){if(zf(t))throw R3(),Error(Z(418));for(;e;)C3(t,e),e=Vi(e.nextSibling)}if(L4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cn=Vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cn=null}}else Cn=Pn?Vi(t.stateNode.nextSibling):null;return!0}function R3(){for(var t=Cn;t;)t=Vi(t.nextSibling)}function Fa(){Cn=Pn=null,nt=!1}function pm(t){nr===null?nr=[t]:nr.push(t)}var lE=ai.ReactCurrentBatchConfig;function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function $u(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z4(t){var e=t._init;return e(t._payload)}function P3(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=ji(E,w),E.index=0,E.sibling=null,E}function s(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function o(E,w,T,B){return w===null||w.tag!==6?(w=_d(T,E.mode,B),w.return=E,w):(w=i(w,T),w.return=E,w)}function l(E,w,T,B){var j=T.type;return j===da?h(E,w,T.props.children,B,T.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ei&&z4(j)===w.type)?(B=i(w,T.props),B.ref=Vo(E,w,T),B.return=E,B):(B=kc(T.type,T.key,T.props,null,E.mode,B),B.ref=Vo(E,w,T),B.return=E,B)}function c(E,w,T,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=xd(T,E.mode,B),w.return=E,w):(w=i(w,T.children||[]),w.return=E,w)}function h(E,w,T,B,j){return w===null||w.tag!==7?(w=Cs(T,E.mode,B,j),w.return=E,w):(w=i(w,T),w.return=E,w)}function d(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_d(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:return T=kc(w.type,w.key,w.props,null,E.mode,T),T.ref=Vo(E,null,w),T.return=E,T;case ha:return w=xd(w,E.mode,T),w.return=E,w;case Ei:var B=w._init;return d(E,B(w._payload),T)}if(Ho(w)||Mo(w))return w=Cs(w,E.mode,T,null),w.return=E,w;$u(E,w)}return null}function m(E,w,T,B){var j=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:o(E,w,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Du:return T.key===j?l(E,w,T,B):null;case ha:return T.key===j?c(E,w,T,B):null;case Ei:return j=T._init,m(E,w,j(T._payload),B)}if(Ho(T)||Mo(T))return j!==null?null:h(E,w,T,B,null);$u(E,T)}return null}function g(E,w,T,B,j){if(typeof B=="string"&&B!==""||typeof B=="number")return E=E.get(T)||null,o(w,E,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Du:return E=E.get(B.key===null?T:B.key)||null,l(w,E,B,j);case ha:return E=E.get(B.key===null?T:B.key)||null,c(w,E,B,j);case Ei:var F=B._init;return g(E,w,T,F(B._payload),j)}if(Ho(B)||Mo(B))return E=E.get(T)||null,h(w,E,B,j,null);$u(w,B)}return null}function x(E,w,T,B){for(var j=null,F=null,C=w,b=w=0,A=null;C!==null&&b<T.length;b++){C.index>b?(A=C,C=null):A=C.sibling;var N=m(E,C,T[b],B);if(N===null){C===null&&(C=A);break}t&&C&&N.alternate===null&&e(E,C),w=s(N,w,b),F===null?j=N:F.sibling=N,F=N,C=A}if(b===T.length)return n(E,C),nt&&_s(E,b),j;if(C===null){for(;b<T.length;b++)C=d(E,T[b],B),C!==null&&(w=s(C,w,b),F===null?j=C:F.sibling=C,F=C);return nt&&_s(E,b),j}for(C=r(E,C);b<T.length;b++)A=g(C,E,b,T[b],B),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?b:A.key),w=s(A,w,b),F===null?j=A:F.sibling=A,F=A);return t&&C.forEach(function(M){return e(E,M)}),nt&&_s(E,b),j}function S(E,w,T,B){var j=Mo(T);if(typeof j!="function")throw Error(Z(150));if(T=j.call(T),T==null)throw Error(Z(151));for(var F=j=null,C=w,b=w=0,A=null,N=T.next();C!==null&&!N.done;b++,N=T.next()){C.index>b?(A=C,C=null):A=C.sibling;var M=m(E,C,N.value,B);if(M===null){C===null&&(C=A);break}t&&C&&M.alternate===null&&e(E,C),w=s(M,w,b),F===null?j=M:F.sibling=M,F=M,C=A}if(N.done)return n(E,C),nt&&_s(E,b),j;if(C===null){for(;!N.done;b++,N=T.next())N=d(E,N.value,B),N!==null&&(w=s(N,w,b),F===null?j=N:F.sibling=N,F=N);return nt&&_s(E,b),j}for(C=r(E,C);!N.done;b++,N=T.next())N=g(C,E,b,N.value,B),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?b:N.key),w=s(N,w,b),F===null?j=N:F.sibling=N,F=N);return t&&C.forEach(function(L){return e(E,L)}),nt&&_s(E,b),j}function R(E,w,T,B){if(typeof T=="object"&&T!==null&&T.type===da&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Du:e:{for(var j=T.key,F=w;F!==null;){if(F.key===j){if(j=T.type,j===da){if(F.tag===7){n(E,F.sibling),w=i(F,T.props.children),w.return=E,E=w;break e}}else if(F.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ei&&z4(j)===F.type){n(E,F.sibling),w=i(F,T.props),w.ref=Vo(E,F,T),w.return=E,E=w;break e}n(E,F);break}else e(E,F);F=F.sibling}T.type===da?(w=Cs(T.props.children,E.mode,B,T.key),w.return=E,E=w):(B=kc(T.type,T.key,T.props,null,E.mode,B),B.ref=Vo(E,w,T),B.return=E,E=B)}return a(E);case ha:e:{for(F=T.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=i(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=xd(T,E.mode,B),w.return=E,E=w}return a(E);case Ei:return F=T._init,R(E,w,F(T._payload),B)}if(Ho(T))return x(E,w,T,B);if(Mo(T))return S(E,w,T,B);$u(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=i(w,T),w.return=E,E=w):(n(E,w),w=_d(T,E.mode,B),w.return=E,E=w),a(E)):n(E,w)}return R}var Ba=P3(!0),N3=P3(!1),Zc=as(null),e0=null,_a=null,mm=null;function gm(){mm=_a=e0=null}function ym(t){var e=Zc.current;et(Zc),t._currentValue=e}function Ff(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Aa(t,e){e0=t,mm=_a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(mm!==t)if(t={context:t,memoizedValue:e,next:null},_a===null){if(e0===null)throw Error(Z(308));_a=t,e0.dependencies={lanes:0,firstContext:t}}else _a=_a.next=t;return e}var ks=null;function vm(t){ks===null?ks=[t]:ks.push(t)}function M3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Si=!1;function wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xr(t,n)}return i=r.interleaved,i===null?(e.next=e,vm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xr(t,n)}function wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,im(t,n)}}function V4(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function t0(t,e,n,r){var i=t.updateQueue;Si=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,h=c=l=null,o=s;do{var m=o.lane,g=o.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,S=o;switch(m=e,g=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){d=x.call(g,d,m);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,m=typeof x=="function"?x.call(g,d,m):x,m==null)break e;d=ut({},d,m);break e;case 2:Si=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else g={eventTime:g,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Os|=a,t.lanes=a,t.memoizedState=d}}function F4(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var eu={},vr=as(eu),Al=as(eu),Cl=as(eu);function Ts(t){if(t===eu)throw Error(Z(174));return t}function _m(t,e){switch(Qe(Cl,e),Qe(Al,t),Qe(vr,eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wf(e,t)}et(vr),Qe(vr,e)}function Ua(){et(vr),et(Al),et(Cl)}function O3(t){Ts(Cl.current);var e=Ts(vr.current),n=wf(e,t.type);e!==n&&(Qe(Al,t),Qe(vr,n))}function xm(t){Al.current===t&&(et(vr),et(Al))}var at=as(0);function n0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pd=[];function Em(){for(var t=0;t<pd.length;t++)pd[t]._workInProgressVersionPrimary=null;pd.length=0}var _c=ai.ReactCurrentDispatcher,md=ai.ReactCurrentBatchConfig,Ds=0,lt=null,St=null,Rt=null,r0=!1,sl=!1,Rl=0,uE=0;function qt(){throw Error(Z(321))}function Sm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function bm(t,e,n,r,i,s){if(Ds=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_c.current=t===null||t.memoizedState===null?fE:pE,t=n(r,i),sl){s=0;do{if(sl=!1,Rl=0,25<=s)throw Error(Z(301));s+=1,Rt=St=null,e.updateQueue=null,_c.current=mE,t=n(r,i)}while(sl)}if(_c.current=i0,e=St!==null&&St.next!==null,Ds=0,Rt=St=lt=null,r0=!1,e)throw Error(Z(300));return t}function km(){var t=Rl!==0;return Rl=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?lt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Wn(){if(St===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Rt===null?lt.memoizedState:Rt.next;if(e!==null)Rt=e,St=t;else{if(t===null)throw Error(Z(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Rt===null?lt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Pl(t,e){return typeof e=="function"?e(t):e}function gd(t){var e=Wn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((Ds&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,lt.lanes|=h,Os|=h}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,ar(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,lt.lanes|=s,Os|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yd(t){var e=Wn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ar(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function L3(){}function z3(t,e){var n=lt,r=Wn(),i=e(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,fn=!0),r=r.queue,Tm(B3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Nl(9,F3.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(Z(349));Ds&30||V3(n,e,i)}return i}function V3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function F3(t,e,n,r){e.value=n,e.getSnapshot=r,U3(e)&&j3(t)}function B3(t,e,n){return n(function(){U3(e)&&j3(t)})}function U3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function j3(t){var e=Xr(t,1);e!==null&&sr(e,t,1,-1)}function B4(t){var e=cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=dE.bind(null,lt,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function q3(){return Wn().memoizedState}function xc(t,e,n,r){var i=cr();lt.flags|=t,i.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function H0(t,e,n,r){var i=Wn();r=r===void 0?null:r;var s=void 0;if(St!==null){var a=St.memoizedState;if(s=a.destroy,r!==null&&Sm(r,a.deps)){i.memoizedState=Nl(e,n,s,r);return}}lt.flags|=t,i.memoizedState=Nl(1|e,n,s,r)}function U4(t,e){return xc(8390656,8,t,e)}function Tm(t,e){return H0(2048,8,t,e)}function H3(t,e){return H0(4,2,t,e)}function $3(t,e){return H0(4,4,t,e)}function W3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G3(t,e,n){return n=n!=null?n.concat([t]):null,H0(4,4,W3.bind(null,e,t),n)}function Im(){}function K3(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Q3(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Y3(t,e,n){return Ds&21?(ar(n,e)||(n=t3(),lt.lanes|=n,Os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function cE(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=md.transition;md.transition={};try{t(!1),e()}finally{$e=n,md.transition=r}}function X3(){return Wn().memoizedState}function hE(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J3(t))Z3(e,n);else if(n=M3(t,e,n,r),n!==null){var i=rn();sr(n,t,r,i),e6(n,e,r)}}function dE(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J3(t))Z3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ar(o,a)){var l=e.interleaved;l===null?(i.next=i,vm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=M3(t,e,i,r),n!==null&&(i=rn(),sr(n,t,r,i),e6(n,e,r))}}function J3(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function Z3(t,e){sl=r0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function e6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,im(t,n)}}var i0={readContext:$n,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},fE={readContext:$n,useCallback:function(t,e){return cr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:U4,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,W3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hE.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=cr();return t={current:t},e.memoizedState=t},useState:B4,useDebugValue:Im,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=B4(!1),e=t[0];return t=cE.bind(null,t[1]),cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=cr();if(nt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Pt===null)throw Error(Z(349));Ds&30||V3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,U4(B3.bind(null,r,s,t),[t]),r.flags|=2048,Nl(9,F3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=cr(),e=Pt.identifierPrefix;if(nt){var n=Fr,r=Vr;n=(r&~(1<<32-ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pE={readContext:$n,useCallback:K3,useContext:$n,useEffect:Tm,useImperativeHandle:G3,useInsertionEffect:H3,useLayoutEffect:$3,useMemo:Q3,useReducer:gd,useRef:q3,useState:function(){return gd(Pl)},useDebugValue:Im,useDeferredValue:function(t){var e=Wn();return Y3(e,St.memoizedState,t)},useTransition:function(){var t=gd(Pl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:L3,useSyncExternalStore:z3,useId:X3,unstable_isNewReconciler:!1},mE={readContext:$n,useCallback:K3,useContext:$n,useEffect:Tm,useImperativeHandle:G3,useInsertionEffect:H3,useLayoutEffect:$3,useMemo:Q3,useReducer:yd,useRef:q3,useState:function(){return yd(Pl)},useDebugValue:Im,useDeferredValue:function(t){var e=Wn();return St===null?e.memoizedState=t:Y3(e,St.memoizedState,t)},useTransition:function(){var t=yd(Pl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:L3,useSyncExternalStore:z3,useId:X3,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $0={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ui(t),s=Hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(sr(e,t,i,r),wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ui(t),s=Hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(sr(e,t,i,r),wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Ui(t),i=Hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,r),e!==null&&(sr(e,t,r,n),wc(e,t,r))}};function j4(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!bl(n,r)||!bl(i,s):!0}function t6(t,e,n){var r=!1,i=Yi,s=e.contextType;return typeof s=="object"&&s!==null?s=$n(s):(i=mn(e)?Ns:Qt.current,r=e.contextTypes,s=(r=r!=null)?Va(t,i):Yi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function q4(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$0.enqueueReplaceState(e,e.state,null)}function Uf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$n(s):(s=mn(e)?Ns:Qt.current,i.context=Va(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$0.enqueueReplaceState(i,i.state,null),t0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ja(t,e){try{var n="",r=e;do n+=q_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gE=typeof WeakMap=="function"?WeakMap:Map;function n6(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){a0||(a0=!0,Jf=r),jf(t,e)},n}function r6(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jf(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function H4(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=RE.bind(null,t,e,n),e.then(t,t))}function $4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var yE=ai.ReactCurrentOwner,fn=!1;function tn(t,e,n,r){e.child=t===null?N3(e,null,n,r):Ba(e,t.child,n,r)}function G4(t,e,n,r,i){n=n.render;var s=e.ref;return Aa(e,i),r=bm(t,e,n,r,s,i),n=km(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(nt&&n&&dm(e),e.flags|=1,tn(t,e,r,i),e.child)}function K4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Om(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,i6(t,e,s,r,i)):(t=kc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(a,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=ji(s,r),t.ref=e.ref,t.return=e,e.child=t}function i6(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bl(s,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return qf(t,e,n,r,i)}function s6(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ea,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Ea,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(Ea,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qe(Ea,kn),kn|=r;return tn(t,e,i,n),e.child}function a6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qf(t,e,n,r,i){var s=mn(n)?Ns:Qt.current;return s=Va(e,s),Aa(e,i),n=bm(t,e,n,r,s,i),r=km(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(nt&&r&&dm(e),e.flags|=1,tn(t,e,n,i),e.child)}function Q4(t,e,n,r,i){if(mn(n)){var s=!0;Yc(e)}else s=!1;if(Aa(e,i),e.stateNode===null)Ec(t,e),t6(e,n,r),Uf(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=$n(c):(c=mn(n)?Ns:Qt.current,c=Va(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&q4(e,a,r,c),Si=!1;var m=e.memoizedState;a.state=m,t0(e,r,a,i),l=e.memoizedState,o!==r||m!==l||pn.current||Si?(typeof h=="function"&&(Bf(e,n,h,r),l=e.memoizedState),(o=Si||j4(e,n,o,r,m,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,D3(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Zn(e.type,o),a.props=c,d=e.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=mn(n)?Ns:Qt.current,l=Va(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||m!==l)&&q4(e,a,r,l),Si=!1,m=e.memoizedState,a.state=m,t0(e,r,a,i);var x=e.memoizedState;o!==d||m!==x||pn.current||Si?(typeof g=="function"&&(Bf(e,n,g,r),x=e.memoizedState),(c=Si||j4(e,n,c,r,m,x,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Hf(t,e,n,r,s,i)}function Hf(t,e,n,r,i,s){a6(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&D4(e,n,!1),Jr(t,e,s);r=e.stateNode,yE.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ba(e,t.child,null,s),e.child=Ba(e,null,o,s)):tn(t,e,o,s),e.memoizedState=r.state,i&&D4(e,n,!0),e.child}function o6(t){var e=t.stateNode;e.pendingContext?M4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M4(t,e.context,!1),_m(t,e.containerInfo)}function Y4(t,e,n,r,i){return Fa(),pm(i),e.flags|=256,tn(t,e,n,r),e.child}var $f={dehydrated:null,treeContext:null,retryLane:0};function Wf(t){return{baseLanes:t,cachePool:null,transitions:null}}function l6(t,e,n){var r=e.pendingProps,i=at.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(at,i&1),t===null)return Vf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=K0(a,r,0,null),t=Cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wf(n),e.memoizedState=$f,t):Am(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return vE(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ji(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ji(o,s):(s=Cs(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Wf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=$f,r}return s=t.child,t=s.sibling,r=ji(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Am(t,e){return e=K0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&pm(r),Ba(e,t.child,null,n),t=Am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vE(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=vd(Error(Z(422))),Wu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=K0({mode:"visible",children:r.children},i,0,null),s=Cs(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ba(e,t.child,null,a),e.child.memoizedState=Wf(a),e.memoizedState=$f,s);if(!(e.mode&1))return Wu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Z(419)),r=vd(s,r,void 0),Wu(t,e,a,r)}if(o=(a&t.childLanes)!==0,fn||o){if(r=Pt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xr(t,i),sr(r,t,i,-1))}return Dm(),r=vd(Error(Z(421))),Wu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cn=Vi(i.nextSibling),Pn=e,nt=!0,nr=null,t!==null&&(Vn[Fn++]=Vr,Vn[Fn++]=Fr,Vn[Fn++]=Ms,Vr=t.id,Fr=t.overflow,Ms=e),e=Am(e,r.children),e.flags|=4096,e)}function X4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ff(t.return,e,n)}function wd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function u6(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X4(t,n,e);else if(t.tag===19)X4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&n0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&n0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wd(e,!0,n,null,s);break;case"together":wd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wE(t,e,n){switch(e.tag){case 3:o6(e),Fa();break;case 5:O3(e);break;case 1:mn(e.type)&&Yc(e);break;case 4:_m(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(Zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?l6(t,e,n):(Qe(at,at.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Qe(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,s6(t,e,n)}return Jr(t,e,n)}var c6,Gf,h6,d6;c6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gf=function(){};h6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ts(vr.current);var s=null;switch(n){case"input":i=mf(t,i),r=mf(t,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=vf(t,i),r=vf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kc)}_f(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ze("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};d6=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _E(t,e,n){var r=e.pendingProps;switch(fm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return mn(e.type)&&Qc(),Ht(e),null;case 3:return r=e.stateNode,Ua(),et(pn),et(Qt),Em(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(tp(nr),nr=null))),Gf(t,e),Ht(e),null;case 5:xm(e);var i=Ts(Cl.current);if(n=e.type,t!==null&&e.stateNode!=null)h6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Ht(e),null}if(t=Ts(vr.current),Hu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fr]=e,r[Il]=s,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<Wo.length;i++)Ze(Wo[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":a4(r,s),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",r);break;case"textarea":l4(r,s),Ze("invalid",r)}_f(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&qu(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&qu(r.textContent,o,t),i=["children",""+o]):yl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ze("scroll",r)}switch(n){case"input":Ou(r),o4(r,s,!0);break;case"textarea":Ou(r),u4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[fr]=e,t[Il]=r,c6(t,e,!1,!1),e.stateNode=t;e:{switch(a=xf(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wo.length;i++)Ze(Wo[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":a4(t,r),i=mf(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":l4(t,r),i=vf(t,r),Ze("invalid",t);break;default:i=r}_f(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?q5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U5(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vl(t,l):typeof l=="number"&&vl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ze("scroll",t):l!=null&&Jp(t,s,l,a))}switch(n){case"input":Ou(t),o4(t,r,!1);break;case"textarea":Ou(t),u4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ba(t,!!r.multiple,s,!1):r.defaultValue!=null&&ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)d6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Ts(Cl.current),Ts(vr.current),Hu(e)){if(r=e.stateNode,n=e.memoizedProps,r[fr]=e,(s=r.nodeValue!==n)&&(t=Pn,t!==null))switch(t.tag){case 3:qu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fr]=e,e.stateNode=r}return Ht(e),null;case 13:if(et(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Cn!==null&&e.mode&1&&!(e.flags&128))R3(),Fa(),e.flags|=98560,s=!1;else if(s=Hu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[fr]=e}else Fa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else nr!==null&&(tp(nr),nr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?kt===0&&(kt=3):Dm())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Ua(),Gf(t,e),t===null&&kl(e.stateNode.containerInfo),Ht(e),null;case 10:return ym(e.type._context),Ht(e),null;case 17:return mn(e.type)&&Qc(),Ht(e),null;case 19:if(et(at),s=e.memoizedState,s===null)return Ht(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Fo(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=n0(t),a!==null){for(e.flags|=128,Fo(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&gt()>qa&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304)}else{if(!r)if(t=n0(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!nt)return Ht(e),null}else 2*gt()-s.renderingStartTime>qa&&n!==1073741824&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,n=at.current,Qe(at,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return Mm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function xE(t,e){switch(fm(e),e.tag){case 1:return mn(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ua(),et(pn),et(Qt),Em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xm(e),null;case 13:if(et(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(at),null;case 4:return Ua(),null;case 10:return ym(e.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var Gu=!1,Gt=!1,EE=typeof WeakSet=="function"?WeakSet:Set,ue=null;function xa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function Kf(t,e,n){try{n()}catch(r){pt(t,e,r)}}var J4=!1;function SE(t,e){if(Pf=$c,t=y3(),hm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,d=t,m=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===t)break t;if(m===n&&++c===i&&(o=a),m===s&&++h===r&&(l=a),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nf={focusedElem:t,selectionRange:n},$c=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,R=x.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?S:Zn(e.type,S),R);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(B){pt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return x=J4,J4=!1,x}function al(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kf(e,n,s)}i=i.next}while(i!==r)}}function W0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function f6(t){var e=t.alternate;e!==null&&(t.alternate=null,f6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Il],delete e[Of],delete e[sE],delete e[aE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p6(t){return t.tag===5||t.tag===3||t.tag===4}function Z4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(r!==4&&(t=t.child,t!==null))for(Yf(t,e,n),t=t.sibling;t!==null;)Yf(t,e,n),t=t.sibling}function Xf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}var Dt=null,er=!1;function yi(t,e,n){for(n=n.child;n!==null;)m6(t,e,n),n=n.sibling}function m6(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(V0,n)}catch{}switch(n.tag){case 5:Gt||xa(n,e);case 6:var r=Dt,i=er;Dt=null,yi(t,e,n),Dt=r,er=i,Dt!==null&&(er?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(er?(t=Dt,n=n.stateNode,t.nodeType===8?dd(t.parentNode,n):t.nodeType===1&&dd(t,n),El(t)):dd(Dt,n.stateNode));break;case 4:r=Dt,i=er,Dt=n.stateNode.containerInfo,er=!0,yi(t,e,n),Dt=r,er=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Kf(n,e,a),i=i.next}while(i!==r)}yi(t,e,n);break;case 1:if(!Gt&&(xa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){pt(n,e,o)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,yi(t,e,n),Gt=r):yi(t,e,n);break;default:yi(t,e,n)}}function e2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EE),e.forEach(function(r){var i=NE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Dt=o.stateNode,er=!1;break e;case 3:Dt=o.stateNode.containerInfo,er=!0;break e;case 4:Dt=o.stateNode.containerInfo,er=!0;break e}o=o.return}if(Dt===null)throw Error(Z(160));m6(s,a,i),Dt=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){pt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g6(e,t),e=e.sibling}function g6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),ur(t),r&4){try{al(3,t,t.return),W0(3,t)}catch(S){pt(t,t.return,S)}try{al(5,t,t.return)}catch(S){pt(t,t.return,S)}}break;case 1:Jn(e,t),ur(t),r&512&&n!==null&&xa(n,n.return);break;case 5:if(Jn(e,t),ur(t),r&512&&n!==null&&xa(n,n.return),t.flags&32){var i=t.stateNode;try{vl(i,"")}catch(S){pt(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&V5(i,s),xf(o,a);var c=xf(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?q5(i,d):h==="dangerouslySetInnerHTML"?U5(i,d):h==="children"?vl(i,d):Jp(i,h,d,c)}switch(o){case"input":gf(i,s);break;case"textarea":F5(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ba(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?ba(i,!!s.multiple,s.defaultValue,!0):ba(i,!!s.multiple,s.multiple?[]:"",!1))}i[Il]=s}catch(S){pt(t,t.return,S)}}break;case 6:if(Jn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){pt(t,t.return,S)}}break;case 3:if(Jn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(S){pt(t,t.return,S)}break;case 4:Jn(e,t),ur(t);break;case 13:Jn(e,t),ur(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Pm=gt())),r&4&&e2(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(c=Gt)||h,Jn(e,t),Gt=c):Jn(e,t),ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ue=t,h=t.child;h!==null;){for(d=ue=h;ue!==null;){switch(m=ue,g=m.child,m.tag){case 0:case 11:case 14:case 15:al(4,m,m.return);break;case 1:xa(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(S){pt(r,n,S)}}break;case 5:xa(m,m.return);break;case 22:if(m.memoizedState!==null){n2(d);continue}}g!==null?(g.return=m,ue=g):n2(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=j5("display",a))}catch(S){pt(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){pt(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jn(e,t),ur(t),r&4&&e2(t);break;case 21:break;default:Jn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(p6(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vl(i,""),r.flags&=-33);var s=Z4(t);Xf(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Z4(t);Yf(t,o,a);break;default:throw Error(Z(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bE(t,e,n){ue=t,y6(t)}function y6(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Gu;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Gt;o=Gu;var c=Gt;if(Gu=a,(Gt=l)&&!c)for(ue=i;ue!==null;)a=ue,l=a.child,a.tag===22&&a.memoizedState!==null?r2(i):l!==null?(l.return=a,ue=l):r2(i);for(;s!==null;)ue=s,y6(s),s=s.sibling;ue=i,Gu=o,Gt=c}t2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ue=s):t2(t)}}function t2(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||W0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F4(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F4(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&El(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Gt||e.flags&512&&Qf(e)}catch(m){pt(e,e.return,m)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function n2(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function r2(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{W0(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var s=e.return;try{Qf(e)}catch(l){pt(e,s,l)}break;case 5:var a=e.return;try{Qf(e)}catch(l){pt(e,a,l)}}}catch(l){pt(e,e.return,l)}if(e===t){ue=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ue=o;break}ue=e.return}}var kE=Math.ceil,s0=ai.ReactCurrentDispatcher,Cm=ai.ReactCurrentOwner,qn=ai.ReactCurrentBatchConfig,ze=0,Pt=null,_t=null,zt=0,kn=0,Ea=as(0),kt=0,Ml=null,Os=0,G0=0,Rm=0,ol=null,dn=null,Pm=0,qa=1/0,Or=null,a0=!1,Jf=null,Bi=null,Ku=!1,Pi=null,o0=0,ll=0,Zf=null,Sc=-1,bc=0;function rn(){return ze&6?gt():Sc!==-1?Sc:Sc=gt()}function Ui(t){return t.mode&1?ze&2&&zt!==0?zt&-zt:lE.transition!==null?(bc===0&&(bc=t3()),bc):(t=$e,t!==0||(t=window.event,t=t===void 0?16:l3(t.type)),t):1}function sr(t,e,n,r){if(50<ll)throw ll=0,Zf=null,Error(Z(185));Xl(t,n,r),(!(ze&2)||t!==Pt)&&(t===Pt&&(!(ze&2)&&(G0|=n),kt===4&&ki(t,zt)),gn(t,r),n===1&&ze===0&&!(e.mode&1)&&(qa=gt()+500,q0&&os()))}function gn(t,e){var n=t.callbackNode;lx(t,e);var r=Hc(t,t===Pt?zt:0);if(r===0)n!==null&&d4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d4(n),e===1)t.tag===0?oE(i2.bind(null,t)):I3(i2.bind(null,t)),rE(function(){!(ze&6)&&os()}),n=null;else{switch(n3(r)){case 1:n=rm;break;case 4:n=Z5;break;case 16:n=qc;break;case 536870912:n=e3;break;default:n=qc}n=k6(n,v6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function v6(t,e){if(Sc=-1,bc=0,ze&6)throw Error(Z(327));var n=t.callbackNode;if(Ca()&&t.callbackNode!==n)return null;var r=Hc(t,t===Pt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=l0(t,r);else{e=r;var i=ze;ze|=2;var s=_6();(Pt!==t||zt!==e)&&(Or=null,qa=gt()+500,As(t,e));do try{AE();break}catch(o){w6(t,o)}while(!0);gm(),s0.current=s,ze=i,_t!==null?e=0:(Pt=null,zt=0,e=kt)}if(e!==0){if(e===2&&(i=Tf(t),i!==0&&(r=i,e=ep(t,i))),e===1)throw n=Ml,As(t,0),ki(t,r),gn(t,gt()),n;if(e===6)ki(t,r);else{if(i=t.current.alternate,!(r&30)&&!TE(i)&&(e=l0(t,r),e===2&&(s=Tf(t),s!==0&&(r=s,e=ep(t,s))),e===1))throw n=Ml,As(t,0),ki(t,r),gn(t,gt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:xs(t,dn,Or);break;case 3:if(ki(t,r),(r&130023424)===r&&(e=Pm+500-gt(),10<e)){if(Hc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Df(xs.bind(null,t,dn,Or),e);break}xs(t,dn,Or);break;case 4:if(ki(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ir(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kE(r/1960))-r,10<r){t.timeoutHandle=Df(xs.bind(null,t,dn,Or),r);break}xs(t,dn,Or);break;case 5:xs(t,dn,Or);break;default:throw Error(Z(329))}}}return gn(t,gt()),t.callbackNode===n?v6.bind(null,t):null}function ep(t,e){var n=ol;return t.current.memoizedState.isDehydrated&&(As(t,e).flags|=256),t=l0(t,e),t!==2&&(e=dn,dn=n,e!==null&&tp(e)),t}function tp(t){dn===null?dn=t:dn.push.apply(dn,t)}function TE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ki(t,e){for(e&=~Rm,e&=~G0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ir(e),r=1<<n;t[n]=-1,e&=~r}}function i2(t){if(ze&6)throw Error(Z(327));Ca();var e=Hc(t,0);if(!(e&1))return gn(t,gt()),null;var n=l0(t,e);if(t.tag!==0&&n===2){var r=Tf(t);r!==0&&(e=r,n=ep(t,r))}if(n===1)throw n=Ml,As(t,0),ki(t,e),gn(t,gt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xs(t,dn,Or),gn(t,gt()),null}function Nm(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(qa=gt()+500,q0&&os())}}function Ls(t){Pi!==null&&Pi.tag===0&&!(ze&6)&&Ca();var e=ze;ze|=1;var n=qn.transition,r=$e;try{if(qn.transition=null,$e=1,t)return t()}finally{$e=r,qn.transition=n,ze=e,!(ze&6)&&os()}}function Mm(){kn=Ea.current,et(Ea)}function As(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nE(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(fm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:Ua(),et(pn),et(Qt),Em();break;case 5:xm(r);break;case 4:Ua();break;case 13:et(at);break;case 19:et(at);break;case 10:ym(r.type._context);break;case 22:case 23:Mm()}n=n.return}if(Pt=t,_t=t=ji(t.current,null),zt=kn=e,kt=0,Ml=null,Rm=G0=Os=0,dn=ol=null,ks!==null){for(e=0;e<ks.length;e++)if(n=ks[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ks=null}return t}function w6(t,e){do{var n=_t;try{if(gm(),_c.current=i0,r0){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}r0=!1}if(Ds=0,Rt=St=lt=null,sl=!1,Rl=0,Cm.current=null,n===null||n.return===null){kt=1,Ml=e,_t=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=zt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=$4(a);if(g!==null){g.flags&=-257,W4(g,a,o,s,e),g.mode&1&&H4(s,c,e),e=g,l=c;var x=e.updateQueue;if(x===null){var S=new Set;S.add(l),e.updateQueue=S}else x.add(l);break e}else{if(!(e&1)){H4(s,c,e),Dm();break e}l=Error(Z(426))}}else if(nt&&o.mode&1){var R=$4(a);if(R!==null){!(R.flags&65536)&&(R.flags|=256),W4(R,a,o,s,e),pm(ja(l,o));break e}}s=l=ja(l,o),kt!==4&&(kt=2),ol===null?ol=[s]:ol.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=n6(s,l,e);V4(s,E);break e;case 1:o=l;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Bi===null||!Bi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=r6(s,o,e);V4(s,B);break e}}s=s.return}while(s!==null)}E6(n)}catch(j){e=j,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function _6(){var t=s0.current;return s0.current=i0,t===null?i0:t}function Dm(){(kt===0||kt===3||kt===2)&&(kt=4),Pt===null||!(Os&268435455)&&!(G0&268435455)||ki(Pt,zt)}function l0(t,e){var n=ze;ze|=2;var r=_6();(Pt!==t||zt!==e)&&(Or=null,As(t,e));do try{IE();break}catch(i){w6(t,i)}while(!0);if(gm(),ze=n,s0.current=r,_t!==null)throw Error(Z(261));return Pt=null,zt=0,kt}function IE(){for(;_t!==null;)x6(_t)}function AE(){for(;_t!==null&&!Z_();)x6(_t)}function x6(t){var e=b6(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?E6(t):_t=e,Cm.current=null}function E6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xE(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,_t=null;return}}else if(n=_E(n,e,kn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);kt===0&&(kt=5)}function xs(t,e,n){var r=$e,i=qn.transition;try{qn.transition=null,$e=1,CE(t,e,n,r)}finally{qn.transition=i,$e=r}return null}function CE(t,e,n,r){do Ca();while(Pi!==null);if(ze&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ux(t,s),t===Pt&&(_t=Pt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ku||(Ku=!0,k6(qc,function(){return Ca(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var a=$e;$e=1;var o=ze;ze|=4,Cm.current=null,SE(t,n),g6(n,t),Qx(Nf),$c=!!Pf,Nf=Pf=null,t.current=n,bE(n),ex(),ze=o,$e=a,qn.transition=s}else t.current=n;if(Ku&&(Ku=!1,Pi=t,o0=i),s=t.pendingLanes,s===0&&(Bi=null),rx(n.stateNode),gn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(a0)throw a0=!1,t=Jf,Jf=null,t;return o0&1&&t.tag!==0&&Ca(),s=t.pendingLanes,s&1?t===Zf?ll++:(ll=0,Zf=t):ll=0,os(),null}function Ca(){if(Pi!==null){var t=n3(o0),e=qn.transition,n=$e;try{if(qn.transition=null,$e=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,o0=0,ze&6)throw Error(Z(331));var i=ze;for(ze|=4,ue=t.current;ue!==null;){var s=ue,a=s.child;if(ue.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ue=c;ue!==null;){var h=ue;switch(h.tag){case 0:case 11:case 15:al(8,h,s)}var d=h.child;if(d!==null)d.return=h,ue=d;else for(;ue!==null;){h=ue;var m=h.sibling,g=h.return;if(f6(h),h===c){ue=null;break}if(m!==null){m.return=g,ue=m;break}ue=g}}}var x=s.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}ue=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ue=a;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ue=E;break e}ue=s.return}}var w=t.current;for(ue=w;ue!==null;){a=ue;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,ue=T;else e:for(a=w;ue!==null;){if(o=ue,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:W0(9,o)}}catch(j){pt(o,o.return,j)}if(o===a){ue=null;break e}var B=o.sibling;if(B!==null){B.return=o.return,ue=B;break e}ue=o.return}}if(ze=i,os(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(V0,t)}catch{}r=!0}return r}finally{$e=n,qn.transition=e}}return!1}function s2(t,e,n){e=ja(n,e),e=n6(t,e,1),t=Fi(t,e,1),e=rn(),t!==null&&(Xl(t,1,e),gn(t,e))}function pt(t,e,n){if(t.tag===3)s2(t,t,n);else for(;e!==null;){if(e.tag===3){s2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=ja(n,t),t=r6(e,t,1),e=Fi(e,t,1),t=rn(),e!==null&&(Xl(e,1,t),gn(e,t));break}}e=e.return}}function RE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(zt&n)===n&&(kt===4||kt===3&&(zt&130023424)===zt&&500>gt()-Pm?As(t,0):Rm|=n),gn(t,e)}function S6(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var n=rn();t=Xr(t,e),t!==null&&(Xl(t,e,n),gn(t,n))}function PE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S6(t,n)}function NE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),S6(t,n)}var b6;b6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,wE(t,e,n);fn=!!(t.flags&131072)}else fn=!1,nt&&e.flags&1048576&&A3(e,Jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ec(t,e),t=e.pendingProps;var i=Va(e,Qt.current);Aa(e,n),i=bm(null,e,r,t,i,n);var s=km();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(s=!0,Yc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wm(e),i.updater=$0,e.stateNode=i,i._reactInternals=e,Uf(e,r,t,n),e=Hf(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&dm(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DE(r),t=Zn(r,t),i){case 0:e=qf(null,e,r,t,n);break e;case 1:e=Q4(null,e,r,t,n);break e;case 11:e=G4(null,e,r,t,n);break e;case 14:e=K4(null,e,r,Zn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),qf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),Q4(t,e,r,i,n);case 3:e:{if(o6(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,D3(t,e),t0(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ja(Error(Z(423)),e),e=Y4(t,e,r,n,i);break e}else if(r!==i){i=ja(Error(Z(424)),e),e=Y4(t,e,r,n,i);break e}else for(Cn=Vi(e.stateNode.containerInfo.firstChild),Pn=e,nt=!0,nr=null,n=N3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fa(),r===i){e=Jr(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return O3(e),t===null&&Vf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Mf(r,i)?a=null:s!==null&&Mf(r,s)&&(e.flags|=32),a6(t,e),tn(t,e,a,n),e.child;case 6:return t===null&&Vf(e),null;case 13:return l6(t,e,n);case 4:return _m(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ba(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),G4(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Qe(Zc,r._currentValue),r._currentValue=a,s!==null)if(ar(s.value,a)){if(s.children===i.children&&!pn.current){e=Jr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ff(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Ff(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Aa(e,n),i=$n(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),K4(t,e,r,i,n);case 15:return i6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),Ec(t,e),e.tag=1,mn(r)?(t=!0,Yc(e)):t=!1,Aa(e,n),t6(e,r,i),Uf(e,r,i,n),Hf(null,e,r,!0,t,n);case 19:return u6(t,e,n);case 22:return s6(t,e,n)}throw Error(Z(156,e.tag))};function k6(t,e){return J5(t,e)}function ME(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new ME(t,e,n,r)}function Om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DE(t){if(typeof t=="function")return Om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===em)return 11;if(t===tm)return 14}return 2}function ji(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Om(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case da:return Cs(n.children,i,s,e);case Zp:a=8,i|=8;break;case hf:return t=Un(12,n,e,i|2),t.elementType=hf,t.lanes=s,t;case df:return t=Un(13,n,e,i),t.elementType=df,t.lanes=s,t;case ff:return t=Un(19,n,e,i),t.elementType=ff,t.lanes=s,t;case O5:return K0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M5:a=10;break e;case D5:a=9;break e;case em:a=11;break e;case tm:a=14;break e;case Ei:a=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Un(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cs(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function K0(t,e,n,r){return t=Un(22,t,r,e),t.elementType=O5,t.lanes=n,t.stateNode={isHidden:!1},t}function _d(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function xd(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=td(0),this.expirationTimes=td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=td(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lm(t,e,n,r,i,s,a,o,l){return t=new OE(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(s),t}function LE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T6(t){if(!t)return Yi;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(mn(n))return T3(t,n,e)}return e}function I6(t,e,n,r,i,s,a,o,l){return t=Lm(n,r,!0,t,i,s,a,o,l),t.context=T6(null),n=t.current,r=rn(),i=Ui(n),s=Hr(r,i),s.callback=e??null,Fi(n,s,i),t.current.lanes=i,Xl(t,i,r),gn(t,r),t}function Q0(t,e,n,r){var i=e.current,s=rn(),a=Ui(i);return n=T6(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(i,e,a),t!==null&&(sr(t,i,a,s),wc(t,i,a)),a}function u0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zm(t,e){a2(t,e),(t=t.alternate)&&a2(t,e)}var A6=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vm(t){this._internalRoot=t}Y0.prototype.render=Vm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Q0(t,e,null,null)};Y0.prototype.unmount=Vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ls(function(){Q0(null,t,null,null)}),e[Yr]=null}};function Y0(t){this._internalRoot=t}Y0.prototype.unstable_scheduleHydration=function(t){if(t){var e=s3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&o3(t)}};function Fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function o2(){}function zE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=u0(a);s.call(c)}}var a=I6(e,r,t,0,null,!1,!1,"",o2);return t._reactRootContainer=a,t[Yr]=a.current,kl(t.nodeType===8?t.parentNode:t),Ls(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=u0(l);o.call(c)}}var l=Lm(t,0,!1,null,null,!1,!1,"",o2);return t._reactRootContainer=l,t[Yr]=l.current,kl(t.nodeType===8?t.parentNode:t),Ls(function(){Q0(e,l,n,r)}),l}function J0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=u0(a);o.call(l)}}Q0(e,a,t,i)}else a=zE(n,e,t,i,r);return u0(a)}r3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(im(e,n|1),gn(e,gt()),!(ze&6)&&(qa=gt()+500,os()))}break;case 13:Ls(function(){var r=Xr(t,1);if(r!==null){var i=rn();sr(r,t,1,i)}}),zm(t,1)}};sm=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=rn();sr(e,t,134217728,n)}zm(t,134217728)}};i3=function(t){if(t.tag===13){var e=Ui(t),n=Xr(t,e);if(n!==null){var r=rn();sr(n,t,e,r)}zm(t,e)}};s3=function(){return $e};a3=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};Sf=function(t,e,n){switch(e){case"input":if(gf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=j0(r);if(!i)throw Error(Z(90));z5(r),gf(r,i)}}}break;case"textarea":F5(t,n);break;case"select":e=n.value,e!=null&&ba(t,!!n.multiple,e,!1)}};W5=Nm;G5=Ls;var VE={usingClientEntryPoint:!1,Events:[Zl,ga,j0,H5,$5,Nm]},Bo={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FE={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y5(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{V0=Qu.inject(FE),yr=Qu}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(e))throw Error(Z(200));return LE(t,e,null,n)};Dn.createRoot=function(t,e){if(!Fm(t))throw Error(Z(299));var n=!1,r="",i=A6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lm(t,1,!1,null,null,n,!1,r,i),t[Yr]=e.current,kl(t.nodeType===8?t.parentNode:t),new Vm(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=Y5(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Ls(t)};Dn.hydrate=function(t,e,n){if(!X0(e))throw Error(Z(200));return J0(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!Fm(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=A6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=I6(e,null,t,1,n??null,i,!1,s,a),t[Yr]=e.current,kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Y0(e)};Dn.render=function(t,e,n){if(!X0(e))throw Error(Z(200));return J0(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!X0(t))throw Error(Z(40));return t._reactRootContainer?(Ls(function(){J0(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};Dn.unstable_batchedUpdates=Nm;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!X0(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return J0(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function C6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C6)}catch(t){console.error(t)}}C6(),C5.exports=Dn;var BE=C5.exports,l2=BE;uf.createRoot=l2.createRoot,uf.hydrateRoot=l2.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const u2="popstate";function UE(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return np("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:P6(i)}return qE(e,n,null,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jE(){return Math.random().toString(36).substr(2,8)}function c2(t,e){return{usr:t.state,key:t.key,idx:e}}function np(t,e,n,r){return n===void 0&&(n=null),Dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?io(e):e,{state:n,key:e&&e.key||r||jE()})}function P6(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Ni.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(Dl({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=Ni.Pop;let R=h(),E=R==null?null:R-c;c=R,l&&l({action:o,location:S.location,delta:E})}function m(R,E){o=Ni.Push;let w=np(S.location,R,E);c=h()+1;let T=c2(w,c),B=S.createHref(w);try{a.pushState(T,"",B)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(B)}s&&l&&l({action:o,location:S.location,delta:1})}function g(R,E){o=Ni.Replace;let w=np(S.location,R,E);c=h();let T=c2(w,c),B=S.createHref(w);a.replaceState(T,"",B),s&&l&&l({action:o,location:S.location,delta:0})}function x(R){let E=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof R=="string"?R:P6(R);return w=w.replace(/ $/,"%20"),xt(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let S={get action(){return o},get location(){return t(i,a)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u2,d),l=R,()=>{i.removeEventListener(u2,d),l=null}},createHref(R){return e(i,R)},createURL:x,encodeLocation(R){let E=x(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:g,go(R){return a.go(R)}};return S}var h2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h2||(h2={}));function HE(t,e,n){return n===void 0&&(n="/"),$E(t,e,n)}function $E(t,e,n,r){let i=typeof e=="string"?io(e):e,s=D6(i.pathname||"/",n);if(s==null)return null;let a=N6(t);WE(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=iS(s);o=tS(a[l],c)}return o}function N6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Rs([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(xt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),N6(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:ZE(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of M6(s.path))i(s,a,l)}),e}function M6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=M6(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function WE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GE=/^:[\w-]+$/,KE=3,QE=2,YE=1,XE=10,JE=-2,d2=t=>t==="*";function ZE(t,e){let n=t.split("/"),r=n.length;return n.some(d2)&&(r+=JE),e&&(r+=QE),n.filter(i=>!d2(i)).reduce((i,s)=>i+(GE.test(s)?KE:s===""?YE:XE),r)}function eS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tS(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=nS({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Rs([s,d.pathname]),pathnameBase:lS(Rs([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=Rs([s,d.pathnameBase]))}return a}function nS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let S=o[d]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=o[d];return g&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function rS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D6(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?io(t):t;return{pathname:n?n.startsWith("/")?n:aS(n,e):e,search:uS(r),hash:cS(i)}}function aS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ed(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function O6(t,e){let n=oS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function L6(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=io(t):(i=Dl({},t),xt(!i.pathname||!i.pathname.includes("?"),Ed("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Ed("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Ed("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}o=d>=0?e[d]:"/"}let l=sS(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Rs=t=>t.join("/").replace(/\/\/+/g,"/"),lS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const z6=["post","put","patch","delete"];new Set(z6);const dS=["get",...z6];new Set(dS);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}const Bm=re.createContext(null),fS=re.createContext(null),tu=re.createContext(null),Z0=re.createContext(null),Hs=re.createContext({outlet:null,matches:[],isDataRoute:!1}),V6=re.createContext(null);function nu(){return re.useContext(Z0)!=null}function so(){return nu()||xt(!1),re.useContext(Z0).location}function F6(t){re.useContext(tu).static||re.useLayoutEffect(t)}function ao(){let{isDataRoute:t}=re.useContext(Hs);return t?TS():pS()}function pS(){nu()||xt(!1);let t=re.useContext(Bm),{basename:e,future:n,navigator:r}=re.useContext(tu),{matches:i}=re.useContext(Hs),{pathname:s}=so(),a=JSON.stringify(O6(i,n.v7_relativeSplatPath)),o=re.useRef(!1);return F6(()=>{o.current=!0}),re.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=L6(c,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Rs([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,a,s,t])}function mS(t,e){return gS(t,e)}function gS(t,e,n,r){nu()||xt(!1);let{navigator:i}=re.useContext(tu),{matches:s}=re.useContext(Hs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=so(),h;if(e){var d;let R=typeof e=="string"?io(e):e;l==="/"||(d=R.pathname)!=null&&d.startsWith(l)||xt(!1),h=R}else h=c;let m=h.pathname||"/",g=m;if(l!=="/"){let R=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(R.length).join("/")}let x=HE(t,{pathname:g}),S=xS(x&&x.map(R=>Object.assign({},R,{params:Object.assign({},o,R.params),pathname:Rs([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Rs([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&S?re.createElement(Z0.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ni.Pop}},S):S}function yS(){let t=kS(),e=hS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),n?re.createElement("pre",{style:i},n):null,null)}const vS=re.createElement(yS,null);class wS extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?re.createElement(Hs.Provider,{value:this.props.routeContext},re.createElement(V6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _S(t){let{routeContext:e,match:n,children:r}=t,i=re.useContext(Bm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(Hs.Provider,{value:e},r)}function xS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||xt(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:m,errors:g}=n,x=d.route.loader&&m[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,d,m)=>{let g,x=!1,S=null,R=null;n&&(g=o&&d.route.id?o[d.route.id]:void 0,S=d.route.errorElement||vS,l&&(c<0&&m===0?(x=!0,R=null):c===m&&(x=!0,R=d.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,m+1)),w=()=>{let T;return g?T=S:x?T=R:d.route.Component?T=re.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=h,re.createElement(_S,{match:d,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?re.createElement(wS,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var B6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B6||{}),c0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(c0||{});function ES(t){let e=re.useContext(Bm);return e||xt(!1),e}function SS(t){let e=re.useContext(fS);return e||xt(!1),e}function bS(t){let e=re.useContext(Hs);return e||xt(!1),e}function U6(t){let e=bS(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function kS(){var t;let e=re.useContext(V6),n=SS(c0.UseRouteError),r=U6(c0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TS(){let{router:t}=ES(B6.UseNavigateStable),e=U6(c0.UseNavigateStable),n=re.useRef(!1);return F6(()=>{n.current=!0}),re.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ol({fromRouteId:e},s)))},[t,e])}const f2={};function IS(t,e){f2[e]||(f2[e]=!0,console.warn(e))}const p2=(t,e,n)=>IS(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function AS(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&p2("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&p2("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function CS(t){let{to:e,replace:n,state:r,relative:i}=t;nu()||xt(!1);let{future:s,static:a}=re.useContext(tu),{matches:o}=re.useContext(Hs),{pathname:l}=so(),c=ao(),h=L6(e,O6(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return re.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function aa(t){xt(!1)}function RS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:s,static:a=!1,future:o}=t;nu()&&xt(!1);let l=e.replace(/^\/*/,"/"),c=re.useMemo(()=>({basename:l,navigator:s,static:a,future:Ol({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=io(r));let{pathname:h="/",search:d="",hash:m="",state:g=null,key:x="default"}=r,S=re.useMemo(()=>{let R=D6(h,l);return R==null?null:{location:{pathname:R,search:d,hash:m,state:g,key:x},navigationType:i}},[l,h,d,m,g,x,i]);return S==null?null:re.createElement(tu.Provider,{value:c},re.createElement(Z0.Provider,{children:n,value:S}))}function PS(t){let{children:e,location:n}=t;return mS(rp(e),n)}new Promise(()=>{});function rp(t,e){e===void 0&&(e=[]);let n=[];return re.Children.forEach(t,(r,i)=>{if(!re.isValidElement(r))return;let s=[...e,i];if(r.type===re.Fragment){n.push.apply(n,rp(r.props.children,s));return}r.type!==aa&&xt(!1),!r.props.index||!r.props.children||xt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=rp(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const NS="6";try{window.__reactRouterVersion=NS}catch{}const MS="startTransition",m2=R_[MS];function DS(t){let{basename:e,children:n,future:r,window:i}=t,s=re.useRef();s.current==null&&(s.current=UE({window:i,v5Compat:!0}));let a=s.current,[o,l]=re.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=re.useCallback(d=>{c&&m2?m2(()=>l(d)):l(d)},[l,c]);return re.useLayoutEffect(()=>a.listen(h),[a,h]),re.useEffect(()=>AS(r),[r]),re.createElement(RS,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var g2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(g2||(g2={}));var y2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y2||(y2={}));var v2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},q6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|o>>4;let m=(o&15)<<2|c>>6,g=c&63;l||(g=64,a||(m=64)),r.push(n[h],n[d],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||d==null)throw new LS;const m=s<<2|o>>4;if(r.push(m),c!==64){const g=o<<4&240|c>>2;if(r.push(g),d!==64){const x=c<<6&192|d;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zS=function(t){const e=j6(t);return q6.encodeByteArray(e,!0)},h0=function(t){return zS(t).replace(/\./g,"")},H6=function(t){try{return q6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=()=>VS().__FIREBASE_DEFAULTS__,BS=()=>{if(typeof process>"u"||typeof v2>"u")return;const t=v2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},US=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H6(t[1]);return e&&JSON.parse(e)},eh=()=>{try{return FS()||BS()||US()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$6=t=>{var e,n;return(n=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jS=t=>{const e=$6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W6=()=>{var t;return(t=eh())===null||t===void 0?void 0:t.config},G6=t=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[h0(JSON.stringify(n)),h0(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function WS(){var t;const e=(t=eh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YS(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XS(){return!WS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function ZS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="FirebaseError";class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eb,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?tb(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new oi(i,o,r)}}function tb(t,e){return t.replace(nb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nb=/\{\$([^}]+)}/g;function rb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function d0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(w2(s)&&w2(a)){if(!d0(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Go(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ib(t,e){const n=new sb(t,e);return n.subscribe.bind(n)}class sb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ab(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sd),i.error===void 0&&(i.error=Sd),i.complete===void 0&&(i.complete=Sd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ab(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ub(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lb(t){return t===Es?void 0:t}function ub(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ob(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const hb={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},db=Me.INFO,fb={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},pb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=db,this._logHandler=pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const mb=(t,e)=>e.some(n=>t instanceof n);let _2,x2;function gb(){return _2||(_2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yb(){return x2||(x2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K6=new WeakMap,ip=new WeakMap,Q6=new WeakMap,bd=new WeakMap,jm=new WeakMap;function vb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(qi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&K6.set(n,t)}).catch(()=>{}),jm.set(e,t),e}function wb(t){if(ip.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});ip.set(t,e)}let sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _b(t){sp=t(sp)}function xb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kd(this),e,...n);return Q6.set(r,e.sort?e.sort():[e]),qi(r)}:yb().includes(t)?function(...e){return t.apply(kd(this),e),qi(K6.get(this))}:function(...e){return qi(t.apply(kd(this),e))}}function Eb(t){return typeof t=="function"?xb(t):(t instanceof IDBTransaction&&wb(t),mb(t,gb())?new Proxy(t,sp):t)}function qi(t){if(t instanceof IDBRequest)return vb(t);if(bd.has(t))return bd.get(t);const e=Eb(t);return e!==t&&(bd.set(t,e),jm.set(e,t)),e}const kd=t=>jm.get(t);function Sb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=qi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(qi(a.result),l.oldVersion,l.newVersion,qi(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const bb=["get","getKey","getAll","getAllKeys","count"],kb=["put","add","delete","clear"],Td=new Map;function E2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Td.get(e))return Td.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bb.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return Td.set(e,s),s}_b(t=>({...t,get:(e,n,r)=>E2(e,n)||t.get(e,n,r),has:(e,n)=>!!E2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ib(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ib(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ap="@firebase/app",S2="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Um("@firebase/app"),Ab="@firebase/app-compat",Cb="@firebase/analytics-compat",Rb="@firebase/analytics",Pb="@firebase/app-check-compat",Nb="@firebase/app-check",Mb="@firebase/auth",Db="@firebase/auth-compat",Ob="@firebase/database",Lb="@firebase/data-connect",zb="@firebase/database-compat",Vb="@firebase/functions",Fb="@firebase/functions-compat",Bb="@firebase/installations",Ub="@firebase/installations-compat",jb="@firebase/messaging",qb="@firebase/messaging-compat",Hb="@firebase/performance",$b="@firebase/performance-compat",Wb="@firebase/remote-config",Gb="@firebase/remote-config-compat",Kb="@firebase/storage",Qb="@firebase/storage-compat",Yb="@firebase/firestore",Xb="@firebase/vertexai",Jb="@firebase/firestore-compat",Zb="firebase",ek="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",tk={[ap]:"fire-core",[Ab]:"fire-core-compat",[Rb]:"fire-analytics",[Cb]:"fire-analytics-compat",[Nb]:"fire-app-check",[Pb]:"fire-app-check-compat",[Mb]:"fire-auth",[Db]:"fire-auth-compat",[Ob]:"fire-rtdb",[Lb]:"fire-data-connect",[zb]:"fire-rtdb-compat",[Vb]:"fire-fn",[Fb]:"fire-fn-compat",[Bb]:"fire-iid",[Ub]:"fire-iid-compat",[jb]:"fire-fcm",[qb]:"fire-fcm-compat",[Hb]:"fire-perf",[$b]:"fire-perf-compat",[Wb]:"fire-rc",[Gb]:"fire-rc-compat",[Kb]:"fire-gcs",[Qb]:"fire-gcs-compat",[Yb]:"fire-fst",[Jb]:"fire-fst-compat",[Xb]:"fire-vertex","fire-js":"fire-js",[Zb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map,nk=new Map,lp=new Map;function b2(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ha(t){const e=t.name;if(lp.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of f0.values())b2(n,t);for(const n of nk.values())b2(n,t);return!0}function qm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Br(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new ru("app","Firebase",rk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=ek;function Y6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=W6()),!n)throw Hi.create("no-options");const s=f0.get(i);if(s){if(d0(n,s.options)&&d0(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const a=new cb(i);for(const l of lp.values())a.addComponent(l);const o=new ik(n,r,a);return f0.set(i,o),o}function X6(t=op){const e=f0.get(t);if(!e&&t===op&&W6())return Y6();if(!e)throw Hi.create("no-app",{appName:t});return e}function $i(t,e,n){var r;let i=(r=tk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(o.join(" "));return}Ha(new zs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="firebase-heartbeat-database",ak=1,Ll="firebase-heartbeat-store";let Id=null;function J6(){return Id||(Id=Sb(sk,ak,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Id}async function ok(t){try{const n=(await J6()).transaction(Ll),r=await n.objectStore(Ll).get(Z6(t));return await n.done,r}catch(e){if(e instanceof oi)Zr.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function k2(t,e){try{const r=(await J6()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,Z6(t)),await r.done}catch(n){if(n instanceof oi)Zr.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(r.message)}}}function Z6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=1024,uk=30*24*60*60*1e3;class ck{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=T2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=uk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T2(),{heartbeatsToSend:r,unsentEntries:i}=hk(this._heartbeatsCache.heartbeats),s=h0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zr.warn(n),""}}}function T2(){return new Date().toISOString().substring(0,10)}function hk(t,e=lk){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),I2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?ZS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ok(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function I2(t){return h0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){Ha(new zs("platform-logger",e=>new Tb(e),"PRIVATE")),Ha(new zs("heartbeat",e=>new ck(e),"PRIVATE")),$i(ap,S2,t),$i(ap,S2,"esm2017"),$i("fire-js","")}fk("");var A2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,e7;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function A(){}A.prototype=b.prototype,C.D=b.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(N,M,L){for(var P=Array(arguments.length-2),de=2;de<arguments.length;de++)P[de-2]=arguments[de];return b.prototype[M].apply(N,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,A){A||(A=0);var N=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)N[M]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(M=0;16>M;++M)N[M]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=C.g[0],A=C.g[1],M=C.g[2];var L=C.g[3],P=b+(L^A&(M^L))+N[0]+3614090360&4294967295;b=A+(P<<7&4294967295|P>>>25),P=L+(M^b&(A^M))+N[1]+3905402710&4294967295,L=b+(P<<12&4294967295|P>>>20),P=M+(A^L&(b^A))+N[2]+606105819&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(b^M&(L^b))+N[3]+3250441966&4294967295,A=M+(P<<22&4294967295|P>>>10),P=b+(L^A&(M^L))+N[4]+4118548399&4294967295,b=A+(P<<7&4294967295|P>>>25),P=L+(M^b&(A^M))+N[5]+1200080426&4294967295,L=b+(P<<12&4294967295|P>>>20),P=M+(A^L&(b^A))+N[6]+2821735955&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(b^M&(L^b))+N[7]+4249261313&4294967295,A=M+(P<<22&4294967295|P>>>10),P=b+(L^A&(M^L))+N[8]+1770035416&4294967295,b=A+(P<<7&4294967295|P>>>25),P=L+(M^b&(A^M))+N[9]+2336552879&4294967295,L=b+(P<<12&4294967295|P>>>20),P=M+(A^L&(b^A))+N[10]+4294925233&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(b^M&(L^b))+N[11]+2304563134&4294967295,A=M+(P<<22&4294967295|P>>>10),P=b+(L^A&(M^L))+N[12]+1804603682&4294967295,b=A+(P<<7&4294967295|P>>>25),P=L+(M^b&(A^M))+N[13]+4254626195&4294967295,L=b+(P<<12&4294967295|P>>>20),P=M+(A^L&(b^A))+N[14]+2792965006&4294967295,M=L+(P<<17&4294967295|P>>>15),P=A+(b^M&(L^b))+N[15]+1236535329&4294967295,A=M+(P<<22&4294967295|P>>>10),P=b+(M^L&(A^M))+N[1]+4129170786&4294967295,b=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(b^A))+N[6]+3225465664&4294967295,L=b+(P<<9&4294967295|P>>>23),P=M+(b^A&(L^b))+N[11]+643717713&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^b&(M^L))+N[0]+3921069994&4294967295,A=M+(P<<20&4294967295|P>>>12),P=b+(M^L&(A^M))+N[5]+3593408605&4294967295,b=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(b^A))+N[10]+38016083&4294967295,L=b+(P<<9&4294967295|P>>>23),P=M+(b^A&(L^b))+N[15]+3634488961&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^b&(M^L))+N[4]+3889429448&4294967295,A=M+(P<<20&4294967295|P>>>12),P=b+(M^L&(A^M))+N[9]+568446438&4294967295,b=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(b^A))+N[14]+3275163606&4294967295,L=b+(P<<9&4294967295|P>>>23),P=M+(b^A&(L^b))+N[3]+4107603335&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^b&(M^L))+N[8]+1163531501&4294967295,A=M+(P<<20&4294967295|P>>>12),P=b+(M^L&(A^M))+N[13]+2850285829&4294967295,b=A+(P<<5&4294967295|P>>>27),P=L+(A^M&(b^A))+N[2]+4243563512&4294967295,L=b+(P<<9&4294967295|P>>>23),P=M+(b^A&(L^b))+N[7]+1735328473&4294967295,M=L+(P<<14&4294967295|P>>>18),P=A+(L^b&(M^L))+N[12]+2368359562&4294967295,A=M+(P<<20&4294967295|P>>>12),P=b+(A^M^L)+N[5]+4294588738&4294967295,b=A+(P<<4&4294967295|P>>>28),P=L+(b^A^M)+N[8]+2272392833&4294967295,L=b+(P<<11&4294967295|P>>>21),P=M+(L^b^A)+N[11]+1839030562&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^b)+N[14]+4259657740&4294967295,A=M+(P<<23&4294967295|P>>>9),P=b+(A^M^L)+N[1]+2763975236&4294967295,b=A+(P<<4&4294967295|P>>>28),P=L+(b^A^M)+N[4]+1272893353&4294967295,L=b+(P<<11&4294967295|P>>>21),P=M+(L^b^A)+N[7]+4139469664&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^b)+N[10]+3200236656&4294967295,A=M+(P<<23&4294967295|P>>>9),P=b+(A^M^L)+N[13]+681279174&4294967295,b=A+(P<<4&4294967295|P>>>28),P=L+(b^A^M)+N[0]+3936430074&4294967295,L=b+(P<<11&4294967295|P>>>21),P=M+(L^b^A)+N[3]+3572445317&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^b)+N[6]+76029189&4294967295,A=M+(P<<23&4294967295|P>>>9),P=b+(A^M^L)+N[9]+3654602809&4294967295,b=A+(P<<4&4294967295|P>>>28),P=L+(b^A^M)+N[12]+3873151461&4294967295,L=b+(P<<11&4294967295|P>>>21),P=M+(L^b^A)+N[15]+530742520&4294967295,M=L+(P<<16&4294967295|P>>>16),P=A+(M^L^b)+N[2]+3299628645&4294967295,A=M+(P<<23&4294967295|P>>>9),P=b+(M^(A|~L))+N[0]+4096336452&4294967295,b=A+(P<<6&4294967295|P>>>26),P=L+(A^(b|~M))+N[7]+1126891415&4294967295,L=b+(P<<10&4294967295|P>>>22),P=M+(b^(L|~A))+N[14]+2878612391&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~b))+N[5]+4237533241&4294967295,A=M+(P<<21&4294967295|P>>>11),P=b+(M^(A|~L))+N[12]+1700485571&4294967295,b=A+(P<<6&4294967295|P>>>26),P=L+(A^(b|~M))+N[3]+2399980690&4294967295,L=b+(P<<10&4294967295|P>>>22),P=M+(b^(L|~A))+N[10]+4293915773&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~b))+N[1]+2240044497&4294967295,A=M+(P<<21&4294967295|P>>>11),P=b+(M^(A|~L))+N[8]+1873313359&4294967295,b=A+(P<<6&4294967295|P>>>26),P=L+(A^(b|~M))+N[15]+4264355552&4294967295,L=b+(P<<10&4294967295|P>>>22),P=M+(b^(L|~A))+N[6]+2734768916&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~b))+N[13]+1309151649&4294967295,A=M+(P<<21&4294967295|P>>>11),P=b+(M^(A|~L))+N[4]+4149444226&4294967295,b=A+(P<<6&4294967295|P>>>26),P=L+(A^(b|~M))+N[11]+3174756917&4294967295,L=b+(P<<10&4294967295|P>>>22),P=M+(b^(L|~A))+N[2]+718787259&4294967295,M=L+(P<<15&4294967295|P>>>17),P=A+(L^(M|~b))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var A=b-this.blockSize,N=this.B,M=this.h,L=0;L<b;){if(M==0)for(;L<=A;)i(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(N[M++]=C.charCodeAt(L++),M==this.blockSize){i(this,N),M=0;break}}else for(;L<b;)if(N[M++]=C[L++],M==this.blockSize){i(this,N),M=0;break}}this.h=M,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var A=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=A&255,A/=256;for(this.u(C),C=Array(16),b=A=0;4>b;++b)for(var N=0;32>N;N+=8)C[A++]=this.g[b]>>>N&255;return C};function s(C,b){var A=o;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=b(C)}function a(C,b){this.h=b;for(var A=[],N=!0,M=C.length-1;0<=M;M--){var L=C[M]|0;N&&L==b||(A[M]=L,N=!1)}this.g=A}var o={};function l(C){return-128<=C&&128>C?s(C,function(b){return new a([b|0],0>b?-1:0)}):new a([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return R(c(-C));for(var b=[],A=1,N=0;C>=A;N++)b[N]=C/A|0,A*=4294967296;return new a(b,0)}function h(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return R(h(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(b,8)),N=d,M=0;M<C.length;M+=8){var L=Math.min(8,C.length-M),P=parseInt(C.substring(M,M+L),b);8>L?(L=c(Math.pow(b,L)),N=N.j(L).add(c(P))):(N=N.j(A),N=N.add(c(P)))}return N}var d=l(0),m=l(1),g=l(16777216);t=a.prototype,t.m=function(){if(S(this))return-R(this).m();for(var C=0,b=1,A=0;A<this.g.length;A++){var N=this.i(A);C+=(0<=N?N:4294967296+N)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(S(this))return"-"+R(this).toString(C);for(var b=c(Math.pow(C,6)),A=this,N="";;){var M=B(A,b).g;A=E(A,M.j(b));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=M,x(A))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=E(this,C),S(C)?-1:x(C)?0:1};function R(C){for(var b=C.g.length,A=[],N=0;N<b;N++)A[N]=~C.g[N];return new a(A,~C.h).add(m)}t.abs=function(){return S(this)?R(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],N=0,M=0;M<=b;M++){var L=N+(this.i(M)&65535)+(C.i(M)&65535),P=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);N=P>>>16,L&=65535,P&=65535,A[M]=P<<16|L}return new a(A,A[A.length-1]&-2147483648?-1:0)};function E(C,b){return C.add(R(b))}t.j=function(C){if(x(this)||x(C))return d;if(S(this))return S(C)?R(this).j(R(C)):R(R(this).j(C));if(S(C))return R(this.j(R(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,A=[],N=0;N<2*b;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<C.g.length;M++){var L=this.i(N)>>>16,P=this.i(N)&65535,de=C.i(M)>>>16,ce=C.i(M)&65535;A[2*N+2*M]+=P*ce,w(A,2*N+2*M),A[2*N+2*M+1]+=L*ce,w(A,2*N+2*M+1),A[2*N+2*M+1]+=P*de,w(A,2*N+2*M+1),A[2*N+2*M+2]+=L*de,w(A,2*N+2*M+2)}for(N=0;N<b;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=b;N<2*b;N++)A[N]=0;return new a(A,0)};function w(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function T(C,b){this.g=C,this.h=b}function B(C,b){if(x(b))throw Error("division by zero");if(x(C))return new T(d,d);if(S(C))return b=B(R(C),b),new T(R(b.g),R(b.h));if(S(b))return b=B(C,R(b)),new T(R(b.g),b.h);if(30<C.g.length){if(S(C)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var A=m,N=b;0>=N.l(C);)A=j(A),N=j(N);var M=F(A,1),L=F(N,1);for(N=F(N,2),A=F(A,2);!x(N);){var P=L.add(N);0>=P.l(C)&&(M=M.add(A),L=P),N=F(N,1),A=F(A,1)}return b=E(C,M.j(b)),new T(M,b)}for(M=d;0<=C.l(b);){for(A=Math.max(1,Math.floor(C.m()/b.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=c(A),P=L.j(b);S(P)||0<P.l(C);)A-=N,L=c(A),P=L.j(b);x(L)&&(L=m),M=M.add(L),C=E(C,P)}return new T(M,C)}t.A=function(C){return B(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],N=0;N<b;N++)A[N]=this.i(N)&C.i(N);return new a(A,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],N=0;N<b;N++)A[N]=this.i(N)|C.i(N);return new a(A,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),A=[],N=0;N<b;N++)A[N]=this.i(N)^C.i(N);return new a(A,this.h^C.h)};function j(C){for(var b=C.g.length+1,A=[],N=0;N<b;N++)A[N]=C.i(N)<<1|C.i(N-1)>>>31;return new a(A,C.h)}function F(C,b){var A=b>>5;b%=32;for(var N=C.g.length-A,M=[],L=0;L<N;L++)M[L]=0<b?C.i(L+A)>>>b|C.i(L+A+1)<<32-b:C.i(L+A);return new a(M,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,e7=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Ps=a}).apply(typeof A2<"u"?A2:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t7,Qo,n7,Tc,up,r7,i7,s7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var v=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var q=u[I];if(!(q in v))break e;v=v[q]}u=u[u.length-1],I=v[u],p=p(I),p!=I&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var v=0,I=!1,q={next:function(){if(!I&&v<u.length){var W=v++;return{value:p(W,u[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,v){return u.call.apply(u.bind,arguments)}function d(u,p,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,I),u.apply(p,q)}}return function(){return u.apply(p,arguments)}}function m(u,p,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function g(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function x(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,q,W){for(var se=Array(arguments.length-2),We=2;We<arguments.length;We++)se[We-2]=arguments[We];return p.prototype[q].apply(I,se)}}function S(u){const p=u.length;if(0<p){const v=Array(p);for(let I=0;I<p;I++)v[I]=u[I];return v}return[]}function R(u,p){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(l(I)){const q=u.length||0,W=I.length||0;u.length=q+W;for(let se=0;se<W;se++)u[q+se]=I[se]}else u.push(I)}}class E{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function B(u){return B[" "](u),u}B[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(u,p,v){for(const I in u)p.call(v,u[I],I,u)}function C(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function b(u){const p={};for(const v in u)p[v]=u[v];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,p){let v,I;for(let q=1;q<arguments.length;q++){I=arguments[q];for(v in I)u[v]=I[v];for(let W=0;W<A.length;W++)v=A[W],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function M(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function L(u){o.setTimeout(()=>{throw u},0)}function P(){var u=he;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class de{constructor(){this.h=this.g=null}add(p,v){const I=ce.get();I.set(p,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ce=new E(()=>new Ce,u=>u.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,ne=!1,he=new de,D=()=>{const u=o.Promise.resolve(void 0);Re=()=>{u.then(ke)}};var ke=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){L(v)}var p=ce;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ne=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};o.addEventListener("test",v,p),o.removeEventListener("test",v,p)}catch{}return u}();function tt(u,p){if(V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(j){e:{try{B(p.nodeName);var q=!0;break e}catch{}q=!1}q||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ue[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&tt.aa.h.call(this)}}x(tt,V);var Ue={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function wn(u,p,v,I,q){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!I,this.ha=q,this.key=++Nt,this.da=this.fa=!1}function Bt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yn(u){this.src=u,this.g={},this.h=0}Yn.prototype.add=function(u,p,v,I,q){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var se=fs(u,p,I,q);return-1<se?(p=u[se],v||(p.fa=!1)):(p=new wn(p,this.src,W,!!I,q),p.fa=v,u.push(p)),p};function ds(u,p){var v=p.type;if(v in u.g){var I=u.g[v],q=Array.prototype.indexOf.call(I,p,void 0),W;(W=0<=q)&&Array.prototype.splice.call(I,q,1),W&&(Bt(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function fs(u,p,v,I){for(var q=0;q<u.length;++q){var W=u[q];if(!W.da&&W.listener==p&&W.capture==!!v&&W.ha==I)return q}return-1}var Cr="closure_lm_"+(1e6*Math.random()|0),Rr={};function ui(u,p,v,I,q){if(Array.isArray(p)){for(var W=0;W<p.length;W++)ui(u,p[W],v,I,q);return null}return v=yu(v),u&&u[ht]?u.K(p,v,c(I)?!!I.capture:!1,q):ci(u,p,v,!1,I,q)}function ci(u,p,v,I,q,W){if(!p)throw Error("Invalid event type");var se=c(q)?!!q.capture:!!q,We=wo(u);if(We||(u[Cr]=We=new Yn(u)),v=We.add(p,v,I,se,W),v.proxy)return v;if(I=hi(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)Xe||(q=se),q===void 0&&(q=!1),u.addEventListener(p.toString(),I,q);else if(u.attachEvent)u.attachEvent(gu(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function hi(){function u(v){return p.call(u.src,u.listener,v)}const p=Oh;return u}function lr(u,p,v,I,q){if(Array.isArray(p))for(var W=0;W<p.length;W++)lr(u,p[W],v,I,q);else I=c(I)?!!I.capture:!!I,v=yu(v),u&&u[ht]?(u=u.i,p=String(p).toString(),p in u.g&&(W=u.g[p],v=fs(W,v,I,q),-1<v&&(Bt(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[p],u.h--)))):u&&(u=wo(u))&&(p=u.g[p.toString()],u=-1,p&&(u=fs(p,v,I,q)),(v=-1<u?p[u]:null)&&Js(v))}function Js(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ht])ds(p.i,u);else{var v=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(v,I,u.capture):p.detachEvent?p.detachEvent(gu(v),I):p.addListener&&p.removeListener&&p.removeListener(I),(v=wo(p))?(ds(v,u),v.h==0&&(v.src=null,p[Cr]=null)):Bt(u)}}}function gu(u){return u in Rr?Rr[u]:Rr[u]="on"+u}function Oh(u,p){if(u.da)u=!0;else{p=new tt(p,this);var v=u.listener,I=u.ha||u.src;u.fa&&Js(u),u=v.call(I,p)}return u}function wo(u){return u=u[Cr],u instanceof Yn?u:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(p){return u.handleEvent(p)}),u[_o])}function G(){we.call(this),this.i=new Yn(this),this.M=this,this.F=null}x(G,we),G.prototype[ht]=!0,G.prototype.removeEventListener=function(u,p,v,I){lr(this,u,p,v,I)};function J(u,p){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new V(p,u);else if(p instanceof V)p.target=p.target||u;else{var q=p;p=new V(I,u),N(p,q)}if(q=!0,v)for(var W=v.length-1;0<=W;W--){var se=p.g=v[W];q=_e(se,I,!0,p)&&q}if(se=p.g=u,q=_e(se,I,!0,p)&&q,q=_e(se,I,!1,p)&&q,v)for(W=0;W<v.length;W++)se=p.g=v[W],q=_e(se,I,!1,p)&&q}G.prototype.N=function(){if(G.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],I=0;I<v.length;I++)Bt(v[I]);delete u.g[p],u.h--}}this.F=null},G.prototype.K=function(u,p,v,I){return this.i.add(String(u),p,!1,v,I)},G.prototype.L=function(u,p,v,I){return this.i.add(String(u),p,!0,v,I)};function _e(u,p,v,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,W=0;W<p.length;++W){var se=p[W];if(se&&!se.da&&se.capture==v){var We=se.listener,Mt=se.ha||se.src;se.fa&&ds(u.i,se),q=We.call(Mt,I)!==!1&&q}}return q&&!I.defaultPrevented}function Pe(u,p,v){if(typeof u=="function")v&&(u=m(u,v));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(u,p||0)}function je(u){u.g=Pe(()=>{u.g=null,u.i&&(u.i=!1,je(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class _n extends we{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(u){we.call(this),this.h=u,this.g={}}x(xn,we);var zn=[];function di(u){F(u.g,function(p,v){this.g.hasOwnProperty(v)&&Js(p)},u),u.g={}}xn.prototype.N=function(){xn.aa.N.call(this),di(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pr=o.JSON.stringify,Jt=o.JSON.parse,fi=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function En(){}En.prototype.h=null;function lg(u){return u.h||(u.h=u.i())}function ug(){}var xo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lh(){V.call(this,"d")}x(Lh,V);function zh(){V.call(this,"c")}x(zh,V);var ps={},cg=null;function vu(){return cg=cg||new G}ps.La="serverreachability";function hg(u){V.call(this,ps.La,u)}x(hg,V);function Eo(u){const p=vu();J(p,new hg(p))}ps.STAT_EVENT="statevent";function dg(u,p){V.call(this,ps.STAT_EVENT,u),this.stat=p}x(dg,V);function Zt(u){const p=vu();J(p,new dg(p,u))}ps.Ma="timingevent";function fg(u,p){V.call(this,ps.Ma,u),this.size=p}x(fg,V);function So(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function bo(){this.g=!0}bo.prototype.xa=function(){this.g=!1};function $9(u,p,v,I,q,W){u.info(function(){if(u.g)if(W)for(var se="",We=W.split("&"),Mt=0;Mt<We.length;Mt++){var Fe=We[Mt].split("=");if(1<Fe.length){var Ut=Fe[0];Fe=Fe[1];var jt=Ut.split("_");se=2<=jt.length&&jt[1]=="type"?se+(Ut+"="+Fe+"&"):se+(Ut+"=redacted&")}}else se=null;else se=W;return"XMLHTTP REQ ("+I+") [attempt "+q+"]: "+p+`
`+v+`
`+se})}function W9(u,p,v,I,q,W,se){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+q+"]: "+p+`
`+v+`
`+W+" "+se})}function Zs(u,p,v,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+K9(u,v)+(I?" "+I:"")})}function G9(u,p){u.info(function(){return"TIMEOUT: "+p})}bo.prototype.info=function(){};function K9(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var q=I[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var se=1;se<q.length;se++)q[se]=""}}}}return Pr(v)}catch{return p}}var wu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vh;function _u(){}x(_u,En),_u.prototype.g=function(){return new XMLHttpRequest},_u.prototype.i=function(){return{}},Vh=new _u;function pi(u,p,v,I){this.j=u,this.i=p,this.l=v,this.R=I||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mg}function mg(){this.i=null,this.g="",this.h=!1}var gg={},Fh={};function Bh(u,p,v){u.L=1,u.v=bu(Nr(p)),u.m=v,u.P=!0,yg(u,null)}function yg(u,p){u.F=Date.now(),xu(u),u.A=Nr(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Pg(v.i,"t",I),u.C=0,v=u.j.J,u.h=new mg,u.g=Qg(u.j,v?p:null,!u.m),0<u.O&&(u.M=new _n(m(u.Y,u,u.g),u.O)),p=u.U,v=u.g,I=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(zn[0]=q.toString()),q=zn);for(var W=0;W<q.length;W++){var se=ui(v,q[W],I||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Eo(),$9(u.i,u.u,u.A,u.l,u.R,u.m)}pi.prototype.ca=function(u){u=u.target;const p=this.M;p&&Mr(u)==3?p.j():this.Y(u)},pi.prototype.Y=function(u){try{if(u==this.g)e:{const jt=Mr(this.g);var p=this.g.Ba();const na=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Vg(this.g)))){this.J||jt!=4||p==7||(p==8||0>=na?Eo(3):Eo(2)),Uh(this);var v=this.g.Z();this.X=v;t:if(vg(this)){var I=Vg(this.g);u="";var q=I.length,W=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),ko(this);var se="";break t}this.h.i=new o.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(W&&p==q-1)});I.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,W9(this.i,this.u,this.A,this.l,this.R,jt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Mt=this.g;if((We=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(We)){var Fe=We;break t}}Fe=null}if(v=Fe)Zs(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jh(this,v);else{this.o=!1,this.s=3,Zt(12),ms(this),ko(this);break e}}if(this.P){v=!0;let Xn;for(;!this.J&&this.C<se.length;)if(Xn=Q9(this,se),Xn==Fh){jt==4&&(this.s=4,Zt(14),v=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==gg){this.s=4,Zt(15),Zs(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Zs(this.i,this.l,Xn,null),jh(this,Xn);if(vg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||se.length!=0||this.h.h||(this.s=1,Zt(16),v=!1),this.o=this.o&&v,!v)Zs(this.i,this.l,se,"[Invalid Chunked Response]"),ms(this),ko(this);else if(0<se.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Kh(Ut),Ut.M=!0,Zt(11))}}else Zs(this.i,this.l,se,null),jh(this,se);jt==4&&ms(this),this.o&&!this.J&&(jt==4?$g(this.j,this):(this.o=!1,xu(this)))}else d_(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),ms(this),ko(this)}}}catch{}finally{}};function vg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Q9(u,p){var v=u.C,I=p.indexOf(`
`,v);return I==-1?Fh:(v=Number(p.substring(v,I)),isNaN(v)?gg:(I+=1,I+v>p.length?Fh:(p=p.slice(I,I+v),u.C=I+v,p)))}pi.prototype.cancel=function(){this.J=!0,ms(this)};function xu(u){u.S=Date.now()+u.I,wg(u,u.I)}function wg(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=So(m(u.ba,u),p)}function Uh(u){u.B&&(o.clearTimeout(u.B),u.B=null)}pi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(G9(this.i,this.A),this.L!=2&&(Eo(),Zt(17)),ms(this),this.s=2,ko(this)):wg(this,this.S-u)};function ko(u){u.j.G==0||u.J||$g(u.j,u)}function ms(u){Uh(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,di(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function jh(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||qh(v.h,u))){if(!u.K&&qh(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var q=I;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ru(v),Au(v);else break e;Gh(v),Zt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=So(m(v.Za,v),6e3));if(1>=Eg(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ys(v,11)}else if((u.K||v.g==u)&&Ru(v),!w(p))for(q=v.Da.g.parse(p),p=0;p<q.length;p++){let Fe=q[p];if(v.T=Fe[0],Fe=Fe[1],v.G==2)if(Fe[0]=="c"){v.K=Fe[1],v.ia=Fe[2];const Ut=Fe[3];Ut!=null&&(v.la=Ut,v.j.info("VER="+v.la));const jt=Fe[4];jt!=null&&(v.Aa=jt,v.j.info("SVER="+v.Aa));const na=Fe[5];na!=null&&typeof na=="number"&&0<na&&(I=1.5*na,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Xn=u.g;if(Xn){const Nu=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nu){var W=I.h;W.g||Nu.indexOf("spdy")==-1&&Nu.indexOf("quic")==-1&&Nu.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Hh(W,W.h),W.h=null))}if(I.D){const Qh=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(I.ya=Qh,Je(I.I,I.D,Qh))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var se=u;if(I.qa=Kg(I,I.J?I.ia:null,I.W),se.K){Sg(I.h,se);var We=se,Mt=I.L;Mt&&(We.I=Mt),We.B&&(Uh(We),xu(We)),I.g=se}else qg(I);0<v.i.length&&Cu(v)}else Fe[0]!="stop"&&Fe[0]!="close"||ys(v,7);else v.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ys(v,7):Wh(v):Fe[0]!="noop"&&v.l&&v.l.ta(Fe),v.v=0)}}Eo(4)}catch{}}var Y9=class{constructor(u,p){this.g=u,this.map=p}};function _g(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Eg(u){return u.h?1:u.g?u.g.size:0}function qh(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Hh(u,p){u.g?u.g.add(p):u.h=p}function Sg(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}_g.prototype.cancel=function(){if(this.i=bg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return S(u.i)}function X9(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],v=u.length,I=0;I<v;I++)p.push(u[I]);return p}p=[],v=0;for(I in u)p[v++]=u[I];return p}function J9(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const I in u)p[v++]=I;return p}}}function kg(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=J9(u),I=X9(u),q=I.length,W=0;W<q;W++)p.call(void 0,I[W],v&&v[W],u)}var Tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z9(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),q=null;if(0<=I){var W=u[v].substring(0,I);q=u[v].substring(I+1)}else W=u[v];p(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gs){this.h=u.h,Eu(this,u.j),this.o=u.o,this.g=u.g,Su(this,u.s),this.l=u.l;var p=u.i,v=new Ao;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Ig(this,v),this.m=u.m}else u&&(p=String(u).match(Tg))?(this.h=!1,Eu(this,p[1]||"",!0),this.o=To(p[2]||""),this.g=To(p[3]||"",!0),Su(this,p[4]),this.l=To(p[5]||"",!0),Ig(this,p[6]||"",!0),this.m=To(p[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}gs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Io(p,Ag,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Io(p,Ag,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Io(v,v.charAt(0)=="/"?n_:t_,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Io(v,i_)),u.join("")};function Nr(u){return new gs(u)}function Eu(u,p,v){u.j=v?To(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Su(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Ig(u,p,v){p instanceof Ao?(u.i=p,s_(u.i,u.h)):(v||(p=Io(p,r_)),u.i=new Ao(p,u.h))}function Je(u,p,v){u.i.set(p,v)}function bu(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function To(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Io(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,e_),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function e_(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ag=/[#\/\?@]/g,t_=/[#\?:]/g,n_=/[#\?]/g,r_=/[#\?@]/g,i_=/#/g;function Ao(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function mi(u){u.g||(u.g=new Map,u.h=0,u.i&&Z9(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Ao.prototype,t.add=function(u,p){mi(this),this.i=null,u=ea(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function Cg(u,p){mi(u),p=ea(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Rg(u,p){return mi(u),p=ea(u,p),u.g.has(p)}t.forEach=function(u,p){mi(this),this.g.forEach(function(v,I){v.forEach(function(q){u.call(p,q,I,this)},this)},this)},t.na=function(){mi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let I=0;I<p.length;I++){const q=u[I];for(let W=0;W<q.length;W++)v.push(p[I])}return v},t.V=function(u){mi(this);let p=[];if(typeof u=="string")Rg(this,u)&&(p=p.concat(this.g.get(ea(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},t.set=function(u,p){return mi(this),this.i=null,u=ea(this,u),Rg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Pg(u,p,v){Cg(u,p),0<v.length&&(u.i=null,u.g.set(ea(u,p),S(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var I=p[v];const W=encodeURIComponent(String(I)),se=this.V(I);for(I=0;I<se.length;I++){var q=W;se[I]!==""&&(q+="="+encodeURIComponent(String(se[I]))),u.push(q)}}return this.i=u.join("&")};function ea(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function s_(u,p){p&&!u.j&&(mi(u),u.i=null,u.g.forEach(function(v,I){var q=I.toLowerCase();I!=q&&(Cg(this,I),Pg(this,q,v))},u)),u.j=p}function a_(u,p){const v=new bo;if(o.Image){const I=new Image;I.onload=g(gi,v,"TestLoadImage: loaded",!0,p,I),I.onerror=g(gi,v,"TestLoadImage: error",!1,p,I),I.onabort=g(gi,v,"TestLoadImage: abort",!1,p,I),I.ontimeout=g(gi,v,"TestLoadImage: timeout",!1,p,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function o_(u,p){const v=new bo,I=new AbortController,q=setTimeout(()=>{I.abort(),gi(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(W=>{clearTimeout(q),W.ok?gi(v,"TestPingServer: ok",!0,p):gi(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),gi(v,"TestPingServer: error",!1,p)})}function gi(u,p,v,I,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),I(v)}catch{}}function l_(){this.g=new fi}function u_(u,p,v){const I=v||"";try{kg(u,function(q,W){let se=q;c(q)&&(se=Pr(q)),p.push(I+W+"="+encodeURIComponent(se))})}catch(q){throw p.push(I+"type="+encodeURIComponent("_badmap")),q}}function ku(u){this.l=u.Ub||null,this.j=u.eb||!1}x(ku,En),ku.prototype.g=function(){return new Tu(this.l,this.j)},ku.prototype.i=function(u){return function(){return u}}({});function Tu(u,p){G.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Tu,G),t=Tu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Ro(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ng(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ng(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Co(this):Ro(this),this.readyState==3&&Ng(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Co(this))},t.Qa=function(u){this.g&&(this.response=u,Co(this))},t.ga=function(){this.g&&Co(this)};function Co(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ro(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function Ro(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Mg(u){let p="";return F(u,function(v,I){p+=I,p+=":",p+=v,p+=`\r
`}),p}function $h(u,p,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Mg(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Je(u,p,v))}function dt(u){G.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(dt,G);var c_=/^https?$/i,h_=["POST","PUT"];t=dt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vh.g(),this.v=this.o?lg(this.o):lg(Vh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(W){Dg(this,W);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var q in I)v.set(q,I[q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())v.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),q=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(h_,p,void 0))||I||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,se]of v)this.g.setRequestHeader(W,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zg(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Dg(this,W)}};function Dg(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Og(u),Iu(u)}function Og(u){u.A||(u.A=!0,J(u,"complete"),J(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,J(this,"complete"),J(this,"abort"),Iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Iu(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lg(this):this.bb())},t.bb=function(){Lg(this)};function Lg(u){if(u.h&&typeof a<"u"&&(!u.v[1]||Mr(u)!=4||u.Z()!=2)){if(u.u&&Mr(u)==4)Pe(u.Ea,0,u);else if(J(u,"readystatechange"),Mr(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var I;if(I=se===0){var q=String(u.D).match(Tg)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),I=!c_.test(q?q.toLowerCase():"")}v=I}if(v)J(u,"complete"),J(u,"success");else{u.m=6;try{var W=2<Mr(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Og(u)}}finally{Iu(u)}}}}function Iu(u,p){if(u.g){zg(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||J(u,"ready");try{v.onreadystatechange=I}catch{}}}function zg(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Mr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Jt(p)}};function Vg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function d_(u){const p={};u=(u.g&&2<=Mr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(w(u[I]))continue;var v=M(u[I]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=p[q]||[];p[q]=W,W.push(v)}C(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Fg(u){this.Aa=0,this.i=[],this.j=new bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,u),this.cb=Po("retryDelaySeedMs",1e4,u),this.Wa=Po("forwardChannelMaxRetries",2,u),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _g(u&&u.concurrentRequestLimit),this.Da=new l_,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fg.prototype,t.la=8,t.G=1,t.connect=function(u,p,v,I){Zt(0),this.W=u,this.H=p||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Kg(this,null,this.W),Cu(this)};function Wh(u){if(Bg(u),u.G==3){var p=u.U++,v=Nr(u.I);if(Je(v,"SID",u.K),Je(v,"RID",p),Je(v,"TYPE","terminate"),No(u,v),p=new pi(u,u.j,p),p.L=2,p.v=bu(Nr(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&o.Image&&(new Image().src=p.v,v=!0),v||(p.g=Qg(p.j,null),p.g.ea(p.v)),p.F=Date.now(),xu(p)}Gg(u)}function Au(u){u.g&&(Kh(u),u.g.cancel(),u.g=null)}function Bg(u){Au(u),u.u&&(o.clearTimeout(u.u),u.u=null),Ru(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function Cu(u){if(!xg(u.h)&&!u.s){u.s=!0;var p=u.Ga;Re||D(),ne||(Re(),ne=!0),he.add(p,u),u.B=0}}function f_(u,p){return Eg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=So(m(u.Ga,u,p),Wg(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new pi(this,this.j,u);let W=this.o;if(this.S&&(W?(W=b(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=jg(this,q,p),v=Nr(this.I),Je(v,"RID",u),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),No(this,v),W&&(this.O?p="headers="+encodeURIComponent(String(Mg(W)))+"&"+p:this.m&&$h(v,this.m,W)),Hh(this.h,q),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",p),Je(v,"SID","null"),q.T=!0,Bh(q,v,null)):Bh(q,v,p),this.G=2}}else this.G==3&&(u?Ug(this,u):this.i.length==0||xg(this.h)||Ug(this))};function Ug(u,p){var v;p?v=p.l:v=u.U++;const I=Nr(u.I);Je(I,"SID",u.K),Je(I,"RID",v),Je(I,"AID",u.T),No(u,I),u.m&&u.o&&$h(I,u.m,u.o),v=new pi(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=jg(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Hh(u.h,v),Bh(v,I,p)}function No(u,p){u.H&&F(u.H,function(v,I){Je(p,I,v)}),u.l&&kg({},function(v,I){Je(p,I,v)})}function jg(u,p,v){v=Math.min(u.i.length,v);var I=u.l?m(u.l.Na,u.l,u):null;e:{var q=u.i;let W=-1;for(;;){const se=["count="+v];W==-1?0<v?(W=q[0].g,se.push("ofs="+W)):W=0:se.push("ofs="+W);let We=!0;for(let Mt=0;Mt<v;Mt++){let Fe=q[Mt].g;const Ut=q[Mt].map;if(Fe-=W,0>Fe)W=Math.max(0,q[Mt].g-100),We=!1;else try{u_(Ut,se,"req"+Fe+"_")}catch{I&&I(Ut)}}if(We){I=se.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,I}function qg(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Re||D(),ne||(Re(),ne=!0),he.add(p,u),u.v=0}}function Gh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=So(m(u.Fa,u),Wg(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Hg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=So(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Au(this),Hg(this))};function Kh(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function Hg(u){u.g=new pi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Nr(u.qa);Je(p,"RID","rpc"),Je(p,"SID",u.K),Je(p,"AID",u.T),Je(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(p,"TO",u.ja),Je(p,"TYPE","xmlhttp"),No(u,p),u.m&&u.o&&$h(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=bu(Nr(p)),v.m=null,v.P=!0,yg(v,u)}t.Za=function(){this.C!=null&&(this.C=null,Au(this),Gh(this),Zt(19))};function Ru(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function $g(u,p){var v=null;if(u.g==p){Ru(u),Kh(u),u.g=null;var I=2}else if(qh(u.h,p))v=p.D,Sg(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var q=u.B;I=vu(),J(I,new fg(I,v)),Cu(u)}else qg(u);else if(q=p.s,q==3||q==0&&0<p.X||!(I==1&&f_(u,p)||I==2&&Gh(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),q){case 1:ys(u,5);break;case 4:ys(u,10);break;case 3:ys(u,6);break;default:ys(u,2)}}}function Wg(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function ys(u,p){if(u.j.info("Error code "+p),p==2){var v=m(u.fb,u),I=u.Xa;const q=!I;I=new gs(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Eu(I,"https"),bu(I),q?a_(I.toString(),v):o_(I.toString(),v)}else Zt(2);u.G=0,u.l&&u.l.sa(p),Gg(u),Bg(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Gg(u){if(u.G=0,u.ka=[],u.l){const p=bg(u.h);(p.length!=0||u.i.length!=0)&&(R(u.ka,p),R(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function Kg(u,p,v){var I=v instanceof gs?Nr(v):new gs(v);if(I.g!="")p&&(I.g=p+"."+I.g),Su(I,I.s);else{var q=o.location;I=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var W=new gs(null);I&&Eu(W,I),p&&(W.g=p),q&&Su(W,q),v&&(W.l=v),I=W}return v=u.D,p=u.ya,v&&p&&Je(I,v,p),Je(I,"VER",u.la),No(u,I),I}function Qg(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new dt(new ku({eb:v})):new dt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yg(){}t=Yg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pu(){}Pu.prototype.g=function(u,p){return new Sn(u,p)};function Sn(u,p){G.call(this),this.g=new Fg(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ta(this)}x(Sn,G),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Wh(this.g)},Sn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Pr(u),u=v);p.i.push(new Y9(p.Ya++,u)),p.G==3&&Cu(p)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Wh(this.g),delete this.g,Sn.aa.N.call(this)};function Xg(u){Lh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}x(Xg,Lh);function Jg(){zh.call(this),this.status=1}x(Jg,zh);function ta(u){this.g=u}x(ta,Yg),ta.prototype.ua=function(){J(this.g,"a")},ta.prototype.ta=function(u){J(this.g,new Xg(u))},ta.prototype.sa=function(u){J(this.g,new Jg)},ta.prototype.ra=function(){J(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,s7=function(){return new Pu},i7=function(){return vu()},r7=ps,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wu.NO_ERROR=0,wu.TIMEOUT=8,wu.HTTP_ERROR=6,Tc=wu,pg.COMPLETE="complete",n7=pg,ug.EventType=xo,xo.OPEN="a",xo.CLOSE="b",xo.ERROR="c",xo.MESSAGE="d",G.prototype.listen=G.prototype.K,Qo=ug,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,t7=dt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const C2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Um("@firebase/firestore");function oa(){return Vs.logLevel}function le(t,...e){if(Vs.logLevel<=Me.DEBUG){const n=e.map(Hm);Vs.debug(`Firestore (${lo}): ${t}`,...n)}}function ei(t,...e){if(Vs.logLevel<=Me.ERROR){const n=e.map(Hm);Vs.error(`Firestore (${lo}): ${t}`,...n)}}function $a(t,...e){if(Vs.logLevel<=Me.WARN){const n=e.map(Hm);Vs.warn(`Firestore (${lo}): ${t}`,...n)}}function Hm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function He(t,e){t||Se()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class mk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gk{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $r,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $r)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new a7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Wt(e)}}class yk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _k{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){He(this.o===void 0);const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new wk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Tt(0,0))}static max(){return new be(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends zl{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const Ek=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends zl{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return Ek.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}function Sk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new Xi(i,ve.empty(),e)}function bk(t){return new Xi(t.readTime,t.key,-1)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(be.min(),ve.empty(),-1)}static max(){return new Xi(be.max(),ve.empty(),-1)}}function kk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==Tk)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ak(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function co(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}th.oe=-1;function nh(t){return t==null}function p0(t){return t===0&&1/t==-1/0}function Ck(t){return typeof t=="number"&&Number.isInteger(t)&&!p0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R2(e)),e=Pk(t.get(n),e);return R2(e)}function Pk(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function R2(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N2(this.data.getIterator())}getIteratorFrom(e){return new N2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class N2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new rr([])}unionWith(e){let n=new It(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u7("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Nk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(He(!!t),typeof t=="string"){let e=0;const n=Nk.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rh(t){const e=t.mapValue.fields.__previous_value__;return $m(e)?rh(e):e}function Vl(t){const e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r,i,s,a,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class Fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$m(t)?4:Ok(t)?9007199254740991:Dk(t)?10:11:Se()}function Sr(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ji(i.timestampValue),o=Ji(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zi(i.bytesValue).isEqual(Zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=mt(i.doubleValue),o=mt(s.doubleValue);return a===o?p0(a)===p0(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(P2(a)!==P2(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Sr(a[l],o[l])))return!1;return!0}(t,e);default:return Se()}}function Bl(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Ga(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=mt(s.integerValue||s.doubleValue),l=mt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return M2(t.timestampValue,e.timestampValue);case 4:return M2(Vl(t),Vl(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Zi(s),l=Zi(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Oe(o[c],l[c]);if(h!==0)return h}return Oe(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Oe(mt(s.latitude),mt(a.latitude));return o!==0?o:Oe(mt(s.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return D2(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,h;const d=s.fields||{},m=a.fields||{},g=(o=d.value)===null||o===void 0?void 0:o.arrayValue,x=(l=m.value)===null||l===void 0?void 0:l.arrayValue,S=Oe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:D2(g,x)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ju.mapValue&&a===Ju.mapValue)return 0;if(s===Ju.mapValue)return 1;if(a===Ju.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=Oe(l[d],h[d]);if(m!==0)return m;const g=Ga(o[l[d]],c[h[d]]);if(g!==0)return g}return Oe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Se()}}function M2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ji(t),r=Ji(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function D2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ga(n[i],r[i]);if(s)return s}return Oe(n.length,r.length)}function Ka(t){return cp(t)}function cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=cp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${cp(n.fields[a])}`;return i+"}"}(t.mapValue):Se()}function Ic(t){switch(es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rh(t);return e?16+Ic(e):16;case 5:return 2*t.stringValue.length;case 6:return Zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ic(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ls(r.fields,(s,a)=>{i+=s.length+Ic(a)}),i}(t.mapValue);default:throw Se()}}function hp(t){return!!t&&"integerValue"in t}function Wm(t){return!!t&&"arrayValue"in t}function O2(t){return!!t&&"nullValue"in t}function L2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ac(t){return!!t&&"mapValue"in t}function Dk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ul(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ul(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ok(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ac(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=ul(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ac(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new In(ul(this.value))}}function c7(t){const e=[];return ls(t.fields,(n,r)=>{const i=new Lt([n]);if(Ac(r)){const s=c7(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Kt(e,0,be.min(),be.min(),be.min(),In.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,be.min(),be.min(),In.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,be.min(),be.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.position=e,this.inclusive=n}}function z2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(a.referenceValue),n.key):r=Ga(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function V2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{}class bt extends h7{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vk(e,n,r):n==="array-contains"?new Uk(e,r):n==="in"?new jk(e,r):n==="not-in"?new qk(e,r):n==="array-contains-any"?new Hk(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Fk(e,r):new Bk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends h7{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new br(e,n)}matches(e){return d7(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d7(t){return t.op==="and"}function f7(t){return zk(t)&&d7(t)}function zk(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function dp(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Ka(t.value);if(f7(t))return t.filters.map(e=>dp(e)).join(",");{const e=t.filters.map(n=>dp(n)).join(",");return`${t.op}(${e})`}}function p7(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&Sr(r.value,i.value)}(t,e):t instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&p7(a,i.filters[o]),!0):!1}(t,e):void Se()}function m7(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ka(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(m7).join(" ,")+"}"}(t):"Filter"}class Vk extends bt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fk extends bt{constructor(e,n){super(e,"in",n),this.keys=g7("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bk extends bt{constructor(e,n){super(e,"not-in",n),this.keys=g7("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g7(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class Uk extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&Bl(n.arrayValue,this.value)}}class jk extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class qk extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}}class Hk extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function F2(t,e=null,n=[],r=[],i=null,s=null,a=null){return new $k(t,e,n,r,i,s,a)}function Gm(t){const e=Te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ka(r)).join(",")),e.ue=n}return e.ue}function Km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p7(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V2(t.startAt,e.startAt)&&V2(t.endAt,e.endAt)}function fp(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Wk(t,e,n,r,i,s,a,o){return new ih(t,e,n,r,i,s,a,o)}function Qm(t){return new ih(t)}function B2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gk(t){return t.collectionGroup!==null}function cl(t){const e=Te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new It(Lt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new g0(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new g0(Lt.keyField(),r))}return e.ce}function wr(t){const e=Te(t);return e.le||(e.le=Kk(e,cl(t))),e.le}function Kk(t,e){if(t.limitType==="F")return F2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new g0(i.field,s)});const n=t.endAt?new m0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new m0(t.startAt.position,t.startAt.inclusive):null;return F2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pp(t,e,n){return new ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return Km(wr(t),wr(e))&&t.limitType===e.limitType}function y7(t){return`${Gm(wr(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m7(i)).join(", ")}]`),nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ka(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ka(i)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of cl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=z2(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,cl(r),i)||r.endAt&&!function(a,o,l){const c=z2(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,cl(r),i))}(t,e)}function Qk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v7(t){return(e,n)=>{let r=!1;for(const i of cl(t)){const s=Yk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Yk(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Ga(l,c):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new ct(ve.comparator);function ti(){return Xk}const w7=new ct(ve.comparator);function Yo(...t){let e=w7;for(const n of t)e=e.insert(n.key,n);return e}function _7(t){let e=w7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return hl()}function x7(){return hl()}function hl(){return new $s(t=>t.toString(),(t,e)=>t.isEqual(e))}const Jk=new ct(ve.comparator),Zk=new It(ve.comparator);function De(...t){let e=Zk;for(const n of t)e=e.add(n);return e}const eT=new It(Oe);function tT(){return eT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:p0(e)?"-0":e}}function E7(t){return{integerValue:""+t}}function nT(t,e){return Ck(e)?E7(e):Ym(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function rT(t,e,n){return t instanceof y0?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$m(s)&&(s=rh(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Ul?b7(t,e):t instanceof jl?k7(t,e):function(i,s){const a=S7(i,s),o=U2(a)+U2(i.Pe);return hp(a)&&hp(i.Pe)?E7(o):Ym(i.serializer,o)}(t,e)}function iT(t,e,n){return t instanceof Ul?b7(t,e):t instanceof jl?k7(t,e):n}function S7(t,e){return t instanceof v0?function(r){return hp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class y0 extends oh{}class Ul extends oh{constructor(e){super(),this.elements=e}}function b7(t,e){const n=T7(e);for(const r of t.elements)n.some(i=>Sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jl extends oh{constructor(e){super(),this.elements=e}}function k7(t,e){let n=T7(e);for(const r of t.elements)n=n.filter(i=>!Sr(i,r));return{arrayValue:{values:n}}}class v0 extends oh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function U2(t){return mt(t.integerValue||t.doubleValue)}function T7(t){return Wm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sT(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ul&&i instanceof Ul||r instanceof jl&&i instanceof jl?Wa(r.elements,i.elements,Sr):r instanceof v0&&i instanceof v0?Sr(r.Pe,i.Pe):r instanceof y0&&i instanceof y0}(t.transform,e.transform)}class aT{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lh{}function I7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C7(t.key,Wr.none()):new uh(t.key,t.data,Wr.none());{const n=t.data,r=In.empty();let i=new It(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ws(t.key,r,new rr(i.toArray()),Wr.none())}}function oT(t,e,n){t instanceof uh?function(i,s,a){const o=i.value.clone(),l=q2(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(i,s,a){if(!Cc(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=q2(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(A7(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof uh?function(s,a,o,l){if(!Cc(s.precondition,a))return o;const c=s.value.clone(),h=H2(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(s,a,o,l){if(!Cc(s.precondition,a))return o;const c=H2(s.fieldTransforms,l,a),h=a.data;return h.setAll(A7(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,o){return Cc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function lT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=S7(r.transform,i||null);s!=null&&(n===null&&(n=In.empty()),n.set(r.field,s))}return n||null}function j2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(s,a)=>sT(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uh extends lh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends lh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function A7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function q2(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,iT(a,o,n[i]))}return r}function H2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,rT(s,a,e))}return r}class C7 extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uT extends lh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oT(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=x7();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=I7(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>j2(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>j2(n,r))}}class Xm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return Jk}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Xm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Le;function fT(t){switch(t){default:return Se();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function R7(t){if(t===void 0)return ei("GRPC error has no .code"),Y.UNKNOWN;switch(t){case vt.OK:return Y.OK;case vt.CANCELLED:return Y.CANCELLED;case vt.UNKNOWN:return Y.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Y.INTERNAL;case vt.UNAVAILABLE:return Y.UNAVAILABLE;case vt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case vt.NOT_FOUND:return Y.NOT_FOUND;case vt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case vt.ABORTED:return Y.ABORTED;case vt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case vt.DATA_LOSS:return Y.DATA_LOSS;default:return Se()}}(Le=vt||(vt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Ps([4294967295,4294967295],0);function $2(t){const e=pT().encode(t),n=new e7;return n.update(e),new Uint8Array(n.digest())}function W2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ps([n,r],0),new Ps([i,s],0)]}class Jm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Ps.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Ps.fromNumber(r)));return i.compare(mT)===1&&(i=new Ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=$2(e),[r,i]=W2(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Jm(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Te===0)return;const n=$2(e),[r,i]=W2(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ch(be.min(),i,new ct(Oe),ti(),De())}}class su{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new su(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class P7{constructor(e,n){this.targetId=e,this.me=n}}class N7{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G2{constructor(){this.fe=0,this.ge=K2(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),n=De(),r=De();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new su(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=K2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gT{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=Zu(),this.Qe=Zu(),this.Ke=new ct(Oe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(fp(s))if(r===0){const a=new ve(s.path);this.We(n,a,Kt.newNoDocument(a,be.min()))}else He(r===1);else{const a=this.Ze(n);if(a!==r){const o=this.Xe(e),l=o?this.et(o,e,a):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Zi(r).toUint8Array()}catch(l){if(l instanceof u7)return $a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Jm(a,i,s)}catch(l){return $a(l instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Te===0?null:o}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.nt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Ye(a);if(o){if(s.current&&fp(o.target)){const l=new ve(o.target.path);this.st(l).has(a)||this.ot(a,l)||this.We(a,l,Kt.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=De();this.Qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new ch(e,n,this.Ke,this.ke,r);return this.ke=ti(),this.qe=Zu(),this.Qe=Zu(),this.Ke=new ct(Oe),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new G2,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new It(Oe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(Oe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new G2),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zu(){return new ct(ve.comparator)}function K2(){return new ct(ve.comparator)}const yT={asc:"ASCENDING",desc:"DESCENDING"},vT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wT={and:"AND",or:"OR"};class _T{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mp(t,e){return t.useProto3Json||nh(e)?e:{value:e}}function w0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xT(t,e){return w0(t,e.toTimestamp())}function _r(t){return He(!!t),be.fromTimestamp(function(n){const r=Ji(n);return new Tt(r.seconds,r.nanos)}(t))}function Zm(t,e){return gp(t,e).canonicalString()}function gp(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function D7(t){const e=rt.fromString(t);return He(F7(e)),e}function yp(t,e){return Zm(t.databaseId,e.path)}function Ad(t,e){const n=D7(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(L7(n))}function O7(t,e){return Zm(t.databaseId,e)}function ET(t){const e=D7(t);return e.length===4?rt.emptyPath():L7(e)}function vp(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L7(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Q2(t,e,n){return{name:yp(t,e),fields:n.value.mapValue.fields}}function ST(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(He(h===void 0||typeof h=="string"),Ft.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?Y.UNKNOWN:R7(c.code);return new fe(h,c.message||"")}(a);n=new N7(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ad(t,r.document.name),s=_r(r.document.updateTime),a=r.document.createTime?_r(r.document.createTime):be.min(),o=new In({mapValue:{fields:r.document.fields}}),l=Kt.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Rc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ad(t,r.document),s=r.readTime?_r(r.readTime):be.min(),a=Kt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Rc([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ad(t,r.document),s=r.removedTargetIds||[];n=new Rc([],s,i,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new dT(i,s),o=r.targetId;n=new P7(o,a)}}return n}function bT(t,e){let n;if(e instanceof uh)n={update:Q2(t,e.key,e.value)};else if(e instanceof C7)n={delete:yp(t,e.key)};else if(e instanceof Ws)n={update:Q2(t,e.key,e.data),updateMask:MT(e.fieldMask)};else{if(!(e instanceof uT))return Se();n={verify:yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof y0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ul)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof jl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof v0)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xT(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Se()}(t,e.precondition)),n}function kT(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?_r(i.updateTime):_r(s);return a.isEqual(be.min())&&(a=_r(s)),new aT(a,i.transformResults||[])}(n,e))):[]}function TT(t,e){return{documents:[O7(t,e.path)]}}function IT(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=O7(t,i);const s=function(c){if(c.length!==0)return V7(br.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:ua(m.field),direction:RT(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=mp(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function AT(t){let e=ET(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const m=z7(d);return m instanceof br&&f7(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(m=>function(x){return new g0(ca(x.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(d){let m;return m=typeof d=="object"?d.value:d,nh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,g=d.values||[];return new m0(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,g=d.values||[];return new m0(g,m)}(n.endAt)),Wk(e,i,a,s,o,"F",l,c)}function CT(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z7(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ca(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ca(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ca(n.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ca(n.unaryFilter.field);return bt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(ca(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>z7(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function RT(t){return yT[t]}function PT(t){return vT[t]}function NT(t){return wT[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ca(t){return Lt.fromServerFormat(t.fieldPath)}function V7(t){return t instanceof bt?function(n){if(n.op==="=="){if(L2(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(O2(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L2(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(O2(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:PT(n.op),value:n.value}}}(t):t instanceof br?function(n){const r=n.getFilters().map(i=>V7(i));return r.length===1?r[0]:{compositeFilter:{op:NT(n.op),filters:r}}}(t):Se()}function MT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function F7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s=be.min(),a=be.min(),o=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.ht=e}}function OT(t){const e=AT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ln=new zT}addToCollectionParentIndex(e,n){return this.ln.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Xi.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class zT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(41943040,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Qa(0)}static Qn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2([t,e],[n,r]){const i=Oe(t,n);return i===0?Oe(e,r):i}class VT{constructor(e){this.Gn=e,this.buffer=new It(X2),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FT{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){co(n)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await uo(n)}await this.Yn(3e5)})}}class BT{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(th.oe);const r=new VT(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Y2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y2):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,a,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),oa()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function UT(t,e){return new BT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.changes=new $s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dl(r.mutation,i,rr.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Yo();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=ti();const a=hl(),o=function(){return hl()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ws)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),dl(h.mutation,c,h.mutation.getFieldMask(),Tt.now())):a.set(c.key,rr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>{var d;return o.set(c,new qT(h,(d=a.get(c))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,n){const r=hl();let i=new ct((a,o)=>a-o),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||rr.empty();h=o.applyToLocalView(c,h),r.set(l,h);const d=(i.get(o.batchId)||De()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,d=x7();h.forEach(m=>{if(!s.has(m)){const g=I7(n.get(m),r.get(m));g!==null&&d.set(m,g),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,d))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ve.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(Is());let o=-1,l=s;return a.next(c=>K.forEach(c,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,De())).next(h=>({batchId:o,changes:_7(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=Yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Yo();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,l=>{const c=function(d,m){return new ih(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,m)=>{a=a.insert(d,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Kt.newInvalidDocument(h)))});let o=Yo();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&dl(h.mutation,c,rr.empty(),Tt.now()),ah(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return K.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:OT(i.bundledQuery),readTime:_r(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.overlays=new ct(ve.comparator),this.Er=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Is(),s=n.length+1,a=new ve(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ct((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Is(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return K.resolve(o)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hT(n,r));let s=this.Er.get(n);s===void 0&&(s=De(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.dr=new It(Ct.Ar),this.Rr=new It(Ct.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Ct(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new ve(new rt([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.Rr.forEachInRange([r,i],a=>{this.gr(a),s.push(a.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ve(new rt([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=De();return this.Rr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ve.comparator(e.key,n.key)||Oe(e.br,n.br)}static Vr(e,n){return Oe(e.br,n.br)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new It(Ct.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new cT(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.vr=this.vr.add(new Ct(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],a=>{const o=this.Cr(a.br);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Oe);return n.forEach(i=>{const s=new Ct(i,0),a=new Ct(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,a],o=>{r=r.add(o.br)})}),K.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const a=new Ct(new ve(s),0);let o=new It(Oe);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.br)),!0)},a),K.resolve(this.Mr(o))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return K.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Ct(n,0),i=this.vr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.Nr=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ti();const a=n.path,o=new ve(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||kk(bk(h),r)<=0||(i.has(h.key)||ah(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Se()}Lr(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YT(this)}getSize(e){return K.resolve(this.size)}}class YT extends jT{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.persistence=e,this.Br=new $s(n=>Gm(n),Km),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.kr=0,this.qr=new e1,this.targetCount=0,this.Qr=Qa.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),K.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Un(n),K.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Br.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n){this.Kr={},this.overlays={},this.$r=new th(0),this.Ur=!1,this.Ur=!0,this.Wr=new GT,this.referenceDelegate=e(this),this.Gr=new XT(this),this.indexManager=new LT,this.remoteDocumentCache=function(i){return new QT(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new DT(n),this.jr=new $T(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new KT(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new JT(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return K.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class JT extends Ik{constructor(e){super(),this.currentSequenceNumber=e}}class t1{constructor(e){this.persistence=e,this.Zr=new e1,this.Xr=null}static ei(e){return new t1(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),K.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,r=>{const i=ve.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return K.or([()=>K.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class _0{constructor(e,n){this.persistence=e,this.ri=new $s(r=>Rk(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=UT(this,n)}static ei(e,n){return new _0(e,n)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return K.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?K.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,a=>this.ir(e,a,n).next(o=>{o||(r++,s.removeEntry(a,be.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ic(e.data.value)),n}ir(e,n,r){return K.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return XS()?8:Ak(Yt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new ZT;return this.ts(e,n,a).next(o=>{if(s.result=o,this.Hi)return this.ns(e,n,a,o.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(oa()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",la(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(oa()<=Me.DEBUG&&le("QueryEngine","Query:",la(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(oa()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",la(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):K.resolve())}Xi(e,n){if(B2(n))return K.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pp(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=De(...s);return this.Zi.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,o);return this.ss(n,c,a,l.readTime)?this.Xi(e,pp(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return B2(n)||i.isEqual(be.min())?K.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const a=this.rs(n,s);return this.ss(n,a,r,i)?K.resolve(null):(oa()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),la(n)),this.os(e,a,n,Sk(i,-1)).next(o=>o))})}rs(e,n){let r=new It(v7(e));return n.forEach((i,s)=>{ah(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return oa()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",la(n)),this.Zi.getDocumentsMatchingQuery(e,n,Xi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new ct(Oe),this.cs=new $s(s=>Gm(s),Km),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function nI(t,e,n,r){return new tI(t,e,n,r)}async function U7(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=De();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:a,addedBatchIds:o}))})})}function rI(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const d=c.batch,m=d.keys();let g=K.resolve();return m.forEach(x=>{g=g.next(()=>h.getEntry(l,x)).next(S=>{const R=c.docVersions.get(x);He(R!==null),S.version.compareTo(R)<0&&(d.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=De();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function j7(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function iI(t,e){const n=Te(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const o=[];e.targetChanges.forEach((h,d)=>{const m=i.get(d);if(!m)return;o.push(n.Gr.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Gr.addMatchingKeys(s,h.addedDocuments,d)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Ft.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(S,R,E){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,g,h)&&o.push(n.Gr.updateTargetData(s,g))});let l=ti(),c=De();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(sI(s,a,e.documentUpdates).next(h=>{l=h.Is,c=h.Es})),!r.isEqual(be.min())){const h=n.Gr.getLastRemoteSnapshotVersion(s).next(d=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function sI(t,e,n){let r=De(),i=De();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=ti();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):le("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Is:a,Es:i}})}function aI(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oI(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Gr.allocateTargetId(r).next(a=>(i=new Mi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function wp(t,e,n){const r=Te(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!co(a))throw a;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function J2(t,e,n){const r=Te(t);let i=be.min(),s=De();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const d=Te(l),m=d.cs.get(h);return m!==void 0?K.resolve(d.us.get(m)):d.Gr.getTargetData(c,h)}(r,a,wr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(a,e,n?i:be.min(),n?s:De())).next(o=>(lI(r,Qk(e),o),{documents:o,ds:s})))}function lI(t,e,n){let r=t.ls.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class Z2{constructor(){this.activeTargetIds=tT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uI{constructor(){this._o=new Z2,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Z2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function Cd(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class fI extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,a){const o=Cd(),l=this.No(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,a),this.Bo(n,l,c,i).then(h=>(le("RestConnection",`Received RPC '${n}' ${o}: `,h),h),h=>{throw $a("RestConnection",`RPC '${n}' ${o} failed with error: `,h,"url: ",l,"request:",i),h})}ko(n,r,i,s,a,o){return this.Oo(n,r,i,s,a)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}No(n,r){const i=hI[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Cd();return new Promise((a,o)=>{const l=new t7;l.setWithCredentials(!0),l.listenOnce(n7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tc.NO_ERROR:const h=l.getResponseJson();le($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Tc.TIMEOUT:le($t,`RPC '${e}' ${s} timed out`),o(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Tc.HTTP_ERROR:const d=l.getStatus();if(le($t,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const x=function(R){const E=R.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(E)>=0?E:Y.UNKNOWN}(g.status);o(new fe(x,g.message))}else o(new fe(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{le($t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);le($t,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=Cd(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=s7(),o=i7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");le($t,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=a.createWebChannel(h,l);let m=!1,g=!1;const x=new dI({Eo:R=>{g?le($t,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(le($t,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),le($t,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},Ao:()=>d.close()}),S=(R,E,w)=>{R.listen(E,T=>{try{w(T)}catch(B){setTimeout(()=>{throw B},0)}})};return S(d,Qo.EventType.OPEN,()=>{g||(le($t,`RPC '${e}' stream ${i} transport opened.`),x.So())}),S(d,Qo.EventType.CLOSE,()=>{g||(g=!0,le($t,`RPC '${e}' stream ${i} transport closed`),x.Do())}),S(d,Qo.EventType.ERROR,R=>{g||(g=!0,$a($t,`RPC '${e}' stream ${i} transport errored:`,R),x.Do(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),S(d,Qo.EventType.MESSAGE,R=>{var E;if(!g){const w=R.data[0];He(!!w);const T=w,B=(T==null?void 0:T.error)||((E=T[0])===null||E===void 0?void 0:E.error);if(B){le($t,`RPC '${e}' stream ${i} received error:`,B);const j=B.status;let F=function(A){const N=vt[A];if(N!==void 0)return R7(N)}(j),C=B.message;F===void 0&&(F=Y.INTERNAL,C="Unknown error status: "+j+" with message "+B.message),g=!0,x.Do(new fe(F,C)),d.close()}else le($t,`RPC '${e}' stream ${i} received:`,w),x.vo(w)}}),S(o,r7.STAT_EVENT,R=>{R.stat===up.PROXY?le($t,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===up.NOPROXY&&le($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){return new _T(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n,r,i,s,a,o,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new q7(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new fe(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pI extends H7{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=ST(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?_r(a.readTime):be.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=vp(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=fp(l)?{documents:TT(s,l)}:{query:IT(s,l).ct},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=M7(s,a.resumeToken);const c=mp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(be.min())>0){o.readTime=w0(s,a.snapshotVersion.toTimestamp());const c=mp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=CT(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=vp(this.serializer),n.removeTarget=e,this.c_(n)}}class mI extends H7{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=kT(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=vp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bT(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Oo(e,gp(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(Y.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.ko(e,gp(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Y.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class yI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ei(n),this.C_=!1):le("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(a=>{r.enqueueAndForget(async()=>{Gs(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Te(l);c.k_.add(4),await au(c),c.K_.set("Unknown"),c.k_.delete(4),await dh(c)}(this))})}),this.K_=new yI(r,i)}}async function dh(t){if(Gs(t))for(const e of t.q_)await e(!0)}async function au(t){for(const e of t.q_)await e(!1)}function $7(t,e){const n=Te(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),a1(n)?s1(n):ho(n).s_()&&i1(n,e))}function r1(t,e){const n=Te(t),r=ho(n);n.B_.delete(e),r.s_()&&W7(n,e),n.B_.size===0&&(r.s_()?r.a_():Gs(n)&&n.K_.set("Unknown"))}function i1(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ho(t).V_(e)}function W7(t,e){t.U_.xe(e),ho(t).m_(e)}function s1(t){t.U_=new gT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ho(t).start(),t.K_.F_()}function a1(t){return Gs(t)&&!ho(t).i_()&&t.B_.size>0}function Gs(t){return Te(t).k_.size===0}function G7(t){t.U_=void 0}async function wI(t){t.K_.set("Online")}async function _I(t){t.B_.forEach((e,n)=>{i1(t,e)})}async function xI(t,e){G7(t),a1(t)?(t.K_.O_(e),s1(t)):t.K_.set("Unknown")}async function EI(t,e,n){if(t.K_.set("Online"),e instanceof N7&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.B_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.B_.delete(o),i.U_.removeTarget(o))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await x0(t,r)}else if(e instanceof Rc?t.U_.$e(e):e instanceof P7?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(be.min()))try{const r=await j7(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.U_.it(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.B_.get(c);h&&s.B_.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.B_.get(l);if(!h)return;s.B_.set(l,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),W7(s,l);const d=new Mi(h.target,l,c,h.sequenceNumber);i1(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await x0(t,r)}}async function x0(t,e,n){if(!co(e))throw e;t.k_.add(1),await au(t),t.K_.set("Offline"),n||(n=()=>j7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await dh(t)})}function K7(t,e){return e().catch(n=>x0(t,n,e))}async function fh(t){const e=Te(t),n=ts(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;SI(e);)try{const i=await aI(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,bI(e,i)}catch(i){await x0(e,i)}Q7(e)&&Y7(e)}function SI(t){return Gs(t)&&t.L_.length<10}function bI(t,e){t.L_.push(e);const n=ts(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Q7(t){return Gs(t)&&!ts(t).i_()&&t.L_.length>0}function Y7(t){ts(t).start()}async function kI(t){ts(t).w_()}async function TI(t){const e=ts(t);for(const n of t.L_)e.g_(n.mutations)}async function II(t,e,n){const r=t.L_.shift(),i=Xm.from(r,e,n);await K7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fh(t)}async function AI(t,e){e&&ts(t).f_&&await async function(r,i){if(function(a){return fT(a)&&a!==Y.ABORTED}(i.code)){const s=r.L_.shift();ts(r).__(),await K7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await fh(r)}}(t,e),Q7(t)&&Y7(t)}async function ty(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Gs(n);n.k_.add(3),await au(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await dh(n)}async function CI(t,e){const n=Te(t);e?(n.k_.delete(2),await dh(n)):e||(n.k_.add(2),await au(n),n.K_.set("Unknown"))}function ho(t){return t.W_||(t.W_=function(n,r,i){const s=Te(n);return s.b_(),new pI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:wI.bind(null,t),mo:_I.bind(null,t),po:xI.bind(null,t),R_:EI.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),a1(t)?s1(t):t.K_.set("Unknown")):(await t.W_.stop(),G7(t))})),t.W_}function ts(t){return t.G_||(t.G_=function(n,r,i){const s=Te(n);return s.b_(),new mI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:kI.bind(null,t),po:AI.bind(null,t),p_:TI.bind(null,t),y_:II.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await fh(t)):(await t.G_.stop(),t.L_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new o1(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l1(t,e){if(ei("AsyncQueue",`${e}: ${t}`),co(t))return new fe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static emptySet(e){return new Ra(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Yo(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.z_=new ct(ve.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ya{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ya(e,n,Ra.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class PI{constructor(){this.queries=ry(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Te(n),s=i.queries;i.queries=ry(),s.forEach((a,o)=>{for(const l of o.J_)l.onError(r)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function ry(){return new $s(t=>y7(t),sh)}async function X7(t,e){const n=Te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new RI,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=l1(a,`Initialization of query '${la(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&u1(n)}async function J7(t,e){const n=Te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.J_.indexOf(e);a>=0&&(s.J_.splice(a,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NI(t,e){const n=Te(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.J_)o.ta(i)&&(r=!0);a.H_=i}}r&&u1(n)}function MI(t,e,n){const r=Te(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function u1(t){t.X_.forEach(e=>{e.next()})}var _p,iy;(iy=_p||(_p={})).na="default",iy.Cache="cache";class Z7{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.key=e}}class t8{constructor(e){this.key=e}}class DI{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=De(),this.mutatedKeys=De(),this.Va=v7(e),this.ma=new Ra(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new ny,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const m=i.get(h),g=ah(this.query,d)?d:null,x=!!m&&this.mutatedKeys.has(m.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;m&&g?m.data.isEqual(g.data)?x!==S&&(r.track({type:3,doc:g}),R=!0):this.ya(m,g)||(r.track({type:2,doc:g}),R=!0,(l&&this.Va(g,l)>0||c&&this.Va(g,c)<0)&&(o=!0)):!m&&g?(r.track({type:0,doc:g}),R=!0):m&&!g&&(r.track({type:1,doc:m}),R=!0,(l||c)&&(o=!0)),R&&(g?(a=a.add(g),s=S?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ma:a,pa:r,ss:o,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const a=e.pa.j_();a.sort((h,d)=>function(g,x){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return S(g)-S(x)}(h.type,d.type)||this.Va(h.doc,d.doc)),this.wa(r),i=i!=null&&i;const o=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,a.length!==0||c?{snapshot:new Ya(this.query,e.ma,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ny,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=De(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new t8(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new e8(r))}),n}va(e){this.da=e.ds,this.Ra=De();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ya.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class OI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LI{constructor(e){this.key=e,this.Fa=!1}}class zI{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new $s(o=>y7(o),sh),this.Oa=new Map,this.Na=new Set,this.La=new ct(ve.comparator),this.Ba=new Map,this.ka=new e1,this.qa={},this.Qa=new Map,this.Ka=Qa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function VI(t,e,n=!0){const r=o8(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await n8(r,e,n,!0),i}async function FI(t,e){const n=o8(t);await n8(n,e,!0,!1)}async function n8(t,e,n,r){const i=await oI(t.localStore,wr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await BI(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&$7(t.remoteStore,i),o}async function BI(t,e,n,r,i){t.Ua=(d,m,g)=>async function(S,R,E,w){let T=R.view.ga(E);T.ss&&(T=await J2(S.localStore,R.query,!1).then(({documents:C})=>R.view.ga(C,T)));const B=w&&w.targetChanges.get(R.targetId),j=w&&w.targetMismatches.get(R.targetId)!=null,F=R.view.applyChanges(T,S.isPrimaryClient,B,j);return ay(S,R.targetId,F.ba),F.snapshot}(t,d,m,g);const s=await J2(t.localStore,e,!0),a=new DI(e,s.ds),o=a.ga(s.documents),l=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);ay(t,n,c.ba);const h=new OI(e,n,a);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function UI(t,e,n){const r=Te(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(a=>!sh(a,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&r1(r.remoteStore,i.targetId),xp(r,i.targetId)}).catch(uo)):(xp(r,i.targetId),await wp(r.localStore,i.targetId,!0))}async function jI(t,e){const n=Te(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r1(n.remoteStore,r.targetId))}async function qI(t,e,n){const r=YI(t);try{const i=await function(a,o){const l=Te(a),c=Tt.now(),h=o.reduce((g,x)=>g.add(x.key),De());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=ti(),S=De();return l.hs.getEntries(g,h).next(R=>{x=R,x.forEach((E,w)=>{w.isValidDocument()||(S=S.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(R=>{d=R;const E=[];for(const w of o){const T=lT(w,d.get(w.key).overlayedDocument);T!=null&&E.push(new Ws(w.key,T,c7(T.value.mapValue),Wr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,o)}).next(R=>{m=R;const E=R.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(g,R.batchId,E)})}).then(()=>({batchId:m.batchId,changes:_7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.qa[a.currentUser.toKey()];c||(c=new ct(Oe)),c=c.insert(o,l),a.qa[a.currentUser.toKey()]=c}(r,i.batchId,n),await ou(r,i.changes),await fh(r.remoteStore)}catch(i){const s=l1(i,"Failed to persist write");n.reject(s)}}async function r8(t,e){const n=Te(t);try{const r=await iI(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Ba.get(s);a&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Fa=!0:i.modifiedDocuments.size>0?He(a.Fa):i.removedDocuments.size>0&&(He(a.Fa),a.Fa=!1))}),await ou(n,r,e)}catch(r){await uo(r)}}function sy(t,e,n){const r=Te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,a)=>{const o=a.view.ea(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Te(a);l.onlineState=o;let c=!1;l.queries.forEach((h,d)=>{for(const m of d.J_)m.ea(o)&&(c=!0)}),c&&u1(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HI(t,e,n){const r=Te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let a=new ct(ve.comparator);a=a.insert(s,Kt.newNoDocument(s,be.min()));const o=De().add(s),l=new ch(be.min(),new Map,new ct(Oe),a,o);await r8(r,l),r.La=r.La.remove(s),r.Ba.delete(e),c1(r)}else await wp(r.localStore,e,!1).then(()=>xp(r,e,n)).catch(uo)}async function $I(t,e){const n=Te(t),r=e.batch.batchId;try{const i=await rI(n.localStore,e);s8(n,r,null),i8(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ou(n,i)}catch(i){await uo(i)}}async function WI(t,e,n){const r=Te(t);try{const i=await function(a,o){const l=Te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(d=>(He(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);s8(r,e,n),i8(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ou(r,i)}catch(i){await uo(i)}}function i8(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function s8(t,e,n){const r=Te(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function xp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||a8(t,r)})}function a8(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(r1(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),c1(t))}function ay(t,e,n){for(const r of n)r instanceof e8?(t.ka.addReference(r.key,e),GI(t,r)):r instanceof t8?(le("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||a8(t,r.key)):Se()}function GI(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Na.add(r),c1(t))}function c1(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new ve(rt.fromString(e)),r=t.Ka.next();t.Ba.set(r,new LI(n)),t.La=t.La.insert(n,r),$7(t.remoteStore,new Mi(wr(Qm(n.path)),r,"TargetPurposeLimboResolution",th.oe))}}async function ou(t,e,n){const r=Te(t),i=[],s=[],a=[];r.xa.isEmpty()||(r.xa.forEach((o,l)=>{a.push(r.Ua(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=n1.zi(l.targetId,c);s.push(d)}}))}),await Promise.all(a),r.Ma.R_(i),await async function(l,c){const h=Te(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(c,m=>K.forEach(m.Wi,g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>K.forEach(m.Gi,g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!co(d))throw d;le("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const g=h.us.get(m),x=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(x);h.us=h.us.insert(m,S)}}}(r.localStore,s))}async function KI(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await U7(n.localStore,e);n.currentUser=e,function(s,a){s.Qa.forEach(o=>{o.forEach(l=>{l.reject(new fe(Y.CANCELLED,a))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(n,r.Ts)}}function QI(t,e){const n=Te(t),r=n.Ba.get(e);if(r&&r.Fa)return De().add(r.key);{let i=De();const s=n.Oa.get(e);if(!s)return i;for(const a of s){const o=n.xa.get(a);i=i.unionWith(o.view.fa)}return i}}function o8(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r8.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HI.bind(null,e),e.Ma.R_=NI.bind(null,e.eventManager),e.Ma.Wa=MI.bind(null,e.eventManager),e}function YI(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WI.bind(null,e),e}class E0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return nI(this.persistence,new eI,e.initialUser,this.serializer)}ja(e){return new B7(t1.ei,this.serializer)}za(e){return new uI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}E0.provider={build:()=>new E0};class XI extends E0{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){He(this.persistence.referenceDelegate instanceof _0);const r=this.persistence.referenceDelegate.garbageCollector;return new FT(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new B7(r=>_0.ei(r,n),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KI.bind(null,this.syncEngine),await CI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PI}()}createDatastore(e){const n=hh(e.databaseInfo.databaseId),r=function(s){return new fI(s)}(e.databaseInfo);return function(s,a,o,l){return new gI(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new vI(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>sy(this.syncEngine,n,0),function(){return ey.p()?new ey:new cI}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,h){const d=new zI(i,s,a,o,l,c);return h&&(d.$a=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Te(i);le("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await au(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=o7.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{le("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(le("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pd(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U7(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZI(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ty(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ty(e.remoteStore,i)),t._onlineComponents=e}async function ZI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await Pd(t,new E0)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Pd(t,new XI(void 0));return t._offlineComponents}async function u8(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await oy(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await oy(t,new Ep))),t._onlineComponents}function eA(t){return u8(t).then(e=>e.syncEngine)}async function c8(t){const e=await u8(t),n=e.eventManager;return n.onListen=VI.bind(null,e.syncEngine),n.onUnlisten=UI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jI.bind(null,e.syncEngine),n}function tA(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new l8({next:m=>{h.eu(),a.enqueueAndForget(()=>J7(s,d));const g=m.docs.has(o);!g&&m.fromCache?c.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?c.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new Z7(Qm(o.path),h,{includeMetadataChanges:!0,ua:!0});return X7(s,d)}(await c8(t),t.asyncQueue,e,n,r)),r.promise}function nA(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new l8({next:m=>{h.eu(),a.enqueueAndForget(()=>J7(s,d)),m.fromCache&&l.source==="server"?c.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new Z7(o,h,{includeMetadataChanges:!0,ua:!0});return X7(s,d)}(await c8(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t,e,n){if(!n)throw new fe(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rA(t,e,n,r){if(e===!0&&r===!0)throw new fe(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uy(t){if(!ve.isDocumentKey(t))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cy(t){if(ve.isDocumentKey(t))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function h1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=h1(t);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h8((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pk;switch(r.type){case"firstParty":return new vk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ly.get(n);r&&(le("ComponentProvider","Removing Datastore"),ly.delete(n),r.terminate())}(this),Promise.resolve()}}function iA(t,e,n,r={}){var i;const s=(t=Fs(t,ph))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Wt.MOCK_USER;else{o=HS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wt(c)}t._authCredentials=new mk(new a7(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mh(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Wi extends mh{constructor(e,n,r){super(e,n,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ve(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function sA(t,e,...n){if(t=sn(t),d8("collection","path",e),t instanceof ph){const r=rt.fromString(e,...n);return cy(r),new Wi(t,null,r)}{if(!(t instanceof Nn||t instanceof Wi))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return cy(r),new Wi(t.firestore,null,r)}}function Gi(t,e,...n){if(t=sn(t),arguments.length===1&&(e=o7.newId()),d8("doc","path",e),t instanceof ph){const r=rt.fromString(e,...n);return uy(r),new Nn(t,null,new ve(r))}{if(!(t instanceof Nn||t instanceof Wi))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return uy(r),new Nn(t.firestore,t instanceof Wi?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new q7(this,"async_queue_retry"),this.fu=()=>{const r=Rd();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new $r;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!co(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=o1.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class gh extends ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dy(e),this._firestoreClient=void 0,await e}}}function Xa(t,e){const n=typeof t=="object"?t:X6(),r=typeof t=="string"?t:"(default)",i=qm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jS("firestore");s&&iA(i,...s)}return i}function d1(t){if(t._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aA(t),t._firestoreClient}function aA(t){var e,n,r;const i=t._freezeSettings(),s=function(o,l,c,h){return new Mk(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h8(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new JI(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(Ft.fromBase64String(e))}catch(n){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=/^__.*__$/;class f8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function p8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class g1{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new g1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return S0(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(p8(this.Mu)&&oA.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class lA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hh(e)}$u(e,n,r,i=!1){return new g1({Mu:e,methodName:n,Ku:r,path:Lt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uA(t){const e=t._freezeSettings(),n=hh(t._databaseId);return new lA(t._databaseId,!!e.ignoreUndefinedProperties,n)}class vh extends f1{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function cA(t,e,n,r){const i=t.$u(1,e,n);g8("Data must be an object, but it was:",i,r);const s=[],a=In.empty();ls(r,(l,c)=>{const h=y1(e,l,n);c=sn(c);const d=i.Bu(h);if(c instanceof vh)s.push(h);else{const m=wh(c,d);m!=null&&(s.push(h),a.set(h,m))}});const o=new rr(s);return new f8(a,o,i.fieldTransforms)}function hA(t,e,n,r,i,s){const a=t.$u(1,e,n),o=[fy(e,r,n)],l=[i];if(s.length%2!=0)throw new fe(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)o.push(fy(e,s[m])),l.push(s[m+1]);const c=[],h=In.empty();for(let m=o.length-1;m>=0;--m)if(!pA(c,o[m])){const g=o[m];let x=l[m];x=sn(x);const S=a.Bu(g);if(x instanceof vh)c.push(g);else{const R=wh(x,S);R!=null&&(c.push(g),h.set(g,R))}}const d=new rr(c);return new f8(h,d,a.fieldTransforms)}function wh(t,e){if(m8(t=sn(t)))return g8("Unsupported field value:",e,t),dA(t,e);if(t instanceof f1)return function(r,i){if(!p8(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=wh(o,i.ku(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tt.fromDate(r);return{timestampValue:w0(i.serializer,s)}}if(r instanceof Tt){const s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:w0(i.serializer,s)}}if(r instanceof p1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:M7(i.serializer,r._byteString)};if(r instanceof Nn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Zm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof m1)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.qu("VectorValues must only contain numeric values.");return Ym(o.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${h1(r)}`)}(t,e)}function dA(t,e){const n={};return l7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,i)=>{const s=wh(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function m8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof p1||t instanceof Ja||t instanceof Nn||t instanceof f1||t instanceof m1)}function g8(t,e,n){if(!m8(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=h1(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function fy(t,e,n){if((e=sn(e))instanceof yh)return e._internalPath;if(typeof e=="string")return y1(t,e);throw S0("Field path arguments must be of type string or ",t,!1,void 0,n)}const fA=new RegExp("[~\\*/\\[\\]]");function y1(t,e,n){if(e.search(fA)>=0)throw S0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yh(...e.split("."))._internalPath}catch{throw S0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function S0(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new fe(Y.INVALID_ARGUMENT,o+t+l)}function pA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v8("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mA extends y8{data(){return super.data()}}function v8(t,e){return typeof e=="string"?y1(t,e):e instanceof yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yA{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ls(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>mt(a.doubleValue));return new m1(s)}convertGeoPoint(e){return new p1(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);He(F7(r));const i=new Fl(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w8 extends y8{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v8("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pc extends w8{data(e={}){return super.data(e)}}class vA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new Jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Pc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Pc(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jo(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:wA(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){t=Fs(t,Nn);const e=Fs(t.firestore,gh);return tA(d1(e),t._key).then(n=>EA(e,t,n))}class _8 extends yA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function _A(t){t=Fs(t,mh);const e=Fs(t.firestore,gh),n=d1(e),r=new _8(e);return gA(t._query),nA(n,t._query).then(i=>new vA(e,r,t,i))}function x8(t,e,n,...r){t=Fs(t,Nn);const i=Fs(t.firestore,gh),s=uA(i);let a;return a=typeof(e=sn(e))=="string"||e instanceof yh?hA(s,"updateDoc",t._key,e,n,r):cA(s,"updateDoc",t._key,e),xA(i,[a.toMutation(t._key,Wr.exists(!0))])}function xA(t,e){return function(r,i){const s=new $r;return r.asyncQueue.enqueueAndForget(async()=>qI(await eA(r),i,s)),s.promise}(d1(t),e)}function EA(t,e,n){const r=n.docs.get(e._key),i=new _8(t);return new w8(t,i,e._key,r,new Jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){lo=i})(oo),Ha(new zs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new gh(new gk(r.getProvider("auth-internal")),new _k(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(c.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),$i(C2,"4.7.5",e),$i(C2,"4.7.5","esm2017")})();var SA="firebase",bA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(SA,bA,"app");const kA={apiKey:"AIzaSyCfHzES-r4MRhGtPapvtmkGPdZJWkgCdpw",authDomain:"kgv-teachify.firebaseapp.com",projectId:"kgv-teachify",storageBucket:"kgv-teachify.firebasestorage.app",messagingSenderId:"203294046256",appId:"1:203294046256:web:df62b358a16eef5d10d5f5",measurementId:"G-YE6EYSSFJG"},Bs=Y6(kA);function TA(){const t=ao(),[e,n]=re.useState(!1),[r,i]=re.useState(""),[s,a]=re.useState([]),[o,l]=re.useState(!0),[c,h]=re.useState(null);re.useEffect(()=>{(async()=>{try{const x=Xa(Bs),S=localStorage.getItem("authId");if(!S)throw new Error("No authentication ID found");const R=await ql(Gi(x,"users",S));if(!R.exists())throw new Error("User document not found");const w=(R.data().classes||[]).map(async j=>{const F=await ql(Gi(x,"classes",j));if(!F.exists())return null;const C=F.data();return{id:F.id,name:C.CourseName,teacher:C.Teacher}}),B=(await Promise.all(w)).filter(j=>j!==null);a(B),l(!1)}catch(x){console.error("Error fetching courses:",x),h("Failed to load courses"),l(!1)}})()},[]);const d=()=>{localStorage.removeItem("authId"),t("/")},m=()=>{i(""),n(!1)};return o?$.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:$.jsx("div",{className:"text-gray-600",children:"Loading courses..."})}):c?$.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:$.jsx("div",{className:"text-red-600",children:c})}):$.jsxs("div",{className:"min-h-screen bg-gray-100",children:[$.jsx("div",{className:"bg-white shadow",children:$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:$.jsxs("div",{className:"flex justify-between items-center h-16",children:[$.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"My Classes"}),$.jsxs("div",{className:"flex items-center space-x-4",children:[$.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>n(!0),children:[$.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Class"]}),$.jsxs("button",{onClick:d,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[$.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})})}),$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:$.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(g=>$.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[$.jsxs("div",{className:"p-6",children:[$.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:g.name}),$.jsx("p",{className:"text-gray-600",children:g.teacher})]}),$.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:$.jsx("button",{onClick:()=>t("/assignments",{state:{classId:g.id}}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Open Class"})})]},g.id))})}),e&&$.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:$.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[$.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Class"}),$.jsx("input",{type:"text",placeholder:"Class code",value:r,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),$.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[$.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),$.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add"})]})]})})]})}function py(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const a=n.slice(i,r).trim();(a||!s)&&e.push(a),i=r+1,r=n.indexOf(",",i)}return e}function IA(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const AA=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,CA=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RA={};function my(t,e){return(RA.jsx?CA:AA).test(t)}const PA=/[ \t\n\f\r]/g;function NA(t){return typeof t=="object"?t.type==="text"?gy(t.value):!1:gy(t)}function gy(t){return t.replace(PA,"")===""}class lu{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}lu.prototype.property={};lu.prototype.normal={};lu.prototype.space=null;function E8(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new lu(n,r,e)}function Hl(t){return t.toLowerCase()}class Qn{constructor(e,n){this.property=e,this.attribute=n}}Qn.prototype.space=null;Qn.prototype.boolean=!1;Qn.prototype.booleanish=!1;Qn.prototype.overloadedBoolean=!1;Qn.prototype.number=!1;Qn.prototype.commaSeparated=!1;Qn.prototype.spaceSeparated=!1;Qn.prototype.commaOrSpaceSeparated=!1;Qn.prototype.mustUseProperty=!1;Qn.prototype.defined=!1;let MA=0;const Ie=Ks(),wt=Ks(),S8=Ks(),te=Ks(),Ke=Ks(),Pa=Ks(),bn=Ks();function Ks(){return 2**++MA}const Sp=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ie,booleanish:wt,commaOrSpaceSeparated:bn,commaSeparated:Pa,number:te,overloadedBoolean:S8,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),Nd=Object.keys(Sp);class v1 extends Qn{constructor(e,n,r,i){let s=-1;if(super(e,n),yy(this,"space",i),typeof r=="number")for(;++s<Nd.length;){const a=Nd[s];yy(this,Nd[s],(r&Sp[a])===Sp[a])}}}v1.prototype.defined=!0;function yy(t,e,n){n&&(t[e]=n)}const DA={}.hasOwnProperty;function fo(t){const e={},n={};let r;for(r in t.properties)if(DA.call(t.properties,r)){const i=t.properties[r],s=new v1(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[Hl(r)]=r,n[Hl(s.attribute)]=r}return new lu(e,n,t.space)}const b8=fo({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),k8=fo({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function T8(t,e){return e in t?t[e]:e}function I8(t,e){return T8(t,e.toLowerCase())}const A8=fo({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:I8,properties:{xmlns:null,xmlnsXLink:null}}),C8=fo({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:wt,ariaAutoComplete:null,ariaBusy:wt,ariaChecked:wt,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:wt,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:wt,ariaFlowTo:Ke,ariaGrabbed:wt,ariaHasPopup:null,ariaHidden:wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:te,ariaLive:null,ariaModal:wt,ariaMultiLine:wt,ariaMultiSelectable:wt,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:wt,ariaReadOnly:wt,ariaRelevant:null,ariaRequired:wt,ariaRoleDescription:Ke,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:wt,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null}}),OA=fo({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:I8,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pa,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:Ie,allowPaymentRequest:Ie,allowUserMedia:Ie,alt:null,as:null,async:Ie,autoCapitalize:null,autoComplete:Ke,autoFocus:Ie,autoPlay:Ie,blocking:Ke,capture:null,charSet:null,checked:Ie,cite:null,className:Ke,cols:te,colSpan:null,content:null,contentEditable:wt,controls:Ie,controlsList:Ke,coords:te|Pa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ie,defer:Ie,dir:null,dirName:null,disabled:Ie,download:S8,draggable:wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ie,formTarget:null,headers:Ke,height:te,hidden:Ie,high:te,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:Ie,inputMode:null,integrity:null,is:null,isMap:Ie,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:Ie,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ie,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:Ie,muted:Ie,name:null,nonce:null,noModule:Ie,noValidate:Ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ie,optimum:te,pattern:null,ping:Ke,placeholder:null,playsInline:Ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ie,referrerPolicy:null,rel:Ke,required:Ie,reversed:Ie,rows:te,rowSpan:te,sandbox:Ke,scope:null,scoped:Ie,seamless:Ie,selected:Ie,shadowRootClonable:Ie,shadowRootDelegatesFocus:Ie,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:Ie,useMap:null,value:wt,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ie,declare:Ie,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:Ie,noHref:Ie,noShade:Ie,noWrap:Ie,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:wt,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ie,disableRemotePlayback:Ie,prefix:null,property:null,results:te,security:null,unselectable:null}}),LA=fo({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:T8,properties:{about:bn,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:Ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pa,g2:Pa,glyphName:Pa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bn,rev:bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bn,requiredFeatures:bn,requiredFonts:bn,requiredFormats:bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bn,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),zA=/^data[-\w.:]+$/i,vy=/-[a-z]/g,VA=/[A-Z]/g;function R8(t,e){const n=Hl(e);let r=e,i=Qn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&zA.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(vy,BA);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!vy.test(s)){let a=s.replace(VA,FA);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=v1}return new i(r,e)}function FA(t){return"-"+t.toLowerCase()}function BA(t){return t.charAt(1).toUpperCase()}const UA={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},P8=E8([k8,b8,A8,C8,OA],"html"),_h=E8([k8,b8,A8,C8,LA],"svg");function wy(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function jA(t){return t.join(" ").trim()}var N8={},_y=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,qA=/\n/g,HA=/^\s*/,$A=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,WA=/^:\s*/,GA=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,KA=/^[;\s]*/,QA=/^\s+|\s+$/g,YA=`
`,xy="/",Ey="*",Ss="",XA="comment",JA="declaration",ZA=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(x){var S=x.match(qA);S&&(n+=S.length);var R=x.lastIndexOf(YA);r=~R?x.length-R:r+x.length}function s(){var x={line:n,column:r};return function(S){return S.position=new a(x),c(),S}}function a(x){this.start=x,this.end={line:n,column:r},this.source=e.source}a.prototype.content=t;function o(x){var S=new Error(e.source+":"+n+":"+r+": "+x);if(S.reason=x,S.filename=e.source,S.line=n,S.column=r,S.source=t,!e.silent)throw S}function l(x){var S=x.exec(t);if(S){var R=S[0];return i(R),t=t.slice(R.length),S}}function c(){l(HA)}function h(x){var S;for(x=x||[];S=d();)S!==!1&&x.push(S);return x}function d(){var x=s();if(!(xy!=t.charAt(0)||Ey!=t.charAt(1))){for(var S=2;Ss!=t.charAt(S)&&(Ey!=t.charAt(S)||xy!=t.charAt(S+1));)++S;if(S+=2,Ss===t.charAt(S-1))return o("End of comment missing");var R=t.slice(2,S-2);return r+=2,i(R),t=t.slice(S),r+=2,x({type:XA,comment:R})}}function m(){var x=s(),S=l($A);if(S){if(d(),!l(WA))return o("property missing ':'");var R=l(GA),E=x({type:JA,property:Sy(S[0].replace(_y,Ss)),value:R?Sy(R[0].replace(_y,Ss)):Ss});return l(KA),E}}function g(){var x=[];h(x);for(var S;S=m();)S!==!1&&(x.push(S),h(x));return x}return c(),g()};function Sy(t){return t?t.replace(QA,Ss):Ss}var eC=Zg&&Zg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(N8,"__esModule",{value:!0});var by=N8.default=nC,tC=eC(ZA);function nC(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,tC.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var a=s.property,o=s.value;i?e(a,o,s):o&&(n=n||{},n[a]=o)}}),n}const rC=by.default||by,M8=D8("end"),w1=D8("start");function D8(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function iC(t){const e=w1(t),n=M8(t);if(e&&n)return{start:e,end:n}}function fl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?ky(t.position):"start"in t||"end"in t?ky(t):"line"in t||"column"in t?bp(t):""}function bp(t){return Ty(t&&t.line)+":"+Ty(t&&t.column)}function ky(t){return bp(t&&t.start)+"-"+bp(t&&t.end)}function Ty(t){return t&&typeof t=="number"?t:1}class Xt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=fl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const _1={}.hasOwnProperty,sC=new Map,aC=/[A-Z]/g,oC=/-([a-z])/g,lC=new Set(["table","tbody","thead","tfoot","tr"]),uC=new Set(["td","th"]),O8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function cC(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=vC(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yC(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?_h:P8,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=L8(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function L8(t,e,n){if(e.type==="element")return hC(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return dC(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return pC(t,e,n);if(e.type==="mdxjsEsm")return fC(t,e);if(e.type==="root")return mC(t,e,n);if(e.type==="text")return gC(t,e)}function hC(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=_h,t.schema=i),t.ancestors.push(e);const s=V8(t,e.tagName,!1),a=wC(t,e);let o=E1(t,e);return lC.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!NA(l):!0})),z8(t,a,s,e),x1(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function dC(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}$l(t,e.position)}function fC(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);$l(t,e.position)}function pC(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=_h,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:V8(t,e.name,!0),a=_C(t,e),o=E1(t,e);return z8(t,a,s,e),x1(a,o),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function mC(t,e,n){const r={};return x1(r,E1(t,e)),t.create(e,t.Fragment,r,n)}function gC(t,e){return e.value}function z8(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function x1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function yC(t,e,n){return r;function r(i,s,a,o){const c=Array.isArray(a.children)?n:e;return o?c(s,a,o):c(s,a)}}function vC(t,e){return n;function n(r,i,s,a){const o=Array.isArray(s.children),l=w1(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function wC(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&_1.call(e.properties,i)){const s=xC(t,i,e.properties[i]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&uC.has(e.tagName)?r=o:n[a]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _C(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else $l(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else $l(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function E1(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:sC;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=L8(t,s,a);o!==void 0&&n.push(o)}return n}function xC(t,e,n){const r=R8(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?IA(n):jA(n)),r.property==="style"){let i=typeof n=="object"?n:EC(t,String(n));return t.stylePropertyNameCase==="css"&&(i=SC(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?UA[r.property]||r.property:r.attribute,n]}}function EC(t,e){const n={};try{rC(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,a=new Xt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=O8+"#cannot-parse-style-attribute",a}}return n;function r(i,s){let a=i;a.slice(0,2)!=="--"&&(a.slice(0,4)==="-ms-"&&(a="ms-"+a.slice(4)),a=a.replace(oC,kC)),n[a]=s}}function V8(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=my(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=my(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return _1.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);$l(t)}function $l(t,e){const n=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=O8+"#cannot-handle-mdx-estrees-without-createevaluater",n}function SC(t){const e={};let n;for(n in t)_1.call(t,n)&&(e[bC(n)]=t[n]);return e}function bC(t){let e=t.replace(aC,TC);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function kC(t,e){return e.toUpperCase()}function TC(t){return"-"+t.toLowerCase()}const Md={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},IC={};function AC(t,e){const n=IC,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return F8(t,r,i)}function F8(t,e,n){if(CC(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Iy(t.children,e,n)}return Array.isArray(t)?Iy(t,e,n):""}function Iy(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=F8(t[i],e,n);return r.join("")}function CC(t){return!!(t&&typeof t=="object")}const Ay=document.createElement("i");function S1(t){const e="&"+t+";";Ay.innerHTML=e;const n=Ay.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function kr(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Bn(t,e){return t.length>0?(kr(t,t.length,0,e),t):e}const Cy={}.hasOwnProperty;function RC(t){const e={};let n=-1;for(;++n<t.length;)PC(e,t[n]);return e}function PC(t,e){let n;for(n in e){const i=(Cy.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){Cy.call(i,a)||(i[a]=[]);const o=s[a];NC(i[a],Array.isArray(o)?o:o?[o]:[])}}}function NC(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);kr(t,0,0,r)}function B8(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Na(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pr=us(/[A-Za-z]/),Rn=us(/[\dA-Za-z]/),MC=us(/[#-'*+\--9=?A-Z^-~]/);function kp(t){return t!==null&&(t<32||t===127)}const Tp=us(/\d/),DC=us(/[\dA-Fa-f]/),OC=us(/[!-/:-@[-`{-~]/);function pe(t){return t!==null&&t<-2}function yn(t){return t!==null&&(t<0||t===32)}function Be(t){return t===-2||t===-1||t===32}const LC=us(new RegExp("\\p{P}|\\p{S}","u")),zC=us(/\s/);function us(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function po(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Rn(t.charCodeAt(n+1))&&Rn(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function qe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Be(l)?(t.enter(n),o(l)):e(l)}function o(l){return Be(l)&&s++<i?(t.consume(l),o):(t.exit(n),e(l))}}const VC={tokenize:FC};function FC(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),qe(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return pe(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const BC={tokenize:UC},Ry={tokenize:jC};function UC(t){const e=this,n=[];let r=0,i,s,a;return o;function o(T){if(r<n.length){const B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,l,c)(T)}return c(T)}function l(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const B=e.events.length;let j=B,F;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){F=e.events[j][1].end;break}E(r);let C=B;for(;C<e.events.length;)e.events[C][1].end={...F},C++;return kr(e.events,j+1,0,e.events.slice(B)),e.events.length=C,c(T)}return o(T)}function c(T){if(r===n.length){if(!i)return m(T);if(i.currentConstruct&&i.currentConstruct.concrete)return x(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Ry,h,d)(T)}function h(T){return i&&w(),E(r),m(T)}function d(T){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,x(T)}function m(T){return e.containerState={},t.attempt(Ry,g,x)(T)}function g(T){return r++,n.push([e.currentConstruct,e.containerState]),m(T)}function x(T){if(T===null){i&&w(),E(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(T)}function S(T){if(T===null){R(t.exit("chunkFlow"),!0),E(0),t.consume(T);return}return pe(T)?(t.consume(T),R(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(T),S)}function R(T,B){const j=e.sliceStream(T);if(B&&j.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(j),e.parser.lazy[T.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<a&&(!i.events[F][1].end||i.events[F][1].end.offset>a))return;const C=e.events.length;let b=C,A,N;for(;b--;)if(e.events[b][0]==="exit"&&e.events[b][1].type==="chunkFlow"){if(A){N=e.events[b][1].end;break}A=!0}for(E(r),F=C;F<e.events.length;)e.events[F][1].end={...N},F++;kr(e.events,b+1,0,e.events.slice(C)),e.events.length=F}}function E(T){let B=n.length;for(;B-- >T;){const j=n[B];e.containerState=j[1],j[0].exit.call(e,t)}n.length=T}function w(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function jC(t,e,n){return qe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Py(t){if(t===null||yn(t)||zC(t))return 1;if(LC(t))return 2}function b1(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Ip={name:"attention",resolveAll:qC,tokenize:HC};function qC(t,e){let n=-1,r,i,s,a,o,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},m={...t[n][1].start};Ny(d,-l),Ny(m,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[r][1].end={...a.start},t[n][1].start={...o.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Bn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Bn(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=Bn(c,b1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Bn(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=Bn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,kr(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function HC(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Py(r);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const c=t.exit("attentionSequence"),h=Py(l),d=!h||h===2&&i||n.includes(l),m=!i||i===2&&h||n.includes(r);return c._open=!!(s===42?d:d&&(i||!m)),c._close=!!(s===42?m:m&&(h||!d)),e(l)}}function Ny(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const $C={name:"autolink",tokenize:WC};function WC(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return pr(g)?(t.consume(g),a):g===64?n(g):c(g)}function a(g){return g===43||g===45||g===46||Rn(g)?(r=1,o(g)):c(g)}function o(g){return g===58?(t.consume(g),r=0,l):(g===43||g===45||g===46||Rn(g))&&r++<32?(t.consume(g),o):(r=0,c(g))}function l(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||kp(g)?n(g):(t.consume(g),l)}function c(g){return g===64?(t.consume(g),h):MC(g)?(t.consume(g),c):n(g)}function h(g){return Rn(g)?d(g):n(g)}function d(g){return g===46?(t.consume(g),r=0,h):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):m(g)}function m(g){if((g===45||Rn(g))&&r++<63){const x=g===45?m:d;return t.consume(g),x}return n(g)}}const xh={partial:!0,tokenize:GC};function GC(t,e,n){return r;function r(s){return Be(s)?qe(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||pe(s)?e(s):n(s)}}const U8={continuation:{tokenize:QC},exit:YC,name:"blockQuote",tokenize:KC};function KC(t,e,n){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Be(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function QC(t,e,n){const r=this;return i;function i(a){return Be(a)?qe(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(U8,e,n)(a)}}function YC(t){t.exit("blockQuote")}const j8={name:"characterEscape",tokenize:XC};function XC(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return OC(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const q8={name:"characterReference",tokenize:JC};function JC(t,e,n){const r=this;let i=0,s,a;return o;function o(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=Rn,h(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=DC,h):(t.enter("characterReferenceValue"),s=7,a=Tp,h(d))}function h(d){if(d===59&&i){const m=t.exit("characterReferenceValue");return a===Rn&&!S1(r.sliceSerialize(m))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&i++<s?(t.consume(d),h):n(d)}}const My={partial:!0,tokenize:eR},Dy={concrete:!0,name:"codeFenced",tokenize:ZC};function ZC(t,e,n){const r=this,i={partial:!0,tokenize:j};let s=0,a=0,o;return l;function l(F){return c(F)}function c(F){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(F)}function h(F){return F===o?(a++,t.consume(F),h):a<3?n(F):(t.exit("codeFencedFenceSequence"),Be(F)?qe(t,d,"whitespace")(F):d(F))}function d(F){return F===null||pe(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(My,S,B)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(F))}function m(F){return F===null||pe(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(F)):Be(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),qe(t,g,"whitespace")(F)):F===96&&F===o?n(F):(t.consume(F),m)}function g(F){return F===null||pe(F)?d(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(F))}function x(F){return F===null||pe(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(F)):F===96&&F===o?n(F):(t.consume(F),x)}function S(F){return t.attempt(i,B,R)(F)}function R(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),E}function E(F){return s>0&&Be(F)?qe(t,w,"linePrefix",s+1)(F):w(F)}function w(F){return F===null||pe(F)?t.check(My,S,B)(F):(t.enter("codeFlowValue"),T(F))}function T(F){return F===null||pe(F)?(t.exit("codeFlowValue"),w(F)):(t.consume(F),T)}function B(F){return t.exit("codeFenced"),e(F)}function j(F,C,b){let A=0;return N;function N(ce){return F.enter("lineEnding"),F.consume(ce),F.exit("lineEnding"),M}function M(ce){return F.enter("codeFencedFence"),Be(ce)?qe(F,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):L(ce)}function L(ce){return ce===o?(F.enter("codeFencedFenceSequence"),P(ce)):b(ce)}function P(ce){return ce===o?(A++,F.consume(ce),P):A>=a?(F.exit("codeFencedFenceSequence"),Be(ce)?qe(F,de,"whitespace")(ce):de(ce)):b(ce)}function de(ce){return ce===null||pe(ce)?(F.exit("codeFencedFence"),C(ce)):b(ce)}}}function eR(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const Dd={name:"codeIndented",tokenize:nR},tR={partial:!0,tokenize:rR};function nR(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),qe(t,s,"linePrefix",5)(c)}function s(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):pe(c)?t.attempt(tR,a,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||pe(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function rR(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):pe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):qe(t,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):pe(a)?i(a):n(a)}}const iR={name:"codeText",previous:aR,resolve:sR,tokenize:oR};function sR(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function aR(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oR(t,e,n){let r=0,i,s;return a;function a(d){return t.enter("codeText"),t.enter("codeTextSequence"),o(d)}function o(d){return d===96?(t.consume(d),r++,o):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):pe(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||pe(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class lR{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Uo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Uo(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Uo(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Uo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Uo(this.left,n.reverse())}}}function Uo(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function H8(t){const e={};let n=-1,r,i,s,a,o,l,c;const h=new lR(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,uR(h,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);i&&(r[1].end={...h.get(i)[1].start},o=h.slice(i,n),o.unshift(r),h.splice(i,n-i+1,o))}}return kr(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function uR(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],a=n._tokenizer||r.parser[n.contentType](n.start),o=a.events,l=[],c={};let h,d,m=-1,g=n,x=0,S=0;const R=[S];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(h=r.sliceStream(g),g.next||h.push(null),d&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=g,g=g.next}for(g=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(S=m+1,R.push(S),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):R.pop(),m=R.length;m--;){const E=o.slice(R[m],R[m+1]),w=s.pop();l.push([w,w+E.length-1]),t.splice(w,2,E)}for(l.reverse(),m=-1;++m<l.length;)c[x+l[m][0]]=x+l[m][1],x+=l[m][1]-l[m][0]-1;return c}const cR={resolve:dR,tokenize:fR},hR={partial:!0,tokenize:pR};function dR(t){return H8(t),t}function fR(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):pe(o)?t.check(hR,a,s)(o):(t.consume(o),i)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function pR(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),qe(t,s,"linePrefix")}function s(a){if(a===null||pe(a))return n(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function $8(t,e,n,r,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(E){return E===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(E),t.exit(s),m):E===null||E===32||E===41||kp(E)?n(E):(t.enter(r),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),S(E))}function m(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(t.exit("chunkString"),t.exit(o),m(E)):E===null||E===60||pe(E)?n(E):(t.consume(E),E===92?x:g)}function x(E){return E===60||E===62||E===92?(t.consume(E),g):g(E)}function S(E){return!h&&(E===null||E===41||yn(E))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(r),e(E)):h<c&&E===40?(t.consume(E),h++,S):E===41?(t.consume(E),h--,S):E===null||E===32||E===40||kp(E)?n(E):(t.consume(E),E===92?R:S)}function R(E){return E===40||E===41||E===92?(t.consume(E),S):S(E)}}function W8(t,e,n,r,i,s){const a=this;let o=0,l;return c;function c(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),h}function h(g){return o>999||g===null||g===91||g===93&&!l||g===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):pe(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===null||g===91||g===93||pe(g)||o++>999?(t.exit("chunkString"),h(g)):(t.consume(g),l||(l=!Be(g)),g===92?m:d)}function m(g){return g===91||g===92||g===93?(t.consume(g),o++,d):d(g)}}function G8(t,e,n,r,i,s){let a;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),a=m===40?41:m,l):n(m)}function l(m){return m===a?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(s),c(m))}function c(m){return m===a?(t.exit(s),l(a)):m===null?n(m):pe(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),qe(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===a||m===null||pe(m)?(t.exit("chunkString"),c(m)):(t.consume(m),m===92?d:h)}function d(m){return m===a||m===92?(t.consume(m),h):h(m)}}function pl(t,e){let n;return r;function r(i){return pe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Be(i)?qe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const mR={name:"definition",tokenize:yR},gR={partial:!0,tokenize:vR};function yR(t,e,n){const r=this;let i;return s;function s(g){return t.enter("definition"),a(g)}function a(g){return W8.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return i=Na(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),l):n(g)}function l(g){return yn(g)?pl(t,c)(g):c(g)}function c(g){return $8(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return t.attempt(gR,d,d)(g)}function d(g){return Be(g)?qe(t,m,"whitespace")(g):m(g)}function m(g){return g===null||pe(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function vR(t,e,n){return r;function r(o){return yn(o)?pl(t,i)(o):n(o)}function i(o){return G8(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Be(o)?qe(t,a,"whitespace")(o):a(o)}function a(o){return o===null||pe(o)?e(o):n(o)}}const wR={name:"hardBreakEscape",tokenize:_R};function _R(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return pe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const xR={name:"headingAtx",resolve:ER,tokenize:SR};function ER(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},kr(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function SR(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(t.consume(h),a):h===null||yn(h)?(t.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||pe(h)?(t.exit("atxHeading"),e(h)):Be(h)?qe(t,o,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||yn(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),c)}}const bR=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Oy=["pre","script","style","textarea"],kR={concrete:!0,name:"htmlFlow",resolveTo:AR,tokenize:CR},TR={partial:!0,tokenize:PR},IR={partial:!0,tokenize:RR};function AR(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function CR(t,e,n){const r=this;let i,s,a,o,l;return c;function c(V){return h(V)}function h(V){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(V),d}function d(V){return V===33?(t.consume(V),m):V===47?(t.consume(V),s=!0,S):V===63?(t.consume(V),i=3,r.interrupt?e:D):pr(V)?(t.consume(V),a=String.fromCharCode(V),R):n(V)}function m(V){return V===45?(t.consume(V),i=2,g):V===91?(t.consume(V),i=5,o=0,x):pr(V)?(t.consume(V),i=4,r.interrupt?e:D):n(V)}function g(V){return V===45?(t.consume(V),r.interrupt?e:D):n(V)}function x(V){const Xe="CDATA[";return V===Xe.charCodeAt(o++)?(t.consume(V),o===Xe.length?r.interrupt?e:L:x):n(V)}function S(V){return pr(V)?(t.consume(V),a=String.fromCharCode(V),R):n(V)}function R(V){if(V===null||V===47||V===62||yn(V)){const Xe=V===47,tt=a.toLowerCase();return!Xe&&!s&&Oy.includes(tt)?(i=1,r.interrupt?e(V):L(V)):bR.includes(a.toLowerCase())?(i=6,Xe?(t.consume(V),E):r.interrupt?e(V):L(V)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):s?w(V):T(V))}return V===45||Rn(V)?(t.consume(V),a+=String.fromCharCode(V),R):n(V)}function E(V){return V===62?(t.consume(V),r.interrupt?e:L):n(V)}function w(V){return Be(V)?(t.consume(V),w):N(V)}function T(V){return V===47?(t.consume(V),N):V===58||V===95||pr(V)?(t.consume(V),B):Be(V)?(t.consume(V),T):N(V)}function B(V){return V===45||V===46||V===58||V===95||Rn(V)?(t.consume(V),B):j(V)}function j(V){return V===61?(t.consume(V),F):Be(V)?(t.consume(V),j):T(V)}function F(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),l=V,C):Be(V)?(t.consume(V),F):b(V)}function C(V){return V===l?(t.consume(V),l=null,A):V===null||pe(V)?n(V):(t.consume(V),C)}function b(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||yn(V)?j(V):(t.consume(V),b)}function A(V){return V===47||V===62||Be(V)?T(V):n(V)}function N(V){return V===62?(t.consume(V),M):n(V)}function M(V){return V===null||pe(V)?L(V):Be(V)?(t.consume(V),M):n(V)}function L(V){return V===45&&i===2?(t.consume(V),Ce):V===60&&i===1?(t.consume(V),Re):V===62&&i===4?(t.consume(V),ke):V===63&&i===3?(t.consume(V),D):V===93&&i===5?(t.consume(V),he):pe(V)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(TR,we,P)(V)):V===null||pe(V)?(t.exit("htmlFlowData"),P(V)):(t.consume(V),L)}function P(V){return t.check(IR,de,we)(V)}function de(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),ce}function ce(V){return V===null||pe(V)?P(V):(t.enter("htmlFlowData"),L(V))}function Ce(V){return V===45?(t.consume(V),D):L(V)}function Re(V){return V===47?(t.consume(V),a="",ne):L(V)}function ne(V){if(V===62){const Xe=a.toLowerCase();return Oy.includes(Xe)?(t.consume(V),ke):L(V)}return pr(V)&&a.length<8?(t.consume(V),a+=String.fromCharCode(V),ne):L(V)}function he(V){return V===93?(t.consume(V),D):L(V)}function D(V){return V===62?(t.consume(V),ke):V===45&&i===2?(t.consume(V),D):L(V)}function ke(V){return V===null||pe(V)?(t.exit("htmlFlowData"),we(V)):(t.consume(V),ke)}function we(V){return t.exit("htmlFlow"),e(V)}}function RR(t,e,n){const r=this;return i;function i(a){return pe(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function PR(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(xh,e,n)}}const NR={name:"htmlText",tokenize:MR};function MR(t,e,n){const r=this;let i,s,a;return o;function o(D){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(D),l}function l(D){return D===33?(t.consume(D),c):D===47?(t.consume(D),j):D===63?(t.consume(D),T):pr(D)?(t.consume(D),b):n(D)}function c(D){return D===45?(t.consume(D),h):D===91?(t.consume(D),s=0,x):pr(D)?(t.consume(D),w):n(D)}function h(D){return D===45?(t.consume(D),g):n(D)}function d(D){return D===null?n(D):D===45?(t.consume(D),m):pe(D)?(a=d,Re(D)):(t.consume(D),d)}function m(D){return D===45?(t.consume(D),g):d(D)}function g(D){return D===62?Ce(D):D===45?m(D):d(D)}function x(D){const ke="CDATA[";return D===ke.charCodeAt(s++)?(t.consume(D),s===ke.length?S:x):n(D)}function S(D){return D===null?n(D):D===93?(t.consume(D),R):pe(D)?(a=S,Re(D)):(t.consume(D),S)}function R(D){return D===93?(t.consume(D),E):S(D)}function E(D){return D===62?Ce(D):D===93?(t.consume(D),E):S(D)}function w(D){return D===null||D===62?Ce(D):pe(D)?(a=w,Re(D)):(t.consume(D),w)}function T(D){return D===null?n(D):D===63?(t.consume(D),B):pe(D)?(a=T,Re(D)):(t.consume(D),T)}function B(D){return D===62?Ce(D):T(D)}function j(D){return pr(D)?(t.consume(D),F):n(D)}function F(D){return D===45||Rn(D)?(t.consume(D),F):C(D)}function C(D){return pe(D)?(a=C,Re(D)):Be(D)?(t.consume(D),C):Ce(D)}function b(D){return D===45||Rn(D)?(t.consume(D),b):D===47||D===62||yn(D)?A(D):n(D)}function A(D){return D===47?(t.consume(D),Ce):D===58||D===95||pr(D)?(t.consume(D),N):pe(D)?(a=A,Re(D)):Be(D)?(t.consume(D),A):Ce(D)}function N(D){return D===45||D===46||D===58||D===95||Rn(D)?(t.consume(D),N):M(D)}function M(D){return D===61?(t.consume(D),L):pe(D)?(a=M,Re(D)):Be(D)?(t.consume(D),M):A(D)}function L(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),i=D,P):pe(D)?(a=L,Re(D)):Be(D)?(t.consume(D),L):(t.consume(D),de)}function P(D){return D===i?(t.consume(D),i=void 0,ce):D===null?n(D):pe(D)?(a=P,Re(D)):(t.consume(D),P)}function de(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||yn(D)?A(D):(t.consume(D),de)}function ce(D){return D===47||D===62||yn(D)?A(D):n(D)}function Ce(D){return D===62?(t.consume(D),t.exit("htmlTextData"),t.exit("htmlText"),e):n(D)}function Re(D){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),ne}function ne(D){return Be(D)?qe(t,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):he(D)}function he(D){return t.enter("htmlTextData"),a(D)}}const k1={name:"labelEnd",resolveAll:zR,resolveTo:VR,tokenize:FR},DR={tokenize:BR},OR={tokenize:UR},LR={tokenize:jR};function zR(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&kr(t,0,t.length,n),t}function VR(t,e){let n=t.length,r=0,i,s,a,o;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Bn(o,t.slice(s+1,s+r+3)),o=Bn(o,[["enter",h,e]]),o=Bn(o,b1(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),o=Bn(o,[["exit",h,e],t[a-2],t[a-1],["exit",c,e]]),o=Bn(o,t.slice(a+1)),o=Bn(o,[["exit",l,e]]),kr(t,s,t.length,o),t}function FR(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(m){return s?s._inactive?d(m):(a=r.parser.defined.includes(Na(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(DR,h,a?h:d)(m):m===91?t.attempt(OR,h,a?c:d)(m):a?h(m):d(m)}function c(m){return t.attempt(LR,h,d)(m)}function h(m){return e(m)}function d(m){return s._balanced=!0,n(m)}}function BR(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return yn(d)?pl(t,s)(d):s(d)}function s(d){return d===41?h(d):$8(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return yn(d)?pl(t,l)(d):h(d)}function o(d){return n(d)}function l(d){return d===34||d===39||d===40?G8(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function c(d){return yn(d)?pl(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function UR(t,e,n){const r=this;return i;function i(o){return W8.call(r,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Na(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function jR(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const qR={name:"labelStartImage",resolveAll:k1.resolveAll,tokenize:HR};function HR(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const $R={name:"labelStartLink",resolveAll:k1.resolveAll,tokenize:WR};function WR(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Od={name:"lineEnding",tokenize:GR};function GR(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),qe(t,e,"linePrefix")}}const Nc={name:"thematicBreak",tokenize:KR};function KR(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||pe(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Be(c)?qe(t,o,"whitespace")(c):o(c))}}const un={continuation:{tokenize:JR},exit:eP,name:"list",tokenize:XR},QR={partial:!0,tokenize:tP},YR={partial:!0,tokenize:ZR};function XR(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(g){const x=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:Tp(g)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(Nc,n,c)(g):c(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(g)}return n(g)}function l(g){return Tp(g)&&++a<10?(t.consume(g),l):(!r.interrupt||a<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),c(g)):n(g)}function c(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(xh,r.interrupt?n:h,t.attempt(QR,m,d))}function h(g){return r.containerState.initialBlankLine=!0,s++,m(g)}function d(g){return Be(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),m):n(g)}function m(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function JR(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(xh,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,qe(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Be(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(YR,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,qe(t,t.attempt(un,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function ZR(t,e,n){const r=this;return qe(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function eP(t){t.exit(this.containerState.type)}function tP(t,e,n){const r=this;return qe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Be(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const Ly={name:"setextUnderline",resolveTo:nP,tokenize:rP};function nP(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function rP(t,e,n){const r=this;let i;return s;function s(c){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Be(c)?qe(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||pe(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const iP={tokenize:sP};function sP(t){const e=this,n=t.attempt(xh,r,t.attempt(this.parser.constructs.flowInitial,i,qe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(cR,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const aP={resolveAll:Q8()},oP=K8("string"),lP=K8("text");function K8(t){return{resolveAll:Q8(t==="text"?uP:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,o);return a;function a(h){return c(h)?s(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const d=i[h];let m=-1;if(d)for(;++m<d.length;){const g=d[m];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function Q8(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function uP(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const cP={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:U8},hP={91:mR},dP={[-2]:Dd,[-1]:Dd,32:Dd},fP={35:xR,42:Nc,45:[Ly,Nc],60:kR,61:Ly,95:Nc,96:Dy,126:Dy},pP={38:q8,92:j8},mP={[-5]:Od,[-4]:Od,[-3]:Od,33:qR,38:q8,42:Ip,60:[$C,NR],91:$R,92:[wR,j8],93:k1,95:Ip,96:iR},gP={null:[Ip,aP]},yP={null:[42,95]},vP={null:[]},wP=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:yP,contentInitial:hP,disable:vP,document:cP,flow:fP,flowInitial:dP,insideSpan:gP,string:pP,text:mP},Symbol.toStringTag,{value:"Module"}));function _P(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:C(j),check:C(F),consume:w,enter:T,exit:B,interrupt:C(F,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:x,parser:t,previous:null,sliceSerialize:m,sliceStream:g,write:d};let h=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(M){return a=Bn(a,M),R(),a[a.length-1]!==null?[]:(b(e,0),c.events=b1(s,c.events,c),c.events)}function m(M,L){return EP(g(M),L)}function g(M){return xP(a,M)}function x(){const{_bufferIndex:M,_index:L,line:P,column:de,offset:ce}=r;return{_bufferIndex:M,_index:L,line:P,column:de,offset:ce}}function S(M){i[M.line]=M.column,N()}function R(){let M;for(;r._index<a.length;){const L=a[r._index];if(typeof L=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<L.length;)E(L.charCodeAt(r._bufferIndex));else E(L)}}function E(M){h=h(M)}function w(M){pe(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,N()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=M}function T(M,L){const P=L||{};return P.type=M,P.start=x(),c.events.push(["enter",P,c]),o.push(P),P}function B(M){const L=o.pop();return L.end=x(),c.events.push(["exit",L,c]),L}function j(M,L){b(M,L.from)}function F(M,L){L.restore()}function C(M,L){return P;function P(de,ce,Ce){let Re,ne,he,D;return Array.isArray(de)?we(de):"tokenize"in de?we([de]):ke(de);function ke(Ue){return ht;function ht(Nt){const wn=Nt!==null&&Ue[Nt],Bt=Nt!==null&&Ue.null,Yn=[...Array.isArray(wn)?wn:wn?[wn]:[],...Array.isArray(Bt)?Bt:Bt?[Bt]:[]];return we(Yn)(Nt)}}function we(Ue){return Re=Ue,ne=0,Ue.length===0?Ce:V(Ue[ne])}function V(Ue){return ht;function ht(Nt){return D=A(),he=Ue,Ue.partial||(c.currentConstruct=Ue),Ue.name&&c.parser.constructs.disable.null.includes(Ue.name)?tt():Ue.tokenize.call(L?Object.assign(Object.create(c),L):c,l,Xe,tt)(Nt)}}function Xe(Ue){return M(he,D),ce}function tt(Ue){return D.restore(),++ne<Re.length?V(Re[ne]):Ce}}}function b(M,L){M.resolveAll&&!s.includes(M)&&s.push(M),M.resolve&&kr(c.events,L,c.events.length-L,M.resolve(c.events.slice(L),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function A(){const M=x(),L=c.previous,P=c.currentConstruct,de=c.events.length,ce=Array.from(o);return{from:de,restore:Ce};function Ce(){r=M,c.previous=L,c.currentConstruct=P,c.events.length=de,o=ce,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function xP(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function EP(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function SP(t){const r={constructs:RC([wP,...(t||{}).extensions||[]]),content:i(VC),defined:[],document:i(BC),flow:i(iP),lazy:{},string:i(oP),text:i(lP)};return r;function i(s){return a;function a(o){return _P(r,s,o)}}}function bP(t){for(;!H8(t););return t}const zy=/[\0\t\n\r]/g;function kP(){let t=1,e="",n=!0,r;return i;function i(s,a,o){const l=[];let c,h,d,m,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(zy.lastIndex=d,c=zy.exec(s),m=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(m),!c){e=s.slice(d);break}if(g===10&&d===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<m&&(l.push(s.slice(d,m)),t+=m-d),g){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=m+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const TP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function IP(t){return t.replace(TP,AP)}function AP(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return B8(n.slice(s?2:1),s?16:10)}return S1(n)||t}const Y8={}.hasOwnProperty;function CP(t,e,n){return typeof e!="string"&&(n=e,e=void 0),RP(n)(bP(SP(n).document().write(kP()(t,e,!0))))}function RP(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(lr),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(Rr),blockQuote:s(Bt),characterEscape:A,characterReference:A,codeFenced:s(Yn),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Yn,a),codeText:s(ds,a),codeTextData:A,data:A,codeFlowValue:A,definition:s(fs),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Cr),hardBreakEscape:s(ui),hardBreakTrailing:s(ui),htmlFlow:s(ci,a),htmlFlowData:A,htmlText:s(ci,a),htmlTextData:A,image:s(hi),label:a,link:s(lr),listItem:s(gu),listItemValue:m,listOrdered:s(Js,d),listUnordered:s(Js),paragraph:s(Oh),reference:V,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Rr),strong:s(wo),thematicBreak:s(yu)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:wn,autolinkProtocol:Nt,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:tt,characterReferenceMarkerNumeric:tt,characterReferenceValue:Ue,characterReference:ht,codeFenced:l(R),codeFencedFence:S,codeFencedFenceInfo:g,codeFencedFenceMeta:x,codeFlowValue:N,codeIndented:l(E),codeText:l(ce),codeTextData:N,data:N,definition:l(),definitionDestinationString:B,definitionLabelString:w,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(L),hardBreakTrailing:l(L),htmlFlow:l(P),htmlFlowData:N,htmlText:l(de),htmlTextData:N,image:l(Re),label:he,labelText:ne,lineEnding:M,link:l(Ce),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Xe,resourceDestinationString:D,resourceTitleString:ke,resource:we,setextHeading:l(b),setextHeadingLineSequence:C,setextHeadingText:F,strong:l(),thematicBreak:l()}};X8(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(G){let J={type:"root",children:[]};const _e={stack:[J],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:h,data:n},Pe=[];let je=-1;for(;++je<G.length;)if(G[je][1].type==="listOrdered"||G[je][1].type==="listUnordered")if(G[je][0]==="enter")Pe.push(je);else{const _n=Pe.pop();je=i(G,_n,je)}for(je=-1;++je<G.length;){const _n=e[G[je][0]];Y8.call(_n,G[je][1].type)&&_n[G[je][1].type].call(Object.assign({sliceSerialize:G[je][2].sliceSerialize},_e),G[je][1])}if(_e.tokenStack.length>0){const _n=_e.tokenStack[_e.tokenStack.length-1];(_n[1]||Vy).call(_e,void 0,_n[0])}for(J.position={start:vi(G.length>0?G[0][1].start:{line:1,column:1,offset:0}),end:vi(G.length>0?G[G.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<e.transforms.length;)J=e.transforms[je](J)||J;return J}function i(G,J,_e){let Pe=J-1,je=-1,_n=!1,xn,zn,di,Pr;for(;++Pe<=_e;){const Jt=G[Pe];switch(Jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jt[0]==="enter"?je++:je--,Pr=void 0;break}case"lineEndingBlank":{Jt[0]==="enter"&&(xn&&!Pr&&!je&&!di&&(di=Pe),Pr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pr=void 0}if(!je&&Jt[0]==="enter"&&Jt[1].type==="listItemPrefix"||je===-1&&Jt[0]==="exit"&&(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered")){if(xn){let fi=Pe;for(zn=void 0;fi--;){const En=G[fi];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;zn&&(G[zn][1].type="lineEndingBlank",_n=!0),En[1].type="lineEnding",zn=fi}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}di&&(!zn||di<zn)&&(xn._spread=!0),xn.end=Object.assign({},zn?G[zn][1].start:Jt[1].end),G.splice(zn||Pe,0,["exit",xn,Jt[2]]),Pe++,_e++}if(Jt[1].type==="listItemPrefix"){const fi={type:"listItem",_spread:!1,start:Object.assign({},Jt[1].start),end:void 0};xn=fi,G.splice(Pe,0,["enter",fi,Jt[2]]),Pe++,_e++,di=void 0,Pr=!0}}}return G[J][1]._spread=_n,_e}function s(G,J){return _e;function _e(Pe){o.call(this,G(Pe),Pe),J&&J.call(this,Pe)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(G,J,_e){this.stack[this.stack.length-1].children.push(G),this.stack.push(G),this.tokenStack.push([J,_e||void 0]),G.position={start:vi(J.start),end:void 0}}function l(G){return J;function J(_e){G&&G.call(this,_e),c.call(this,_e)}}function c(G,J){const _e=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==G.type&&(J?J.call(this,G,Pe[0]):(Pe[1]||Vy).call(this,G,Pe[0]));else throw new Error("Cannot close `"+G.type+"` ("+fl({start:G.start,end:G.end})+"): its not open");_e.position.end=vi(G.end)}function h(){return AC(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(G){if(this.data.expectingFirstListItemValue){const J=this.stack[this.stack.length-2];J.start=Number.parseInt(this.sliceSerialize(G),10),this.data.expectingFirstListItemValue=void 0}}function g(){const G=this.resume(),J=this.stack[this.stack.length-1];J.lang=G}function x(){const G=this.resume(),J=this.stack[this.stack.length-1];J.meta=G}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const G=this.resume(),J=this.stack[this.stack.length-1];J.value=G.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const G=this.resume(),J=this.stack[this.stack.length-1];J.value=G.replace(/(\r?\n|\r)$/g,"")}function w(G){const J=this.resume(),_e=this.stack[this.stack.length-1];_e.label=J,_e.identifier=Na(this.sliceSerialize(G)).toLowerCase()}function T(){const G=this.resume(),J=this.stack[this.stack.length-1];J.title=G}function B(){const G=this.resume(),J=this.stack[this.stack.length-1];J.url=G}function j(G){const J=this.stack[this.stack.length-1];if(!J.depth){const _e=this.sliceSerialize(G).length;J.depth=_e}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function C(G){const J=this.stack[this.stack.length-1];J.depth=this.sliceSerialize(G).codePointAt(0)===61?1:2}function b(){this.data.setextHeadingSlurpLineEnding=void 0}function A(G){const _e=this.stack[this.stack.length-1].children;let Pe=_e[_e.length-1];(!Pe||Pe.type!=="text")&&(Pe=_o(),Pe.position={start:vi(G.start),end:void 0},_e.push(Pe)),this.stack.push(Pe)}function N(G){const J=this.stack.pop();J.value+=this.sliceSerialize(G),J.position.end=vi(G.end)}function M(G){const J=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=J.children[J.children.length-1];_e.position.end=vi(G.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(J.type)&&(A.call(this,G),N.call(this,G))}function L(){this.data.atHardBreak=!0}function P(){const G=this.resume(),J=this.stack[this.stack.length-1];J.value=G}function de(){const G=this.resume(),J=this.stack[this.stack.length-1];J.value=G}function ce(){const G=this.resume(),J=this.stack[this.stack.length-1];J.value=G}function Ce(){const G=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";G.type+="Reference",G.referenceType=J,delete G.url,delete G.title}else delete G.identifier,delete G.label;this.data.referenceType=void 0}function Re(){const G=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";G.type+="Reference",G.referenceType=J,delete G.url,delete G.title}else delete G.identifier,delete G.label;this.data.referenceType=void 0}function ne(G){const J=this.sliceSerialize(G),_e=this.stack[this.stack.length-2];_e.label=IP(J),_e.identifier=Na(J).toLowerCase()}function he(){const G=this.stack[this.stack.length-1],J=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const Pe=G.children;_e.children=Pe}else _e.alt=J}function D(){const G=this.resume(),J=this.stack[this.stack.length-1];J.url=G}function ke(){const G=this.resume(),J=this.stack[this.stack.length-1];J.title=G}function we(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function Xe(G){const J=this.resume(),_e=this.stack[this.stack.length-1];_e.label=J,_e.identifier=Na(this.sliceSerialize(G)).toLowerCase(),this.data.referenceType="full"}function tt(G){this.data.characterReferenceType=G.type}function Ue(G){const J=this.sliceSerialize(G),_e=this.data.characterReferenceType;let Pe;_e?(Pe=B8(J,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=S1(J);const je=this.stack[this.stack.length-1];je.value+=Pe}function ht(G){const J=this.stack.pop();J.position.end=vi(G.end)}function Nt(G){N.call(this,G);const J=this.stack[this.stack.length-1];J.url=this.sliceSerialize(G)}function wn(G){N.call(this,G);const J=this.stack[this.stack.length-1];J.url="mailto:"+this.sliceSerialize(G)}function Bt(){return{type:"blockquote",children:[]}}function Yn(){return{type:"code",lang:null,meta:null,value:""}}function ds(){return{type:"inlineCode",value:""}}function fs(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Cr(){return{type:"emphasis",children:[]}}function Rr(){return{type:"heading",depth:0,children:[]}}function ui(){return{type:"break"}}function ci(){return{type:"html",value:""}}function hi(){return{type:"image",title:null,url:"",alt:null}}function lr(){return{type:"link",title:null,url:"",children:[]}}function Js(G){return{type:"list",ordered:G.type==="listOrdered",start:null,spread:G._spread,children:[]}}function gu(G){return{type:"listItem",spread:G._spread,checked:null,children:[]}}function Oh(){return{type:"paragraph",children:[]}}function wo(){return{type:"strong",children:[]}}function _o(){return{type:"text",value:""}}function yu(){return{type:"thematicBreak"}}}function vi(t){return{line:t.line,column:t.column,offset:t.offset}}function X8(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?X8(t,r):PP(t,r)}}function PP(t,e){let n;for(n in e)if(Y8.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Vy(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+fl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+fl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+fl({start:e.start,end:e.end})+") is still open")}function NP(t){const e=this;e.parser=n;function n(r){return CP(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function MP(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function DP(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function OP(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function LP(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zP(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VP(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=po(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function FP(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BP(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function J8(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function UP(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return J8(t,e);const i={src:po(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function jP(t,e){const n={src:po(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qP(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function HP(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return J8(t,e);const i={href:po(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function $P(t,e){const n={href:po(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function WP(t,e,n){const r=t.all(e),i=n?GP(n):Z8(e),s={},a=[];if(typeof e.checked=="boolean"){const h=r[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?a.push(...h.children):a.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,c),t.applyData(e,c)}function GP(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Z8(n[r])}return e}function Z8(t){const e=t.spread;return e??t.children.length>1}function KP(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function QP(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YP(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function XP(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function JP(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=w1(e.children[1]),l=M8(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function ZP(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const d=e.children[l],m={},g=a?a[l]:void 0;g&&(m.align=g);let x={type:"element",tagName:s,properties:m,children:[]};d&&(x.children=t.all(d),t.patch(d,x),x=t.applyData(d,x)),c.push(x)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function eN(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Fy=9,By=32;function tN(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(Uy(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(Uy(e.slice(i),i>0,!1)),s.join("")}function Uy(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===Fy||s===By;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===Fy||s===By;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function nN(t,e){const n={type:"text",value:tN(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function rN(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const iN={blockquote:MP,break:DP,code:OP,delete:LP,emphasis:zP,footnoteReference:VP,heading:FP,html:BP,imageReference:UP,image:jP,inlineCode:qP,linkReference:HP,link:$P,listItem:WP,list:KP,paragraph:QP,root:YP,strong:XP,table:JP,tableCell:eN,tableRow:ZP,text:nN,thematicBreak:rN,toml:tc,yaml:tc,definition:tc,footnoteDefinition:tc};function tc(){}const ew=-1,Eh=0,b0=1,k0=2,T1=3,I1=4,A1=5,C1=6,tw=7,nw=8,jy=typeof self=="object"?self:globalThis,sN=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case Eh:case ew:return n(a,i);case b0:{const o=n([],i);for(const l of a)o.push(r(l));return o}case k0:{const o=n({},i);for(const[l,c]of a)o[r(l)]=r(c);return o}case T1:return n(new Date(a),i);case I1:{const{source:o,flags:l}=a;return n(new RegExp(o,l),i)}case A1:{const o=n(new Map,i);for(const[l,c]of a)o.set(r(l),r(c));return o}case C1:{const o=n(new Set,i);for(const l of a)o.add(r(l));return o}case tw:{const{name:o,message:l}=a;return n(new jy[o](l),i)}case nw:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i)}return n(new jy[s](a),i)};return r},qy=t=>sN(new Map,t)(0),ia="",{toString:aN}={},{keys:oN}=Object,jo=t=>{const e=typeof t;if(e!=="object"||!t)return[Eh,e];const n=aN.call(t).slice(8,-1);switch(n){case"Array":return[b0,ia];case"Object":return[k0,ia];case"Date":return[T1,ia];case"RegExp":return[I1,ia];case"Map":return[A1,ia];case"Set":return[C1,ia]}return n.includes("Array")?[b0,n]:n.includes("Error")?[tw,n]:[k0,n]},nc=([t,e])=>t===Eh&&(e==="function"||e==="symbol"),lN=(t,e,n,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=jo(a);switch(o){case Eh:{let h=a;switch(l){case"bigint":o=nw,h=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([ew],a)}return i([o,h],a)}case b0:{if(l)return i([l,[...a]],a);const h=[],d=i([o,h],a);for(const m of a)h.push(s(m));return d}case k0:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const h=[],d=i([o,h],a);for(const m of oN(a))(t||!nc(jo(a[m])))&&h.push([s(m),s(a[m])]);return d}case T1:return i([o,a.toISOString()],a);case I1:{const{source:h,flags:d}=a;return i([o,{source:h,flags:d}],a)}case A1:{const h=[],d=i([o,h],a);for(const[m,g]of a)(t||!(nc(jo(m))||nc(jo(g))))&&h.push([s(m),s(g)]);return d}case C1:{const h=[],d=i([o,h],a);for(const m of a)(t||!nc(jo(m)))&&h.push(s(m));return d}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},Hy=(t,{json:e,lossy:n}={})=>{const r=[];return lN(!(e||n),!!e,new Map,r)(t),r},T0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?qy(Hy(t,e)):structuredClone(t):(t,e)=>qy(Hy(t,e));function uN(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function cN(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function hN(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||uN,r=t.options.footnoteBackLabel||cN,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const h=t.all(c),d=String(c.identifier).toUpperCase(),m=po(d.toLowerCase());let g=0;const x=[],S=t.footnoteCounts.get(d);for(;S!==void 0&&++g<=S;){x.length>0&&x.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,g);typeof w=="string"&&(w={type:"text",value:w}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const R=h[h.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const w=R.children[R.children.length-1];w&&w.type==="text"?w.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...x)}else h.push(...x);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(h,!0)};t.patch(c,E),o.push(E)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...T0(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const R1=function(t){if(t==null)return mN;if(typeof t=="function")return Sh(t);if(typeof t=="object")return Array.isArray(t)?dN(t):fN(t);if(typeof t=="string")return pN(t);throw new Error("Expected function, string, or object as test")};function dN(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=R1(t[n]);return Sh(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function fN(t){const e=t;return Sh(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function pN(t){return Sh(e);function e(n){return n&&n.type===t}}function Sh(t){return e;function e(n,r,i){return!!(gN(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function mN(){return!0}function gN(t){return t!==null&&typeof t=="object"&&"type"in t}const rw=[],yN=!0,$y=!1,iw="skip";function sw(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=R1(i),a=r?-1:1;o(t,void 0,[])();function o(l,c,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const g=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=rw,x,S,R;if((!e||s(l,c,h[h.length-1]||void 0))&&(g=vN(n(l,h)),g[0]===$y))return g;if("children"in l&&l.children){const E=l;if(E.children&&g[0]!==iw)for(S=(r?E.children.length:-1)+a,R=h.concat(E);S>-1&&S<E.children.length;){const w=E.children[S];if(x=o(w,S,R)(),x[0]===$y)return x;S=typeof x[1]=="number"?x[1]:S+a}}return g}}}function vN(t){return Array.isArray(t)?t:typeof t=="number"?[yN,t]:t==null?rw:[t]}function aw(t,e,n,r){let i,s,a;typeof e=="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),sw(t,s,o,i);function o(l,c){const h=c[c.length-1],d=h?h.children.indexOf(l):void 0;return a(l,d,h)}}const Ap={}.hasOwnProperty,wN={};function _N(t,e){const n=e||wN,r=new Map,i=new Map,s=new Map,a={...iN,...n.handlers},o={all:c,applyData:EN,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:xN,wrap:bN};return aw(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?r:i,m=String(h.identifier).toUpperCase();d.has(m)||d.set(m,h)}}),o;function l(h,d){const m=h.type,g=o.handlers[m];if(Ap.call(o.handlers,m)&&g)return g(o,h,d);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in h){const{children:S,...R}=h,E=T0(R);return E.children=o.all(h),E}return T0(h)}return(o.options.unknownHandler||SN)(o,h,d)}function c(h){const d=[];if("children"in h){const m=h.children;let g=-1;for(;++g<m.length;){const x=o.one(m[g],h);if(x){if(g&&m[g-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=Wy(x.value)),!Array.isArray(x)&&x.type==="element")){const S=x.children[0];S&&S.type==="text"&&(S.value=Wy(S.value))}Array.isArray(x)?d.push(...x):d.push(x)}}}return d}}function xN(t,e){t.position&&(e.position=iC(t))}function EN(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,T0(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function SN(t,e){const n=e.data||{},r="value"in e&&!(Ap.call(n,"hProperties")||Ap.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function bN(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Wy(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Gy(t,e){const n=_N(t,e),r=n.one(t,void 0),i=hN(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function kN(t,e){return t&&"run"in t?async function(n,r){const i=Gy(n,{file:r,...e});await t.run(i,r)}:function(n,r){return Gy(n,{file:r,...t||e})}}function Ky(t){if(t)throw t}var Mc=Object.prototype.hasOwnProperty,ow=Object.prototype.toString,Qy=Object.defineProperty,Yy=Object.getOwnPropertyDescriptor,Xy=function(e){return typeof Array.isArray=="function"?Array.isArray(e):ow.call(e)==="[object Array]"},Jy=function(e){if(!e||ow.call(e)!=="[object Object]")return!1;var n=Mc.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Mc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Mc.call(e,i)},Zy=function(e,n){Qy&&n.name==="__proto__"?Qy(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},ev=function(e,n){if(n==="__proto__")if(Mc.call(e,n)){if(Yy)return Yy(e,n).value}else return;return e[n]},TN=function t(){var e,n,r,i,s,a,o=arguments[0],l=1,c=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=ev(o,n),i=ev(e,n),o!==i&&(h&&i&&(Jy(i)||(s=Xy(i)))?(s?(s=!1,a=r&&Xy(r)?r:[]):a=r&&Jy(r)?r:{},Zy(o,{name:n,newValue:t(h,a,i)})):typeof i<"u"&&Zy(o,{name:n,newValue:i}));return o};const Ld=g5(TN);function Cp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function IN(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const h=t[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,h?AN(h,o)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function AN(t,e){let n;return r;function r(...a){const o=t.length>a.length;let l;o&&a.push(i);try{l=t.apply(this,a)}catch(c){const h=c;if(o&&n)throw h;return i(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){n||(n=!0,e(a,...o))}function s(a){i(null,a)}}const hr={basename:CN,dirname:RN,extname:PN,join:NN,sep:"/"};function CN(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');uu(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function RN(t){if(uu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function PN(t){uu(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function NN(...t){let e=-1,n;for(;++e<t.length;)uu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":MN(n)}function MN(t){uu(t);const e=t.codePointAt(0)===47;let n=DN(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function DN(t,e){let n="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function uu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ON={cwd:LN};function LN(){return"/"}function Rp(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function zN(t){if(typeof t=="string")t=new URL(t);else if(!Rp(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return VN(t)}function VN(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const zd=["history","path","basename","stem","extname","dirname"];class lw{constructor(e){let n;e?Rp(e)?n={path:e}:typeof e=="string"||FN(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":ON.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zd.length;){const s=zd[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)zd.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?hr.basename(this.path):void 0}set basename(e){Fd(e,"basename"),Vd(e,"basename"),this.path=hr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?hr.dirname(this.path):void 0}set dirname(e){tv(this.basename,"dirname"),this.path=hr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?hr.extname(this.path):void 0}set extname(e){if(Vd(e,"extname"),tv(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Rp(e)&&(e=zN(e)),Fd(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?hr.basename(this.path,this.extname):void 0}set stem(e){Fd(e,"stem"),Vd(e,"stem"),this.path=hr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Xt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Vd(t,e){if(t&&t.includes(hr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+hr.sep+"`")}function Fd(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function tv(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function FN(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const BN=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},UN={}.hasOwnProperty;class P1 extends BN{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=IN()}copy(){const e=new P1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ld(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(jd("data",this.frozen),this.namespace[e]=n,this):UN.call(this.namespace,e)&&this.namespace[e]||void 0:e?(jd("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=rc(e),r=this.parser||this.Parser;return Bd("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Bd("process",this.parser||this.Parser),Ud("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const o=rc(e),l=r.parse(o);r.run(l,o,function(h,d,m){if(h||!d||!m)return c(h);const g=d,x=r.stringify(g,m);HN(x)?m.value=x:m.result=x,c(h,m)});function c(h,d){h||!d?a(h):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Bd("processSync",this.parser||this.Parser),Ud("processSync",this.compiler||this.Compiler),this.process(e,i),rv("processSync","process",n),r;function i(s,a){n=!0,Ky(s),r=a}}run(e,n,r){nv(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=rc(n);i.run(e,l,c);function c(h,d,m){const g=d||e;h?o(h):a?a(g):r(void 0,g,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),rv("runSync","run",r),i;function s(a,o){Ky(a),i=o,r=!0}}stringify(e,n){this.freeze();const r=rc(n),i=this.compiler||this.Compiler;return Ud("stringify",i),nv(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(jd("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...d]=c;l(h,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Ld(!0,i.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const d=c[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let d=-1,m=-1;for(;++d<r.length;)if(r[d][0]===c){m=d;break}if(m===-1)r.push([c,...h]);else if(h.length>0){let[g,...x]=h;const S=r[m][1];Cp(S)&&Cp(g)&&(g=Ld(!0,S,g)),r[m]=[c,g,...x]}}}}const jN=new P1().freeze();function Bd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ud(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function jd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nv(t){if(!Cp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function rv(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function rc(t){return qN(t)?t:new lw(t)}function qN(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function HN(t){return typeof t=="string"||$N(t)}function $N(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const WN="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",iv=[],sv={allowDangerousHtml:!0},GN=/^(https?|ircs?|mailto|xmpp)$/i,KN=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function QN(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,s=t.components,a=t.disallowedElements,o=t.rehypePlugins||iv,l=t.remarkPlugins||iv,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...sv}:sv,h=t.skipHtml,d=t.unwrapDisallowed,m=t.urlTransform||YN,g=jN().use(NP).use(l).use(kN,c).use(o),x=new lw;typeof r=="string"&&(x.value=r);for(const w of KN)Object.hasOwn(t,w.from)&&(""+w.from+(w.to?"use `"+w.to+"` instead":"remove it")+WN+w.id,void 0);const S=g.parse(x);let R=g.runSync(S,x);return i&&(R={type:"element",tagName:"div",properties:{className:i},children:R.type==="root"?R.children:[R]}),aw(R,E),cC(R,{Fragment:$.Fragment,components:s,ignoreInvalidStyle:!0,jsx:$.jsx,jsxs:$.jsxs,passKeys:!0,passNode:!0});function E(w,T,B){if(w.type==="raw"&&B&&typeof T=="number")return h?B.children.splice(T,1):B.children[T]={type:"text",value:w.value},T;if(w.type==="element"){let j;for(j in Md)if(Object.hasOwn(Md,j)&&Object.hasOwn(w.properties,j)){const F=w.properties[j],C=Md[j];(C===null||C.includes(w.tagName))&&(w.properties[j]=m(String(F||""),j,w))}}if(w.type==="element"){let j=e?!e.includes(w.tagName):a?a.includes(w.tagName):!1;if(!j&&n&&typeof T=="number"&&(j=!n(w,T,B)),j&&B&&typeof T=="number")return d&&w.children?B.children.splice(T,1,...w.children):B.children.splice(T,1),T}}}function YN(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||GN.test(t.slice(0,e))?t:""}function XN(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function JN(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:o,mathText:a,mathTextData:o}};function t(l){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},l)}function e(){this.buffer()}function n(){const l=this.resume(),c=this.stack[this.stack.length-1];c.type,c.meta=l}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=c;const d=h.data.hChildren[0];d.type,d.tagName,d.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function a(l){const c=this.resume(),h=this.stack[this.stack.length-1];h.type,this.exit(l),h.value=c,h.data.hChildren.push({type:"text",value:c})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function ZN(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(s,a,o,l){const c=s.value||"",h=o.createTracker(l),d="$".repeat(Math.max(XN(c,"$")+1,2)),m=o.enter("mathFlow");let g=h.move(d);if(s.meta){const x=o.enter("mathFlowMeta");g+=h.move(o.safe(s.meta,{after:`
`,before:g,encode:["$"],...h.current()})),x()}return g+=h.move(`
`),c&&(g+=h.move(c+`
`)),g+=h.move(d),m(),g}function r(s,a,o){let l=s.value||"",c=1;for(e||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(l);)c++;const h="$".repeat(c);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let d=-1;for(;++d<o.unsafe.length;){const m=o.unsafe[d];if(!m.atBreak)continue;const g=o.compilePattern(m);let x;for(;x=g.exec(l);){let S=x.index;l.codePointAt(S)===10&&l.codePointAt(S-1)===13&&S--,l=l.slice(0,S)+" "+l.slice(x.index+1)}}return h+l+h}function i(){return"$"}}const eM={tokenize:tM,concrete:!0,name:"mathFlow"},av={tokenize:nM,partial:!0};function tM(t,e,n){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return o;function o(w){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(w)}function l(w){return w===36?(t.consume(w),a++,l):a<2?n(w):(t.exit("mathFlowFenceSequence"),qe(t,c,"whitespace")(w))}function c(w){return w===null||pe(w)?d(w):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||pe(w)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),d(w)):w===36?n(w):(t.consume(w),h)}function d(w){return t.exit("mathFlowFence"),r.interrupt?e(w):t.attempt(av,m,R)(w)}function m(w){return t.attempt({tokenize:E,partial:!0},R,g)(w)}function g(w){return(s?qe(t,x,"linePrefix",s+1):x)(w)}function x(w){return w===null?R(w):pe(w)?t.attempt(av,m,R)(w):(t.enter("mathFlowValue"),S(w))}function S(w){return w===null||pe(w)?(t.exit("mathFlowValue"),x(w)):(t.consume(w),S)}function R(w){return t.exit("mathFlow"),e(w)}function E(w,T,B){let j=0;return qe(w,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function F(A){return w.enter("mathFlowFence"),w.enter("mathFlowFenceSequence"),C(A)}function C(A){return A===36?(j++,w.consume(A),C):j<a?B(A):(w.exit("mathFlowFenceSequence"),qe(w,b,"whitespace")(A))}function b(A){return A===null||pe(A)?(w.exit("mathFlowFence"),T(A)):B(A)}}}function nM(t,e,n){const r=this;return i;function i(a){return a===null?e(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function rM(t){let n=t.singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:iM,previous:sM,name:"mathText"};function r(i,s,a){let o=0,l,c;return h;function h(S){return i.enter("mathText"),i.enter("mathTextSequence"),d(S)}function d(S){return S===36?(i.consume(S),o++,d):o<2&&!n?a(S):(i.exit("mathTextSequence"),m(S))}function m(S){return S===null?a(S):S===36?(c=i.enter("mathTextSequence"),l=0,x(S)):S===32?(i.enter("space"),i.consume(S),i.exit("space"),m):pe(S)?(i.enter("lineEnding"),i.consume(S),i.exit("lineEnding"),m):(i.enter("mathTextData"),g(S))}function g(S){return S===null||S===32||S===36||pe(S)?(i.exit("mathTextData"),m(S)):(i.consume(S),g)}function x(S){return S===36?(i.consume(S),l++,x):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),s(S)):(c.type="mathTextData",g(S))}}}function iM(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function sM(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function aM(t){return{flow:{36:eM},text:{36:rM(t)}}}class Tn{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Tn(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Hn{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Hn(n,Tn.range(this,e))}}class ee{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+o.slice(i-15,i):c=o.slice(0,i);var h;s+15<o.length?h=o.slice(s,s+15)+"":h=o.slice(s),r+=c+l+h}var d=new Error(r);return d.name="ParseError",d.__proto__=ee.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}ee.prototype.__proto__=Error.prototype;var oM=function(e,n){return e.indexOf(n)!==-1},lM=function(e,n){return e===void 0?n:e},uM=/([A-Z])/g,cM=function(e){return e.replace(uM,"-$1").toLowerCase()},hM={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},dM=/[&><"']/g;function fM(t){return String(t).replace(dM,e=>hM[e])}var uw=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},pM=function(e){var n=uw(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},mM=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},gM=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},me={contains:oM,deflt:lM,escape:fM,hyphenate:cM,getBaseElem:uw,isCharacterBox:pM,protocolFromUrl:gM},Dc={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function yM(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class N1{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Dc)if(Dc.hasOwnProperty(n)){var r=Dc[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:yM(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ee("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=me.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class wi{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return dr[vM[this.id]]}sub(){return dr[wM[this.id]]}fracNum(){return dr[_M[this.id]]}fracDen(){return dr[xM[this.id]]}cramp(){return dr[EM[this.id]]}text(){return dr[SM[this.id]]}isTight(){return this.size>=2}}var M1=0,I0=1,Ma=2,Gr=3,Wl=4,jn=5,Za=6,nn=7,dr=[new wi(M1,0,!1),new wi(I0,0,!0),new wi(Ma,1,!1),new wi(Gr,1,!0),new wi(Wl,2,!1),new wi(jn,2,!0),new wi(Za,3,!1),new wi(nn,3,!0)],vM=[Wl,jn,Wl,jn,Za,nn,Za,nn],wM=[jn,jn,jn,jn,nn,nn,nn,nn],_M=[Ma,Gr,Wl,jn,Za,nn,Za,nn],xM=[Gr,Gr,jn,jn,nn,nn,nn,nn],EM=[I0,I0,Gr,Gr,jn,jn,nn,nn],SM=[M1,I0,Ma,Gr,Ma,Gr,Ma,Gr],ye={DISPLAY:dr[M1],TEXT:dr[Ma],SCRIPT:dr[Wl],SCRIPTSCRIPT:dr[Za]},Pp=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function bM(t){for(var e=0;e<Pp.length;e++)for(var n=Pp[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Oc=[];Pp.forEach(t=>t.blocks.forEach(e=>Oc.push(...e)));function cw(t){for(var e=0;e<Oc.length;e+=2)if(t>=Oc[e]&&t<=Oc[e+1])return!0;return!1}var sa=80,kM=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},TM=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},IM=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},AM=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},CM=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},RM=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},PM=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},NM=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=kM(n,sa);break;case"sqrtSize1":i=TM(n,sa);break;case"sqrtSize2":i=IM(n,sa);break;case"sqrtSize3":i=AM(n,sa);break;case"sqrtSize4":i=CM(n,sa);break;case"sqrtTall":i=PM(n,sa,r)}return i},MM=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},ov={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},DM=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class cu{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return me.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var mr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ic={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},lv={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function OM(t,e){mr[t]=e}function D1(t,e,n){if(!mr[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=mr[e][r];if(!i&&t[0]in lv&&(r=lv[t[0]].charCodeAt(0),i=mr[e][r]),!i&&n==="text"&&cw(r)&&(i=mr[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var qd={};function LM(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!qd[e]){var n=qd[e]={cssEmPerMu:ic.quad[e]/18};for(var r in ic)ic.hasOwnProperty(r)&&(n[r]=ic[r][e])}return qd[e]}var zM=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],uv=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],cv=function(e,n){return n.size<2?e:zM[e-1][n.size-1]};class zr{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||zr.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=uv[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new zr(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:cv(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:uv[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=cv(zr.BASESIZE,e);return this.size===n&&this.textSize===zr.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==zr.BASESIZE?["sizing","reset-size"+this.size,"size"+zr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=LM(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}zr.BASESIZE=6;var Np={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},VM={ex:!0,em:!0,mu:!0},hw=function(e){return typeof e!="string"&&(e=e.unit),e in Np||e in VM||e==="ex"},ot=function(e,n){var r;if(e.unit in Np)r=Np[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new ee("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ie=function(e){return+e.toFixed(4)+"em"},ns=function(e){return e.filter(n=>n).join(" ")},dw=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},fw=function(e){var n=document.createElement(e);n.className=ns(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},pw=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+me.escape(ns(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=me.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+me.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+me.escape(this.attributes[s])+'"');n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class hu{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,dw.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return me.contains(this.classes,e)}toNode(){return fw.call(this,"span")}toMarkup(){return pw.call(this,"span")}}class O1{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,dw.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return me.contains(this.classes,e)}toNode(){return fw.call(this,"a")}toMarkup(){return pw.call(this,"a")}}class FM{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return me.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+me.escape(this.src)+'"'+(' alt="'+me.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=me.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+me.escape(n)+'"'),e+="'/>",e}}var BM={:"",:"",:"",:""};class Gn{constructor(e,n,r,i,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var c=bM(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=BM[this.text])}hasClass(e){return me.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ie(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ns(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=me.escape(ns(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=me.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+me.escape(r)+'"');var s=me.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class ni{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+me.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class rs{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",ov[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+me.escape(this.alternate)+'"/>':'<path d="'+me.escape(ov[this.pathName])+'"/>'}}class Mp{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+me.escape(this.attributes[n])+'"');return e+="/>",e}}function hv(t){if(t instanceof Gn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function UM(t){if(t instanceof hu)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var jM={bin:1,close:1,inner:1,open:1,punct:1,rel:1},qM={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ye={math:{},text:{}};function f(t,e,n,r,i,s){Ye[t][i]={font:e,group:n,replace:r},s&&r&&(Ye[t][r]=Ye[t][i])}var y="math",Q="text",_="main",O="ams",it="accent-token",oe="bin",ln="close",mo="inner",ge="mathord",Et="op-token",Ln="open",bh="punct",z="rel",li="spacing",U="textord";f(y,_,z,"","\\equiv",!0);f(y,_,z,"","\\prec",!0);f(y,_,z,"","\\succ",!0);f(y,_,z,"","\\sim",!0);f(y,_,z,"","\\perp");f(y,_,z,"","\\preceq",!0);f(y,_,z,"","\\succeq",!0);f(y,_,z,"","\\simeq",!0);f(y,_,z,"","\\mid",!0);f(y,_,z,"","\\ll",!0);f(y,_,z,"","\\gg",!0);f(y,_,z,"","\\asymp",!0);f(y,_,z,"","\\parallel");f(y,_,z,"","\\bowtie",!0);f(y,_,z,"","\\smile",!0);f(y,_,z,"","\\sqsubseteq",!0);f(y,_,z,"","\\sqsupseteq",!0);f(y,_,z,"","\\doteq",!0);f(y,_,z,"","\\frown",!0);f(y,_,z,"","\\ni",!0);f(y,_,z,"","\\propto",!0);f(y,_,z,"","\\vdash",!0);f(y,_,z,"","\\dashv",!0);f(y,_,z,"","\\owns");f(y,_,bh,".","\\ldotp");f(y,_,bh,"","\\cdotp");f(y,_,U,"#","\\#");f(Q,_,U,"#","\\#");f(y,_,U,"&","\\&");f(Q,_,U,"&","\\&");f(y,_,U,"","\\aleph",!0);f(y,_,U,"","\\forall",!0);f(y,_,U,"","\\hbar",!0);f(y,_,U,"","\\exists",!0);f(y,_,U,"","\\nabla",!0);f(y,_,U,"","\\flat",!0);f(y,_,U,"","\\ell",!0);f(y,_,U,"","\\natural",!0);f(y,_,U,"","\\clubsuit",!0);f(y,_,U,"","\\wp",!0);f(y,_,U,"","\\sharp",!0);f(y,_,U,"","\\diamondsuit",!0);f(y,_,U,"","\\Re",!0);f(y,_,U,"","\\heartsuit",!0);f(y,_,U,"","\\Im",!0);f(y,_,U,"","\\spadesuit",!0);f(y,_,U,"","\\S",!0);f(Q,_,U,"","\\S");f(y,_,U,"","\\P",!0);f(Q,_,U,"","\\P");f(y,_,U,"","\\dag");f(Q,_,U,"","\\dag");f(Q,_,U,"","\\textdagger");f(y,_,U,"","\\ddag");f(Q,_,U,"","\\ddag");f(Q,_,U,"","\\textdaggerdbl");f(y,_,ln,"","\\rmoustache",!0);f(y,_,Ln,"","\\lmoustache",!0);f(y,_,ln,"","\\rgroup",!0);f(y,_,Ln,"","\\lgroup",!0);f(y,_,oe,"","\\mp",!0);f(y,_,oe,"","\\ominus",!0);f(y,_,oe,"","\\uplus",!0);f(y,_,oe,"","\\sqcap",!0);f(y,_,oe,"","\\ast");f(y,_,oe,"","\\sqcup",!0);f(y,_,oe,"","\\bigcirc",!0);f(y,_,oe,"","\\bullet",!0);f(y,_,oe,"","\\ddagger");f(y,_,oe,"","\\wr",!0);f(y,_,oe,"","\\amalg");f(y,_,oe,"&","\\And");f(y,_,z,"","\\longleftarrow",!0);f(y,_,z,"","\\Leftarrow",!0);f(y,_,z,"","\\Longleftarrow",!0);f(y,_,z,"","\\longrightarrow",!0);f(y,_,z,"","\\Rightarrow",!0);f(y,_,z,"","\\Longrightarrow",!0);f(y,_,z,"","\\leftrightarrow",!0);f(y,_,z,"","\\longleftrightarrow",!0);f(y,_,z,"","\\Leftrightarrow",!0);f(y,_,z,"","\\Longleftrightarrow",!0);f(y,_,z,"","\\mapsto",!0);f(y,_,z,"","\\longmapsto",!0);f(y,_,z,"","\\nearrow",!0);f(y,_,z,"","\\hookleftarrow",!0);f(y,_,z,"","\\hookrightarrow",!0);f(y,_,z,"","\\searrow",!0);f(y,_,z,"","\\leftharpoonup",!0);f(y,_,z,"","\\rightharpoonup",!0);f(y,_,z,"","\\swarrow",!0);f(y,_,z,"","\\leftharpoondown",!0);f(y,_,z,"","\\rightharpoondown",!0);f(y,_,z,"","\\nwarrow",!0);f(y,_,z,"","\\rightleftharpoons",!0);f(y,O,z,"","\\nless",!0);f(y,O,z,"","\\@nleqslant");f(y,O,z,"","\\@nleqq");f(y,O,z,"","\\lneq",!0);f(y,O,z,"","\\lneqq",!0);f(y,O,z,"","\\@lvertneqq");f(y,O,z,"","\\lnsim",!0);f(y,O,z,"","\\lnapprox",!0);f(y,O,z,"","\\nprec",!0);f(y,O,z,"","\\npreceq",!0);f(y,O,z,"","\\precnsim",!0);f(y,O,z,"","\\precnapprox",!0);f(y,O,z,"","\\nsim",!0);f(y,O,z,"","\\@nshortmid");f(y,O,z,"","\\nmid",!0);f(y,O,z,"","\\nvdash",!0);f(y,O,z,"","\\nvDash",!0);f(y,O,z,"","\\ntriangleleft");f(y,O,z,"","\\ntrianglelefteq",!0);f(y,O,z,"","\\subsetneq",!0);f(y,O,z,"","\\@varsubsetneq");f(y,O,z,"","\\subsetneqq",!0);f(y,O,z,"","\\@varsubsetneqq");f(y,O,z,"","\\ngtr",!0);f(y,O,z,"","\\@ngeqslant");f(y,O,z,"","\\@ngeqq");f(y,O,z,"","\\gneq",!0);f(y,O,z,"","\\gneqq",!0);f(y,O,z,"","\\@gvertneqq");f(y,O,z,"","\\gnsim",!0);f(y,O,z,"","\\gnapprox",!0);f(y,O,z,"","\\nsucc",!0);f(y,O,z,"","\\nsucceq",!0);f(y,O,z,"","\\succnsim",!0);f(y,O,z,"","\\succnapprox",!0);f(y,O,z,"","\\ncong",!0);f(y,O,z,"","\\@nshortparallel");f(y,O,z,"","\\nparallel",!0);f(y,O,z,"","\\nVDash",!0);f(y,O,z,"","\\ntriangleright");f(y,O,z,"","\\ntrianglerighteq",!0);f(y,O,z,"","\\@nsupseteqq");f(y,O,z,"","\\supsetneq",!0);f(y,O,z,"","\\@varsupsetneq");f(y,O,z,"","\\supsetneqq",!0);f(y,O,z,"","\\@varsupsetneqq");f(y,O,z,"","\\nVdash",!0);f(y,O,z,"","\\precneqq",!0);f(y,O,z,"","\\succneqq",!0);f(y,O,z,"","\\@nsubseteqq");f(y,O,oe,"","\\unlhd");f(y,O,oe,"","\\unrhd");f(y,O,z,"","\\nleftarrow",!0);f(y,O,z,"","\\nrightarrow",!0);f(y,O,z,"","\\nLeftarrow",!0);f(y,O,z,"","\\nRightarrow",!0);f(y,O,z,"","\\nleftrightarrow",!0);f(y,O,z,"","\\nLeftrightarrow",!0);f(y,O,z,"","\\vartriangle");f(y,O,U,"","\\hslash");f(y,O,U,"","\\triangledown");f(y,O,U,"","\\lozenge");f(y,O,U,"","\\circledS");f(y,O,U,"","\\circledR");f(Q,O,U,"","\\circledR");f(y,O,U,"","\\measuredangle",!0);f(y,O,U,"","\\nexists");f(y,O,U,"","\\mho");f(y,O,U,"","\\Finv",!0);f(y,O,U,"","\\Game",!0);f(y,O,U,"","\\backprime");f(y,O,U,"","\\blacktriangle");f(y,O,U,"","\\blacktriangledown");f(y,O,U,"","\\blacksquare");f(y,O,U,"","\\blacklozenge");f(y,O,U,"","\\bigstar");f(y,O,U,"","\\sphericalangle",!0);f(y,O,U,"","\\complement",!0);f(y,O,U,"","\\eth",!0);f(Q,_,U,"","");f(y,O,U,"","\\diagup");f(y,O,U,"","\\diagdown");f(y,O,U,"","\\square");f(y,O,U,"","\\Box");f(y,O,U,"","\\Diamond");f(y,O,U,"","\\yen",!0);f(Q,O,U,"","\\yen",!0);f(y,O,U,"","\\checkmark",!0);f(Q,O,U,"","\\checkmark");f(y,O,U,"","\\beth",!0);f(y,O,U,"","\\daleth",!0);f(y,O,U,"","\\gimel",!0);f(y,O,U,"","\\digamma",!0);f(y,O,U,"","\\varkappa");f(y,O,Ln,"","\\@ulcorner",!0);f(y,O,ln,"","\\@urcorner",!0);f(y,O,Ln,"","\\@llcorner",!0);f(y,O,ln,"","\\@lrcorner",!0);f(y,O,z,"","\\leqq",!0);f(y,O,z,"","\\leqslant",!0);f(y,O,z,"","\\eqslantless",!0);f(y,O,z,"","\\lesssim",!0);f(y,O,z,"","\\lessapprox",!0);f(y,O,z,"","\\approxeq",!0);f(y,O,oe,"","\\lessdot");f(y,O,z,"","\\lll",!0);f(y,O,z,"","\\lessgtr",!0);f(y,O,z,"","\\lesseqgtr",!0);f(y,O,z,"","\\lesseqqgtr",!0);f(y,O,z,"","\\doteqdot");f(y,O,z,"","\\risingdotseq",!0);f(y,O,z,"","\\fallingdotseq",!0);f(y,O,z,"","\\backsim",!0);f(y,O,z,"","\\backsimeq",!0);f(y,O,z,"","\\subseteqq",!0);f(y,O,z,"","\\Subset",!0);f(y,O,z,"","\\sqsubset",!0);f(y,O,z,"","\\preccurlyeq",!0);f(y,O,z,"","\\curlyeqprec",!0);f(y,O,z,"","\\precsim",!0);f(y,O,z,"","\\precapprox",!0);f(y,O,z,"","\\vartriangleleft");f(y,O,z,"","\\trianglelefteq");f(y,O,z,"","\\vDash",!0);f(y,O,z,"","\\Vvdash",!0);f(y,O,z,"","\\smallsmile");f(y,O,z,"","\\smallfrown");f(y,O,z,"","\\bumpeq",!0);f(y,O,z,"","\\Bumpeq",!0);f(y,O,z,"","\\geqq",!0);f(y,O,z,"","\\geqslant",!0);f(y,O,z,"","\\eqslantgtr",!0);f(y,O,z,"","\\gtrsim",!0);f(y,O,z,"","\\gtrapprox",!0);f(y,O,oe,"","\\gtrdot");f(y,O,z,"","\\ggg",!0);f(y,O,z,"","\\gtrless",!0);f(y,O,z,"","\\gtreqless",!0);f(y,O,z,"","\\gtreqqless",!0);f(y,O,z,"","\\eqcirc",!0);f(y,O,z,"","\\circeq",!0);f(y,O,z,"","\\triangleq",!0);f(y,O,z,"","\\thicksim");f(y,O,z,"","\\thickapprox");f(y,O,z,"","\\supseteqq",!0);f(y,O,z,"","\\Supset",!0);f(y,O,z,"","\\sqsupset",!0);f(y,O,z,"","\\succcurlyeq",!0);f(y,O,z,"","\\curlyeqsucc",!0);f(y,O,z,"","\\succsim",!0);f(y,O,z,"","\\succapprox",!0);f(y,O,z,"","\\vartriangleright");f(y,O,z,"","\\trianglerighteq");f(y,O,z,"","\\Vdash",!0);f(y,O,z,"","\\shortmid");f(y,O,z,"","\\shortparallel");f(y,O,z,"","\\between",!0);f(y,O,z,"","\\pitchfork",!0);f(y,O,z,"","\\varpropto");f(y,O,z,"","\\blacktriangleleft");f(y,O,z,"","\\therefore",!0);f(y,O,z,"","\\backepsilon");f(y,O,z,"","\\blacktriangleright");f(y,O,z,"","\\because",!0);f(y,O,z,"","\\llless");f(y,O,z,"","\\gggtr");f(y,O,oe,"","\\lhd");f(y,O,oe,"","\\rhd");f(y,O,z,"","\\eqsim",!0);f(y,_,z,"","\\Join");f(y,O,z,"","\\Doteq",!0);f(y,O,oe,"","\\dotplus",!0);f(y,O,oe,"","\\smallsetminus");f(y,O,oe,"","\\Cap",!0);f(y,O,oe,"","\\Cup",!0);f(y,O,oe,"","\\doublebarwedge",!0);f(y,O,oe,"","\\boxminus",!0);f(y,O,oe,"","\\boxplus",!0);f(y,O,oe,"","\\divideontimes",!0);f(y,O,oe,"","\\ltimes",!0);f(y,O,oe,"","\\rtimes",!0);f(y,O,oe,"","\\leftthreetimes",!0);f(y,O,oe,"","\\rightthreetimes",!0);f(y,O,oe,"","\\curlywedge",!0);f(y,O,oe,"","\\curlyvee",!0);f(y,O,oe,"","\\circleddash",!0);f(y,O,oe,"","\\circledast",!0);f(y,O,oe,"","\\centerdot");f(y,O,oe,"","\\intercal",!0);f(y,O,oe,"","\\doublecap");f(y,O,oe,"","\\doublecup");f(y,O,oe,"","\\boxtimes",!0);f(y,O,z,"","\\dashrightarrow",!0);f(y,O,z,"","\\dashleftarrow",!0);f(y,O,z,"","\\leftleftarrows",!0);f(y,O,z,"","\\leftrightarrows",!0);f(y,O,z,"","\\Lleftarrow",!0);f(y,O,z,"","\\twoheadleftarrow",!0);f(y,O,z,"","\\leftarrowtail",!0);f(y,O,z,"","\\looparrowleft",!0);f(y,O,z,"","\\leftrightharpoons",!0);f(y,O,z,"","\\curvearrowleft",!0);f(y,O,z,"","\\circlearrowleft",!0);f(y,O,z,"","\\Lsh",!0);f(y,O,z,"","\\upuparrows",!0);f(y,O,z,"","\\upharpoonleft",!0);f(y,O,z,"","\\downharpoonleft",!0);f(y,_,z,"","\\origof",!0);f(y,_,z,"","\\imageof",!0);f(y,O,z,"","\\multimap",!0);f(y,O,z,"","\\leftrightsquigarrow",!0);f(y,O,z,"","\\rightrightarrows",!0);f(y,O,z,"","\\rightleftarrows",!0);f(y,O,z,"","\\twoheadrightarrow",!0);f(y,O,z,"","\\rightarrowtail",!0);f(y,O,z,"","\\looparrowright",!0);f(y,O,z,"","\\curvearrowright",!0);f(y,O,z,"","\\circlearrowright",!0);f(y,O,z,"","\\Rsh",!0);f(y,O,z,"","\\downdownarrows",!0);f(y,O,z,"","\\upharpoonright",!0);f(y,O,z,"","\\downharpoonright",!0);f(y,O,z,"","\\rightsquigarrow",!0);f(y,O,z,"","\\leadsto");f(y,O,z,"","\\Rrightarrow",!0);f(y,O,z,"","\\restriction");f(y,_,U,"","`");f(y,_,U,"$","\\$");f(Q,_,U,"$","\\$");f(Q,_,U,"$","\\textdollar");f(y,_,U,"%","\\%");f(Q,_,U,"%","\\%");f(y,_,U,"_","\\_");f(Q,_,U,"_","\\_");f(Q,_,U,"_","\\textunderscore");f(y,_,U,"","\\angle",!0);f(y,_,U,"","\\infty",!0);f(y,_,U,"","\\prime");f(y,_,U,"","\\triangle");f(y,_,U,"","\\Gamma",!0);f(y,_,U,"","\\Delta",!0);f(y,_,U,"","\\Theta",!0);f(y,_,U,"","\\Lambda",!0);f(y,_,U,"","\\Xi",!0);f(y,_,U,"","\\Pi",!0);f(y,_,U,"","\\Sigma",!0);f(y,_,U,"","\\Upsilon",!0);f(y,_,U,"","\\Phi",!0);f(y,_,U,"","\\Psi",!0);f(y,_,U,"","\\Omega",!0);f(y,_,U,"A","");f(y,_,U,"B","");f(y,_,U,"E","");f(y,_,U,"Z","");f(y,_,U,"H","");f(y,_,U,"I","");f(y,_,U,"K","");f(y,_,U,"M","");f(y,_,U,"N","");f(y,_,U,"O","");f(y,_,U,"P","");f(y,_,U,"T","");f(y,_,U,"X","");f(y,_,U,"","\\neg",!0);f(y,_,U,"","\\lnot");f(y,_,U,"","\\top");f(y,_,U,"","\\bot");f(y,_,U,"","\\emptyset");f(y,O,U,"","\\varnothing");f(y,_,ge,"","\\alpha",!0);f(y,_,ge,"","\\beta",!0);f(y,_,ge,"","\\gamma",!0);f(y,_,ge,"","\\delta",!0);f(y,_,ge,"","\\epsilon",!0);f(y,_,ge,"","\\zeta",!0);f(y,_,ge,"","\\eta",!0);f(y,_,ge,"","\\theta",!0);f(y,_,ge,"","\\iota",!0);f(y,_,ge,"","\\kappa",!0);f(y,_,ge,"","\\lambda",!0);f(y,_,ge,"","\\mu",!0);f(y,_,ge,"","\\nu",!0);f(y,_,ge,"","\\xi",!0);f(y,_,ge,"","\\omicron",!0);f(y,_,ge,"","\\pi",!0);f(y,_,ge,"","\\rho",!0);f(y,_,ge,"","\\sigma",!0);f(y,_,ge,"","\\tau",!0);f(y,_,ge,"","\\upsilon",!0);f(y,_,ge,"","\\phi",!0);f(y,_,ge,"","\\chi",!0);f(y,_,ge,"","\\psi",!0);f(y,_,ge,"","\\omega",!0);f(y,_,ge,"","\\varepsilon",!0);f(y,_,ge,"","\\vartheta",!0);f(y,_,ge,"","\\varpi",!0);f(y,_,ge,"","\\varrho",!0);f(y,_,ge,"","\\varsigma",!0);f(y,_,ge,"","\\varphi",!0);f(y,_,oe,"","*",!0);f(y,_,oe,"+","+");f(y,_,oe,"","-",!0);f(y,_,oe,"","\\cdot",!0);f(y,_,oe,"","\\circ",!0);f(y,_,oe,"","\\div",!0);f(y,_,oe,"","\\pm",!0);f(y,_,oe,"","\\times",!0);f(y,_,oe,"","\\cap",!0);f(y,_,oe,"","\\cup",!0);f(y,_,oe,"","\\setminus",!0);f(y,_,oe,"","\\land");f(y,_,oe,"","\\lor");f(y,_,oe,"","\\wedge",!0);f(y,_,oe,"","\\vee",!0);f(y,_,U,"","\\surd");f(y,_,Ln,"","\\langle",!0);f(y,_,Ln,"","\\lvert");f(y,_,Ln,"","\\lVert");f(y,_,ln,"?","?");f(y,_,ln,"!","!");f(y,_,ln,"","\\rangle",!0);f(y,_,ln,"","\\rvert");f(y,_,ln,"","\\rVert");f(y,_,z,"=","=");f(y,_,z,":",":");f(y,_,z,"","\\approx",!0);f(y,_,z,"","\\cong",!0);f(y,_,z,"","\\ge");f(y,_,z,"","\\geq",!0);f(y,_,z,"","\\gets");f(y,_,z,">","\\gt",!0);f(y,_,z,"","\\in",!0);f(y,_,z,"","\\@not");f(y,_,z,"","\\subset",!0);f(y,_,z,"","\\supset",!0);f(y,_,z,"","\\subseteq",!0);f(y,_,z,"","\\supseteq",!0);f(y,O,z,"","\\nsubseteq",!0);f(y,O,z,"","\\nsupseteq",!0);f(y,_,z,"","\\models");f(y,_,z,"","\\leftarrow",!0);f(y,_,z,"","\\le");f(y,_,z,"","\\leq",!0);f(y,_,z,"<","\\lt",!0);f(y,_,z,"","\\rightarrow",!0);f(y,_,z,"","\\to");f(y,O,z,"","\\ngeq",!0);f(y,O,z,"","\\nleq",!0);f(y,_,li,"","\\ ");f(y,_,li,"","\\space");f(y,_,li,"","\\nobreakspace");f(Q,_,li,"","\\ ");f(Q,_,li,""," ");f(Q,_,li,"","\\space");f(Q,_,li,"","\\nobreakspace");f(y,_,li,null,"\\nobreak");f(y,_,li,null,"\\allowbreak");f(y,_,bh,",",",");f(y,_,bh,";",";");f(y,O,oe,"","\\barwedge",!0);f(y,O,oe,"","\\veebar",!0);f(y,_,oe,"","\\odot",!0);f(y,_,oe,"","\\oplus",!0);f(y,_,oe,"","\\otimes",!0);f(y,_,U,"","\\partial",!0);f(y,_,oe,"","\\oslash",!0);f(y,O,oe,"","\\circledcirc",!0);f(y,O,oe,"","\\boxdot",!0);f(y,_,oe,"","\\bigtriangleup");f(y,_,oe,"","\\bigtriangledown");f(y,_,oe,"","\\dagger");f(y,_,oe,"","\\diamond");f(y,_,oe,"","\\star");f(y,_,oe,"","\\triangleleft");f(y,_,oe,"","\\triangleright");f(y,_,Ln,"{","\\{");f(Q,_,U,"{","\\{");f(Q,_,U,"{","\\textbraceleft");f(y,_,ln,"}","\\}");f(Q,_,U,"}","\\}");f(Q,_,U,"}","\\textbraceright");f(y,_,Ln,"{","\\lbrace");f(y,_,ln,"}","\\rbrace");f(y,_,Ln,"[","\\lbrack",!0);f(Q,_,U,"[","\\lbrack",!0);f(y,_,ln,"]","\\rbrack",!0);f(Q,_,U,"]","\\rbrack",!0);f(y,_,Ln,"(","\\lparen",!0);f(y,_,ln,")","\\rparen",!0);f(Q,_,U,"<","\\textless",!0);f(Q,_,U,">","\\textgreater",!0);f(y,_,Ln,"","\\lfloor",!0);f(y,_,ln,"","\\rfloor",!0);f(y,_,Ln,"","\\lceil",!0);f(y,_,ln,"","\\rceil",!0);f(y,_,U,"\\","\\backslash");f(y,_,U,"","|");f(y,_,U,"","\\vert");f(Q,_,U,"|","\\textbar",!0);f(y,_,U,"","\\|");f(y,_,U,"","\\Vert");f(Q,_,U,"","\\textbardbl");f(Q,_,U,"~","\\textasciitilde");f(Q,_,U,"\\","\\textbackslash");f(Q,_,U,"^","\\textasciicircum");f(y,_,z,"","\\uparrow",!0);f(y,_,z,"","\\Uparrow",!0);f(y,_,z,"","\\downarrow",!0);f(y,_,z,"","\\Downarrow",!0);f(y,_,z,"","\\updownarrow",!0);f(y,_,z,"","\\Updownarrow",!0);f(y,_,Et,"","\\coprod");f(y,_,Et,"","\\bigvee");f(y,_,Et,"","\\bigwedge");f(y,_,Et,"","\\biguplus");f(y,_,Et,"","\\bigcap");f(y,_,Et,"","\\bigcup");f(y,_,Et,"","\\int");f(y,_,Et,"","\\intop");f(y,_,Et,"","\\iint");f(y,_,Et,"","\\iiint");f(y,_,Et,"","\\prod");f(y,_,Et,"","\\sum");f(y,_,Et,"","\\bigotimes");f(y,_,Et,"","\\bigoplus");f(y,_,Et,"","\\bigodot");f(y,_,Et,"","\\oint");f(y,_,Et,"","\\oiint");f(y,_,Et,"","\\oiiint");f(y,_,Et,"","\\bigsqcup");f(y,_,Et,"","\\smallint");f(Q,_,mo,"","\\textellipsis");f(y,_,mo,"","\\mathellipsis");f(Q,_,mo,"","\\ldots",!0);f(y,_,mo,"","\\ldots",!0);f(y,_,mo,"","\\@cdots",!0);f(y,_,mo,"","\\ddots",!0);f(y,_,U,"","\\varvdots");f(Q,_,U,"","\\varvdots");f(y,_,it,"","\\acute");f(y,_,it,"","\\grave");f(y,_,it,"","\\ddot");f(y,_,it,"~","\\tilde");f(y,_,it,"","\\bar");f(y,_,it,"","\\breve");f(y,_,it,"","\\check");f(y,_,it,"^","\\hat");f(y,_,it,"","\\vec");f(y,_,it,"","\\dot");f(y,_,it,"","\\mathring");f(y,_,ge,"","\\@imath");f(y,_,ge,"","\\@jmath");f(y,_,U,"","");f(y,_,U,"","");f(Q,_,U,"","\\i",!0);f(Q,_,U,"","\\j",!0);f(Q,_,U,"","\\ss",!0);f(Q,_,U,"","\\ae",!0);f(Q,_,U,"","\\oe",!0);f(Q,_,U,"","\\o",!0);f(Q,_,U,"","\\AE",!0);f(Q,_,U,"","\\OE",!0);f(Q,_,U,"","\\O",!0);f(Q,_,it,"","\\'");f(Q,_,it,"","\\`");f(Q,_,it,"","\\^");f(Q,_,it,"","\\~");f(Q,_,it,"","\\=");f(Q,_,it,"","\\u");f(Q,_,it,"","\\.");f(Q,_,it,"","\\c");f(Q,_,it,"","\\r");f(Q,_,it,"","\\v");f(Q,_,it,"",'\\"');f(Q,_,it,"","\\H");f(Q,_,it,"","\\textcircled");var mw={"--":!0,"---":!0,"``":!0,"''":!0};f(Q,_,U,"","--",!0);f(Q,_,U,"","\\textendash");f(Q,_,U,"","---",!0);f(Q,_,U,"","\\textemdash");f(Q,_,U,"","`",!0);f(Q,_,U,"","\\textquoteleft");f(Q,_,U,"","'",!0);f(Q,_,U,"","\\textquoteright");f(Q,_,U,"","``",!0);f(Q,_,U,"","\\textquotedblleft");f(Q,_,U,"","''",!0);f(Q,_,U,"","\\textquotedblright");f(y,_,U,"","\\degree",!0);f(Q,_,U,"","\\degree");f(Q,_,U,"","\\textdegree",!0);f(y,_,U,"","\\pounds");f(y,_,U,"","\\mathsterling",!0);f(Q,_,U,"","\\pounds");f(Q,_,U,"","\\textsterling",!0);f(y,O,U,"","\\maltese");f(Q,O,U,"","\\maltese");var dv='0123456789/@."';for(var Hd=0;Hd<dv.length;Hd++){var fv=dv.charAt(Hd);f(y,_,U,fv,fv)}var pv='0123456789!@*()-=+";:?/.,';for(var $d=0;$d<pv.length;$d++){var mv=pv.charAt($d);f(Q,_,U,mv,mv)}var A0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Wd=0;Wd<A0.length;Wd++){var sc=A0.charAt(Wd);f(y,_,ge,sc,sc),f(Q,_,U,sc,sc)}f(y,O,U,"C","");f(Q,O,U,"C","");f(y,O,U,"H","");f(Q,O,U,"H","");f(y,O,U,"N","");f(Q,O,U,"N","");f(y,O,U,"P","");f(Q,O,U,"P","");f(y,O,U,"Q","");f(Q,O,U,"Q","");f(y,O,U,"R","");f(Q,O,U,"R","");f(y,O,U,"Z","");f(Q,O,U,"Z","");f(y,_,ge,"h","");f(Q,_,ge,"h","");var xe="";for(var en=0;en<A0.length;en++){var ft=A0.charAt(en);xe=String.fromCharCode(55349,56320+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56372+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56424+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56580+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56684+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56736+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56788+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56840+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56944+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),en<26&&(xe=String.fromCharCode(55349,56632+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe),xe=String.fromCharCode(55349,56476+en),f(y,_,ge,ft,xe),f(Q,_,U,ft,xe))}xe="";f(y,_,ge,"k",xe);f(Q,_,U,"k",xe);for(var vs=0;vs<10;vs++){var _i=vs.toString();xe=String.fromCharCode(55349,57294+vs),f(y,_,ge,_i,xe),f(Q,_,U,_i,xe),xe=String.fromCharCode(55349,57314+vs),f(y,_,ge,_i,xe),f(Q,_,U,_i,xe),xe=String.fromCharCode(55349,57324+vs),f(y,_,ge,_i,xe),f(Q,_,U,_i,xe),xe=String.fromCharCode(55349,57334+vs),f(y,_,ge,_i,xe),f(Q,_,U,_i,xe)}var Dp="";for(var Gd=0;Gd<Dp.length;Gd++){var ac=Dp.charAt(Gd);f(y,_,ge,ac,ac),f(Q,_,U,ac,ac)}var oc=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],gv=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],HM=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[oc[o][2],oc[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[gv[l][2],gv[l][a]]}else{if(s===120485||s===120486)return[oc[0][2],oc[0][a]];if(120486<s&&s<120782)return["",""];throw new ee("Unsupported character: "+e)}},kh=function(e,n,r){return Ye[r][e]&&Ye[r][e].replace&&(e=Ye[r][e].replace),{value:e,metrics:D1(e,n,r)}},tr=function(e,n,r,i,s){var a=kh(e,n,r),o=a.metrics;e=a.value;var l;if(o){var c=o.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new Gn(e,o.height,o.depth,c,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new Gn(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var h=i.getColor();h&&(l.style.color=h)}return l},$M=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&kh(e,"Main-Bold",n).metrics?tr(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Ye[n][e].font==="main"?tr(e,"Main-Regular",n,r,i):tr(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},WM=function(e,n,r,i,s){return s!=="textord"&&kh(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},GM=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily,c="",h="";if(s.charCodeAt(0)===55349&&([c,h]=HM(s,i)),c.length>0)return tr(s,c,i,n,a.concat(h));if(l){var d,m;if(l==="boldsymbol"){var g=WM(s,i,n,a,r);d=g.fontName,m=[g.fontClass]}else o?(d=vw[l].fontName,m=[l]):(d=lc(l,n.fontWeight,n.fontShape),m=[l,n.fontWeight,n.fontShape]);if(kh(s,d,i).metrics)return tr(s,d,i,n,a.concat(m));if(mw.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var x=[],S=0;S<s.length;S++)x.push(tr(s[S],d,i,n,a.concat(m)));return yw(x)}}if(r==="mathord")return tr(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var R=Ye[i][s]&&Ye[i][s].font;if(R==="ams"){var E=lc("amsrm",n.fontWeight,n.fontShape);return tr(s,E,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(R==="main"||!R){var w=lc("textrm",n.fontWeight,n.fontShape);return tr(s,w,i,n,a.concat(n.fontWeight,n.fontShape))}else{var T=lc(R,n.fontWeight,n.fontShape);return tr(s,T,i,n,a.concat(T,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},KM=(t,e)=>{if(ns(t.classes)!==ns(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},QM=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Gn&&r instanceof Gn&&KM(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},L1=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},cn=function(e,n,r,i){var s=new hu(e,n,r,i);return L1(s),s},gw=(t,e,n,r)=>new hu(t,e,n,r),YM=function(e,n,r){var i=cn([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ie(i.height),i.maxFontSize=1,i},XM=function(e,n,r,i){var s=new O1(e,n,r,i);return L1(s),s},yw=function(e){var n=new cu(e);return L1(n),n},JM=function(e,n){return e instanceof cu?cn([],[e],n):e},ZM=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var o=-n[a].shift-s-n[a].elem.depth,l=o-(n[a-1].elem.height+n[a-1].elem.depth);s=s+o,r.push({type:"kern",size:l}),r.push(n[a])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var m=e.children[d];h-=m.type==="kern"?m.size:m.elem.height+m.elem.depth}c=h}else if(e.positionType==="bottom")c=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},eD=function(e,n){for(var{children:r,depth:i}=ZM(e),s=0,a=0;a<r.length;a++){var o=r[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=cn(["pstrut"],[]);c.style.height=ie(s);for(var h=[],d=i,m=i,g=i,x=0;x<r.length;x++){var S=r[x];if(S.type==="kern")g+=S.size;else{var R=S.elem,E=S.wrapperClasses||[],w=S.wrapperStyle||{},T=cn(E,[c,R],void 0,w);T.style.top=ie(-s-g-R.depth),S.marginLeft&&(T.style.marginLeft=S.marginLeft),S.marginRight&&(T.style.marginRight=S.marginRight),h.push(T),g+=R.height+R.depth}d=Math.min(d,g),m=Math.max(m,g)}var B=cn(["vlist"],h);B.style.height=ie(m);var j;if(d<0){var F=cn([],[]),C=cn(["vlist"],[F]);C.style.height=ie(-d);var b=cn(["vlist-s"],[new Gn("")]);j=[cn(["vlist-r"],[B,b]),cn(["vlist-r"],[C])]}else j=[cn(["vlist-r"],[B])];var A=cn(["vlist-t"],j);return j.length===2&&A.classes.push("vlist-t2"),A.height=m,A.depth=-d,A},tD=(t,e)=>{var n=cn(["mspace"],[],e),r=ot(t,e);return n.style.marginRight=ie(r),n},lc=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},vw={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ww={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},nD=function(e,n){var[r,i,s]=ww[e],a=new rs(r),o=new ni([a],{width:ie(i),height:ie(s),style:"width:"+ie(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=gw(["overlay"],[o],n);return l.height=s,l.style.height=ie(s),l.style.width=ie(i),l},H={fontMap:vw,makeSymbol:tr,mathsym:$M,makeSpan:cn,makeSvgSpan:gw,makeLineSpan:YM,makeAnchor:XM,makeFragment:yw,wrapFragment:JM,makeVList:eD,makeOrd:GM,makeGlue:tD,staticSvg:nD,svgData:ww,tryCombineChars:QM},st={number:3,unit:"mu"},ws={number:4,unit:"mu"},Dr={number:5,unit:"mu"},rD={mord:{mop:st,mbin:ws,mrel:Dr,minner:st},mop:{mord:st,mop:st,mrel:Dr,minner:st},mbin:{mord:ws,mop:ws,mopen:ws,minner:ws},mrel:{mord:Dr,mop:Dr,mopen:Dr,minner:Dr},mopen:{},mclose:{mop:st,mbin:ws,mrel:Dr,minner:st},mpunct:{mord:st,mop:st,mrel:Dr,mopen:st,mclose:st,mpunct:st,minner:st},minner:{mord:st,mop:st,mbin:ws,mrel:Dr,mopen:st,mpunct:st,minner:st}},iD={mord:{mop:st},mop:{mord:st,mop:st},mbin:{},mrel:{},mopen:{},mclose:{mop:st},mpunct:{},minner:{mop:st}},_w={},C0={},R0={};function ae(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)_w[n[l]]=o;e&&(s&&(C0[e]=s),a&&(R0[e]=a))}function Qs(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ae({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var P0=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},yt=function(e){return e.type==="ordgroup"?e.body:[e]},ri=H.makeSpan,sD=["leftmost","mbin","mopen","mrel","mop","mpunct"],aD=["rightmost","mrel","mclose","mpunct"],oD={display:ye.DISPLAY,text:ye.TEXT,script:ye.SCRIPT,scriptscript:ye.SCRIPTSCRIPT},lD={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},At=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Ve(e[a],n);if(o instanceof cu){var l=o.children;s.push(...l)}else s.push(o)}if(H.tryCombineChars(s),!r)return s;var c=n;if(e.length===1){var h=e[0];h.type==="sizing"?c=n.havingSize(h.size):h.type==="styling"&&(c=n.havingStyle(oD[h.style]))}var d=ri([i[0]||"leftmost"],[],n),m=ri([i[1]||"rightmost"],[],n),g=r==="root";return yv(s,(x,S)=>{var R=S.classes[0],E=x.classes[0];R==="mbin"&&me.contains(aD,E)?S.classes[0]="mord":E==="mbin"&&me.contains(sD,R)&&(x.classes[0]="mord")},{node:d},m,g),yv(s,(x,S)=>{var R=Op(S),E=Op(x),w=R&&E?x.hasClass("mtight")?iD[R][E]:rD[R][E]:null;if(w)return H.makeGlue(w,c)},{node:d},m,g),s},yv=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],l=xw(o);if(l){t(l.children,n,r,null,s);continue}var c=!o.hasClass("mspace");if(c){var h=n(o,r.node);h&&(r.insertAfter?r.insertAfter(h):(e.unshift(h),a++))}c?r.node=o:s&&o.hasClass("newline")&&(r.node=ri(["leftmost"])),r.insertAfter=(d=>m=>{e.splice(d+1,0,m),a++})(a)}i&&e.pop()},xw=function(e){return e instanceof cu||e instanceof O1||e instanceof hu&&e.hasClass("enclosing")?e:null},uD=function t(e,n){var r=xw(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},Op=function(e,n){return e?(n&&(e=uD(e,n)),lD[e.classes[0]]||null):null},Gl=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ri(n.concat(r))},Ve=function(e,n,r){if(!e)return ri();if(C0[e.type]){var i=C0[e.type](e,n);if(r&&n.size!==r.size){i=ri(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new ee("Got group of unknown type: '"+e.type+"'")};function uc(t,e){var n=ri(["base"],t,e),r=ri(["strut"]);return r.style.height=ie(n.height+n.depth),n.depth&&(r.style.verticalAlign=ie(-n.depth)),n.children.unshift(r),n}function Lp(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=At(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],a=[],o=0;o<r.length;o++)if(a.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,a.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(s.push(uc(a,e)),a=[])}else r[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(uc(a,e)),a=[]),s.push(r[o]));a.length>0&&s.push(uc(a,e));var c;n?(c=uc(At(n,e,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var h=ri(["katex-html"],s);if(h.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=ie(h.height+h.depth),h.depth&&(d.style.verticalAlign=ie(-h.depth))}return h}function Ew(t){return new cu(t)}class An{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=ns(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof gr&&this.children[r+1]instanceof gr){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof gr;)i+=this.children[++r].toText();e.appendChild(new gr(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=me.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+me.escape(ns(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class gr{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return me.escape(this.toText())}toText(){return this.text}}class cD{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ie(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ie(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var X={MathNode:An,TextNode:gr,SpaceNode:cD,newDocumentFragment:Ew},Kn=function(e,n,r){return Ye[n][e]&&Ye[n][e].replace&&e.charCodeAt(0)!==55349&&!(mw.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Ye[n][e].replace),new X.TextNode(e)},z1=function(e){return e.length===1?e[0]:new X.MathNode("mrow",e)},V1=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(me.contains(["\\imath","\\jmath"],s))return null;Ye[i][s]&&Ye[i][s].replace&&(s=Ye[i][s].replace);var a=H.fontMap[r].fontName;return D1(s,a,i)?H.fontMap[r].variant:null};function Kd(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof gr&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof gr&&n.text===","}else return!1}var vn=function(e,n,r){if(e.length===1){var i=Ge(e[0],n);return r&&i instanceof An&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var l=Ge(e[o],n);if(l instanceof An&&a instanceof An){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(Kd(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&Kd(a))l.children=[...a.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||Kd(a))){var c=l.children[0];c instanceof An&&c.type==="mn"&&(c.children=[...a.children,...c.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof gr&&h.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof gr&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),s.pop())}}}s.push(l),a=l}return s},is=function(e,n,r){return z1(vn(e,n,r))},Ge=function(e,n){if(!e)return new X.MathNode("mrow");if(R0[e.type]){var r=R0[e.type](e,n);return r}else throw new ee("Got group of unknown type: '"+e.type+"'")};function vv(t,e,n,r,i){var s=vn(t,n),a;s.length===1&&s[0]instanceof An&&me.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new X.MathNode("mrow",s);var o=new X.MathNode("annotation",[new X.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new X.MathNode("semantics",[a,o]),c=new X.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var h=i?"katex":"katex-mathml";return H.makeSpan([h],[c])}var Sw=function(e){return new zr({style:e.displayMode?ye.DISPLAY:ye.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},bw=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=H.makeSpan(r,[e])}return e},hD=function(e,n,r){var i=Sw(r),s;if(r.output==="mathml")return vv(e,n,i,r.displayMode,!0);if(r.output==="html"){var a=Lp(e,i);s=H.makeSpan(["katex"],[a])}else{var o=vv(e,n,i,r.displayMode,!1),l=Lp(e,i);s=H.makeSpan(["katex"],[o,l])}return bw(s,r)},dD=function(e,n,r){var i=Sw(r),s=Lp(e,i),a=H.makeSpan(["katex"],[s]);return bw(a,r)},fD={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},pD=function(e){var n=new X.MathNode("mo",[new X.TextNode(fD[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},mD={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},gD=function(e){return e.type==="ordgroup"?e.body.length:1},yD=function(e,n){function r(){var o=4e5,l=e.label.slice(1);if(me.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,h=gD(c.base),d,m,g;if(h>5)l==="widehat"||l==="widecheck"?(d=420,o=2364,g=.42,m=l+"4"):(d=312,o=2340,g=.34,m="tilde4");else{var x=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][x],d=[0,239,300,360,420][x],g=[0,.24,.3,.3,.36,.42][x],m=l+x):(o=[0,600,1033,2339,2340][x],d=[0,260,286,306,312][x],g=[0,.26,.286,.3,.306,.34][x],m="tilde"+x)}var S=new rs(m),R=new ni([S],{width:"100%",height:ie(g),viewBox:"0 0 "+o+" "+d,preserveAspectRatio:"none"});return{span:H.makeSvgSpan([],[R],n),minWidth:0,height:g}}else{var E=[],w=mD[l],[T,B,j]=w,F=j/1e3,C=T.length,b,A;if(C===1){var N=w[3];b=["hide-tail"],A=[N]}else if(C===2)b=["halfarrow-left","halfarrow-right"],A=["xMinYMin","xMaxYMin"];else if(C===3)b=["brace-left","brace-center","brace-right"],A=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+C+" children.");for(var M=0;M<C;M++){var L=new rs(T[M]),P=new ni([L],{width:"400em",height:ie(F),viewBox:"0 0 "+o+" "+j,preserveAspectRatio:A[M]+" slice"}),de=H.makeSvgSpan([b[M]],[P],n);if(C===1)return{span:de,minWidth:B,height:F};de.style.height=ie(F),E.push(de)}return{span:H.makeSpan(["stretchy"],E,n),minWidth:B,height:F}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=ie(a),s>0&&(i.style.minWidth=ie(s)),i},vD=function(e,n,r,i,s){var a,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=H.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new Mp({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new Mp({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new ni(c,{width:"100%",height:ie(o)});a=H.makeSvgSpan([],[h],s)}return a.height=o,a.style.height=ie(o),a},ii={encloseSpan:vD,mathMLnode:pD,svgSpan:yD};function Ae(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function F1(t){var e=Th(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Th(t){return t&&(t.type==="atom"||qM.hasOwnProperty(t.type))?t:null}var B1=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ae(t.base,"accent"),n=r.base,t.base=n,i=UM(Ve(t,e)),t.base=r):(r=Ae(t,"accent"),n=r.base);var s=Ve(n,e.havingCrampedStyle()),a=r.isShifty&&me.isCharacterBox(n),o=0;if(a){var l=me.getBaseElem(n),c=Ve(l,e.havingCrampedStyle());o=hv(c).skew}var h=r.label==="\\c",d=h?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),m;if(r.isStretchy)m=ii.svgSpan(r,e),m=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:m,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ie(2*o)+")",marginLeft:ie(2*o)}:void 0}]},e);else{var g,x;r.label==="\\vec"?(g=H.staticSvg("vec",e),x=H.svgData.vec[1]):(g=H.makeOrd({mode:r.mode,text:r.label},e,"textord"),g=hv(g),g.italic=0,x=g.width,h&&(d+=g.depth)),m=H.makeSpan(["accent-body"],[g]);var S=r.label==="\\textcircled";S&&(m.classes.push("accent-full"),d=s.height);var R=o;S||(R-=x/2),m.style.left=ie(R),r.label==="\\textcircled"&&(m.style.top=".2em"),m=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:m}]},e)}var E=H.makeSpan(["mord","accent"],[m],e);return i?(i.children[0]=E,i.height=Math.max(E.height,i.height),i.classes[0]="mord",i):E},kw=(t,e)=>{var n=t.isStretchy?ii.mathMLnode(t.label):new X.MathNode("mo",[Kn(t.label,t.mode)]),r=new X.MathNode("mover",[Ge(t.base,e),n]);return r.setAttribute("accent","true"),r},wD=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ae({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=P0(e[0]),r=!wD.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:B1,mathmlBuilder:kw});ae({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:B1,mathmlBuilder:kw});ae({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ve(t.base,e),r=ii.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=H.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return H.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ii.mathMLnode(t.label),r=new X.MathNode("munder",[Ge(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var cc=t=>{var e=new X.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ae({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=H.wrapFragment(Ve(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=H.wrapFragment(Ve(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var o=ii.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,c=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var h;if(a){var d=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;h=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:d}]},e)}else h=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:l}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),H.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(t,e){var n=ii.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=cc(Ge(t.body,e));if(t.below){var s=cc(Ge(t.below,e));r=new X.MathNode("munderover",[n,s,i])}else r=new X.MathNode("mover",[n,i])}else if(t.below){var a=cc(Ge(t.below,e));r=new X.MathNode("munder",[n,a])}else r=cc(),r=new X.MathNode("mover",[n,r]);return r}});var _D=H.makeSpan;function Tw(t,e){var n=At(t.body,e,!0);return _D([t.mclass],n,e)}function Iw(t,e){var n,r=vn(t.body,e);return t.mclass==="minner"?n=new X.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new X.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new X.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ae({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:yt(i),isCharacterBox:me.isCharacterBox(i)}},htmlBuilder:Tw,mathmlBuilder:Iw});var Ih=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ae({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:Ih(e[0]),body:yt(e[1]),isCharacterBox:me.isCharacterBox(e[1])}}});ae({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=Ih(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:yt(i)},l={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[l],isCharacterBox:me.isCharacterBox(l)}},htmlBuilder:Tw,mathmlBuilder:Iw});ae({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:Ih(e[0]),body:yt(e[0])}},htmlBuilder(t,e){var n=At(t.body,e,!0),r=H.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=vn(t.body,e),r=new X.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var xD={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},wv=()=>({type:"styling",body:[],mode:"math",style:"display"}),_v=t=>t.type==="textord"&&t.text==="@",ED=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function SD(t,e,n){var r=xD[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function bD(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ee("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],o=wv(),l=0;l<a.length;l++)if(!_v(a[l]))o.body.push(a[l]);else{r.push(o),l+=1;var c=F1(a[l]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var m=!0,g=l+1;g<a.length;g++){if(ED(a[g],c)){m=!1,l=g;break}if(_v(a[g]))throw new ee("Missing a "+c+" character to complete a CD arrow.",a[g]);h[d].body.push(a[g])}if(m)throw new ee("Missing a "+c+" character to complete a CD arrow.",a[l])}else throw new ee('Expected one of "<>AV=|." after @',a[l]);var x=SD(c,h,t),S={type:"styling",body:[x],mode:"math",style:"display"};r.push(S),o=wv()}s%2===0?r.push(o):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var R=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:R,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ae({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=H.wrapFragment(Ve(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ie(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new X.MathNode("mrow",[Ge(t.label,e)]);return n=new X.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new X.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ae({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=H.wrapFragment(Ve(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new X.MathNode("mrow",[Ge(t.fragment,e)])}});ae({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ae(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var o=Ae(i[a],"textord");s+=o.text}var l=parseInt(s),c;if(isNaN(l))throw new ee("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new ee("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var Aw=(t,e)=>{var n=At(t.body,e.withColor(t.color),!1);return H.makeFragment(n)},Cw=(t,e)=>{var n=vn(t.body,e.withColor(t.color)),r=new X.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ae({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ae(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:yt(i)}},htmlBuilder:Aw,mathmlBuilder:Cw});ae({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ae(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:Aw,mathmlBuilder:Cw});ae({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ae(i,"size").value}},htmlBuilder(t,e){var n=H.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ie(ot(t.size,e)))),n},mathmlBuilder(t,e){var n=new X.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ie(ot(t.size,e)))),n}});var zp={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Rw=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ee("Expected a control sequence",t);return e},kD=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Pw=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ae({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(zp[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=zp[r.text]),Ae(e.parseFunction(),"internal");throw new ee("Invalid token after macro prefix",r)}});ae({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ee("Expected a control sequence",r);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ee('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new ee('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new ee("Expected a macro definition");o[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:o},n===zp[n]),{type:"internal",mode:e.mode}}});ae({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Rw(e.gullet.popToken());e.gullet.consumeSpaces();var i=kD(e);return Pw(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ae({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Rw(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return Pw(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Zo=function(e,n,r){var i=Ye.math[e]&&Ye.math[e].replace,s=D1(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},U1=function(e,n,r,i){var s=r.havingBaseStyle(n),a=H.makeSpan(i.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},Nw=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ie(s),e.height-=s,e.depth+=s},TD=function(e,n,r,i,s,a){var o=H.makeSymbol(e,"Main-Regular",s,i),l=U1(o,n,i,a);return r&&Nw(l,i,n),l},ID=function(e,n,r,i){return H.makeSymbol(e,"Size"+n+"-Regular",r,i)},Mw=function(e,n,r,i,s,a){var o=ID(e,n,s,i),l=U1(H.makeSpan(["delimsizing","size"+n],[o],i),ye.TEXT,i,a);return r&&Nw(l,i,ye.TEXT),l},Qd=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=H.makeSpan(["delimsizinginner",i],[H.makeSpan([],[H.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},Yd=function(e,n,r){var i=mr["Size4-Regular"][e.charCodeAt(0)]?mr["Size4-Regular"][e.charCodeAt(0)][4]:mr["Size1-Regular"][e.charCodeAt(0)][4],s=new rs("inner",MM(e,Math.round(1e3*n))),a=new ni([s],{width:ie(i),height:ie(n),style:"width:"+ie(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=H.makeSvgSpan([],[a],r);return o.height=n,o.style.height=ie(n),o.style.width=ie(i),{type:"elem",elem:o}},Vp=.008,hc={type:"kern",size:-1*Vp},AD=["|","\\lvert","\\rvert","\\vert"],CD=["\\|","\\lVert","\\rVert","\\Vert"],Dw=function(e,n,r,i,s,a){var o,l,c,h,d="",m=0;o=c=h=e,l=null;var g="Size1-Regular";e==="\\uparrow"?c=h="":e==="\\Uparrow"?c=h="":e==="\\downarrow"?o=c="":e==="\\Downarrow"?o=c="":e==="\\updownarrow"?(o="\\uparrow",c="",h="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",c="",h="\\Downarrow"):me.contains(AD,e)?(c="",d="vert",m=333):me.contains(CD,e)?(c="",d="doublevert",m=556):e==="["||e==="\\lbrack"?(o="",c="",h="",g="Size4-Regular",d="lbrack",m=667):e==="]"||e==="\\rbrack"?(o="",c="",h="",g="Size4-Regular",d="rbrack",m=667):e==="\\lfloor"||e===""?(c=o="",h="",g="Size4-Regular",d="lfloor",m=667):e==="\\lceil"||e===""?(o="",c=h="",g="Size4-Regular",d="lceil",m=667):e==="\\rfloor"||e===""?(c=o="",h="",g="Size4-Regular",d="rfloor",m=667):e==="\\rceil"||e===""?(o="",c=h="",g="Size4-Regular",d="rceil",m=667):e==="("||e==="\\lparen"?(o="",c="",h="",g="Size4-Regular",d="lparen",m=875):e===")"||e==="\\rparen"?(o="",c="",h="",g="Size4-Regular",d="rparen",m=875):e==="\\{"||e==="\\lbrace"?(o="",l="",h="",c="",g="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",h="",c="",g="Size4-Regular"):e==="\\lgroup"||e===""?(o="",h="",c="",g="Size4-Regular"):e==="\\rgroup"||e===""?(o="",h="",c="",g="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",h="",c="",g="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",h="",c="",g="Size4-Regular");var x=Zo(o,g,s),S=x.height+x.depth,R=Zo(c,g,s),E=R.height+R.depth,w=Zo(h,g,s),T=w.height+w.depth,B=0,j=1;if(l!==null){var F=Zo(l,g,s);B=F.height+F.depth,j=2}var C=S+T+B,b=Math.max(0,Math.ceil((n-C)/(j*E))),A=C+b*j*E,N=i.fontMetrics().axisHeight;r&&(N*=i.sizeMultiplier);var M=A/2-N,L=[];if(d.length>0){var P=A-S-T,de=Math.round(A*1e3),ce=DM(d,Math.round(P*1e3)),Ce=new rs(d,ce),Re=(m/1e3).toFixed(3)+"em",ne=(de/1e3).toFixed(3)+"em",he=new ni([Ce],{width:Re,height:ne,viewBox:"0 0 "+m+" "+de}),D=H.makeSvgSpan([],[he],i);D.height=de/1e3,D.style.width=Re,D.style.height=ne,L.push({type:"elem",elem:D})}else{if(L.push(Qd(h,g,s)),L.push(hc),l===null){var ke=A-S-T+2*Vp;L.push(Yd(c,ke,i))}else{var we=(A-S-T-B)/2+2*Vp;L.push(Yd(c,we,i)),L.push(hc),L.push(Qd(l,g,s)),L.push(hc),L.push(Yd(c,we,i))}L.push(hc),L.push(Qd(o,g,s))}var V=i.havingBaseStyle(ye.TEXT),Xe=H.makeVList({positionType:"bottom",positionData:M,children:L},V);return U1(H.makeSpan(["delimsizing","mult"],[Xe],V),ye.TEXT,i,a)},Xd=80,Jd=.08,Zd=function(e,n,r,i,s){var a=NM(e,i,r),o=new rs(e,a),l=new ni([o],{width:"400em",height:ie(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return H.makeSvgSpan(["hide-tail"],[l],s)},RD=function(e,n){var r=n.havingBaseSizing(),i=Vw("\\surd",e*r.sizeMultiplier,zw,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,c=0,h=0,d;return i.type==="small"?(h=1e3+1e3*a+Xd,e<1?s=1:e<1.4&&(s=.7),l=(1+a+Jd)/s,c=(1+a)/s,o=Zd("sqrtMain",l,h,a,n),o.style.minWidth="0.853em",d=.833/s):i.type==="large"?(h=(1e3+Xd)*ml[i.size],c=(ml[i.size]+a)/s,l=(ml[i.size]+a+Jd)/s,o=Zd("sqrtSize"+i.size,l,h,a,n),o.style.minWidth="1.02em",d=1/s):(l=e+a+Jd,c=e+a,h=Math.floor(1e3*e+a)+Xd,o=Zd("sqrtTall",l,h,a,n),o.style.minWidth="0.742em",d=1.056),o.height=c,o.style.height=ie(l),{span:o,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},Ow=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],PD=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Lw=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ml=[0,1.2,1.8,2.4,3],ND=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),me.contains(Ow,e)||me.contains(Lw,e))return Mw(e,n,!1,r,i,s);if(me.contains(PD,e))return Dw(e,ml[n],!1,r,i,s);throw new ee("Illegal delimiter: '"+e+"'")},MD=[{type:"small",style:ye.SCRIPTSCRIPT},{type:"small",style:ye.SCRIPT},{type:"small",style:ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],DD=[{type:"small",style:ye.SCRIPTSCRIPT},{type:"small",style:ye.SCRIPT},{type:"small",style:ye.TEXT},{type:"stack"}],zw=[{type:"small",style:ye.SCRIPTSCRIPT},{type:"small",style:ye.SCRIPT},{type:"small",style:ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],OD=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Vw=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var o=Zo(e,OD(r[a]),"math"),l=o.height+o.depth;if(r[a].type==="small"){var c=i.havingBaseStyle(r[a].style);l*=c.sizeMultiplier}if(l>n)return r[a]}return r[r.length-1]},Fw=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;me.contains(Lw,e)?o=MD:me.contains(Ow,e)?o=zw:o=DD;var l=Vw(e,n,o,i);return l.type==="small"?TD(e,l.style,r,i,s,a):l.type==="large"?Mw(e,l.size,r,i,s,a):Dw(e,n,r,i,s,a)},LD=function(e,n,r,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,h=Math.max(n-o,r+o),d=Math.max(h/500*l,2*h-c);return Fw(e,d,!0,i,s,a)},Kr={sqrtImage:RD,sizedDelim:ND,sizeToMaxHeight:ml,customSizedDelim:Fw,leftRightDelim:LD},xv={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},zD=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ah(t,e){var n=Th(t);if(n&&me.contains(zD,n.text))return n;throw n?new ee("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new ee("Invalid delimiter type '"+t.type+"'",t)}ae({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Ah(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:xv[t.funcName].size,mclass:xv[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?H.makeSpan([t.mclass]):Kr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Kn(t.delim,t.mode));var n=new X.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ie(Kr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function Ev(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ae({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ee("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Ah(e[0],t).text,color:n}}});ae({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Ah(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ae(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{Ev(t);for(var n=At(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=Gl(e,["mopen"]):o=Kr.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(o),s)for(var l=1;l<n.length;l++){var c=n[l],h=c.isMiddle;h&&(n[l]=Kr.leftRightDelim(h.delim,r,i,h.options,t.mode,[]))}var d;if(t.right===".")d=Gl(e,["mclose"]);else{var m=t.rightColor?e.withColor(t.rightColor):e;d=Kr.leftRightDelim(t.right,r,i,m,t.mode,["mclose"])}return n.push(d),H.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{Ev(t);var n=vn(t.body,e);if(t.left!=="."){var r=new X.MathNode("mo",[Kn(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new X.MathNode("mo",[Kn(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return z1(n)}});ae({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Ah(e[0],t);if(!t.parser.leftrightDepth)throw new ee("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Gl(e,[]);else{n=Kr.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Kn("|","text"):Kn(t.delim,t.mode),r=new X.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var j1=(t,e)=>{var n=H.wrapFragment(Ve(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,o=me.isCharacterBox(t.body);if(r==="sout")s=H.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=ot({number:.6,unit:"pt"},e),c=ot({number:.35,unit:"ex"},e),h=e.havingBaseSizing();i=i/h.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=ie(d/2+l);var m=Math.floor(1e3*d*i),g=RM(m),x=new ni([new rs("phase",g)],{width:"400em",height:ie(m/1e3),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});s=H.makeSvgSpan(["hide-tail"],[x],e),s.style.height=ie(d),a=n.depth+l+c}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var S=0,R=0,E=0;/box/.test(r)?(E=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),S=e.fontMetrics().fboxsep+(r==="colorbox"?0:E),R=S):r==="angl"?(E=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),S=4*E,R=Math.max(0,.25-n.depth)):(S=o?.2:0,R=S),s=ii.encloseSpan(n,r,S,R,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=ie(E)):r==="angl"&&E!==.049&&(s.style.borderTopWidth=ie(E),s.style.borderRightWidth=ie(E)),a=n.depth+R,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var w;if(t.backgroundColor)w=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var T=/cancel|phase/.test(r)?["svg-align"]:[];w=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:T}]},e)}return/cancel/.test(r)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(r)&&!o?H.makeSpan(["mord","cancel-lap"],[w],e):H.makeSpan(["mord"],[w],e)},q1=(t,e)=>{var n=0,r=new X.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ge(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ae({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:j1,mathmlBuilder:q1});ae({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,a=Ae(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:j1,mathmlBuilder:q1});ae({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ae({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:j1,mathmlBuilder:q1});ae({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var Bw={};function Tr(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)Bw[n[l]]=o;s&&(C0[e]=s),a&&(R0[e]=a)}var Uw={};function k(t,e){Uw[t]=e}function Sv(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Ch=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ee("{"+t.envName+"} can be used only in display mode.")};function H1(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function cs(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:c,emptySingleRow:h,maxNumCols:d,leqno:m}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var g=t.gullet.expandMacroAsText("\\arraystretch");if(g==null)a=1;else if(a=parseFloat(g),!a||a<0)throw new ee("Invalid \\arraystretch: "+g)}t.gullet.beginGroup();var x=[],S=[x],R=[],E=[],w=l!=null?[]:void 0;function T(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function B(){w&&(t.gullet.macros.get("\\df@tag")?(w.push(t.subparse([new Hn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(T(),E.push(Sv(t));;){var j=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),j={type:"ordgroup",mode:t.mode,body:j},n&&(j={type:"styling",mode:t.mode,style:n,body:[j]}),x.push(j);var F=t.fetch().text;if(F==="&"){if(d&&x.length===d){if(c||o)throw new ee("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(F==="\\end"){B(),x.length===1&&j.type==="styling"&&j.body[0].body.length===0&&(S.length>1||!h)&&S.pop(),E.length<S.length+1&&E.push([]);break}else if(F==="\\\\"){t.consume();var C=void 0;t.gullet.future().text!==" "&&(C=t.parseSizeGroup(!0)),R.push(C?C.value:null),B(),E.push(Sv(t)),x=[],S.push(x),T()}else throw new ee("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:S,cols:s,rowGaps:R,hskipBeforeAndAfter:r,hLinesBeforeRow:E,colSeparationType:o,tags:w,leqno:m}}function $1(t){return t.slice(0,1)==="d"?"display":"text"}var Ir=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),c=[],h=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,m=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var g=n.havingStyle(ye.SCRIPT).sizeMultiplier;m=.2778*(g/n.sizeMultiplier)}var x=e.colSeparationType==="CD"?ot({number:3,unit:"ex"},n):12*d,S=3*d,R=e.arraystretch*x,E=.7*R,w=.3*R,T=0;function B(hi){for(var lr=0;lr<hi.length;++lr)lr>0&&(T+=.25),c.push({pos:T,isDashed:hi[lr]})}for(B(a[0]),r=0;r<e.body.length;++r){var j=e.body[r],F=E,C=w;o<j.length&&(o=j.length);var b=new Array(j.length);for(i=0;i<j.length;++i){var A=Ve(j[i],n);C<A.depth&&(C=A.depth),F<A.height&&(F=A.height),b[i]=A}var N=e.rowGaps[r],M=0;N&&(M=ot(N,n),M>0&&(M+=w,C<M&&(C=M),M=0)),e.addJot&&(C+=S),b.height=F,b.depth=C,T+=F,b.pos=T,T+=C+M,l[r]=b,B(a[r+1])}var L=T/2+n.fontMetrics().axisHeight,P=e.cols||[],de=[],ce,Ce,Re=[];if(e.tags&&e.tags.some(hi=>hi))for(r=0;r<s;++r){var ne=l[r],he=ne.pos-L,D=e.tags[r],ke=void 0;D===!0?ke=H.makeSpan(["eqn-num"],[],n):D===!1?ke=H.makeSpan([],[],n):ke=H.makeSpan([],At(D,n,!0),n),ke.depth=ne.depth,ke.height=ne.height,Re.push({type:"elem",elem:ke,shift:he})}for(i=0,Ce=0;i<o||Ce<P.length;++i,++Ce){for(var we=P[Ce]||{},V=!0;we.type==="separator";){if(V||(ce=H.makeSpan(["arraycolsep"],[]),ce.style.width=ie(n.fontMetrics().doubleRuleSep),de.push(ce)),we.separator==="|"||we.separator===":"){var Xe=we.separator==="|"?"solid":"dashed",tt=H.makeSpan(["vertical-separator"],[],n);tt.style.height=ie(T),tt.style.borderRightWidth=ie(h),tt.style.borderRightStyle=Xe,tt.style.margin="0 "+ie(-h/2);var Ue=T-L;Ue&&(tt.style.verticalAlign=ie(-Ue)),de.push(tt)}else throw new ee("Invalid separator type: "+we.separator);Ce++,we=P[Ce]||{},V=!1}if(!(i>=o)){var ht=void 0;(i>0||e.hskipBeforeAndAfter)&&(ht=me.deflt(we.pregap,m),ht!==0&&(ce=H.makeSpan(["arraycolsep"],[]),ce.style.width=ie(ht),de.push(ce)));var Nt=[];for(r=0;r<s;++r){var wn=l[r],Bt=wn[i];if(Bt){var Yn=wn.pos-L;Bt.depth=wn.depth,Bt.height=wn.height,Nt.push({type:"elem",elem:Bt,shift:Yn})}}Nt=H.makeVList({positionType:"individualShift",children:Nt},n),Nt=H.makeSpan(["col-align-"+(we.align||"c")],[Nt]),de.push(Nt),(i<o-1||e.hskipBeforeAndAfter)&&(ht=me.deflt(we.postgap,m),ht!==0&&(ce=H.makeSpan(["arraycolsep"],[]),ce.style.width=ie(ht),de.push(ce)))}}if(l=H.makeSpan(["mtable"],de),c.length>0){for(var ds=H.makeLineSpan("hline",n,h),fs=H.makeLineSpan("hdashline",n,h),Cr=[{type:"elem",elem:l,shift:0}];c.length>0;){var Rr=c.pop(),ui=Rr.pos-L;Rr.isDashed?Cr.push({type:"elem",elem:fs,shift:ui}):Cr.push({type:"elem",elem:ds,shift:ui})}l=H.makeVList({positionType:"individualShift",children:Cr},n)}if(Re.length===0)return H.makeSpan(["mord"],[l],n);var ci=H.makeVList({positionType:"individualShift",children:Re},n);return ci=H.makeSpan(["tag"],[ci],n),H.makeFragment([l,ci])},VD={c:"center ",l:"left ",r:"right "},Ar=function(e,n){for(var r=[],i=new X.MathNode("mtd",[],["mtr-glue"]),s=new X.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],c=0;c<o.length;c++)l.push(new X.MathNode("mtd",[Ge(o[c],n)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new X.MathNode("mtr",l))}var h=new X.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",ie(d));var m="",g="";if(e.cols&&e.cols.length>0){var x=e.cols,S="",R=!1,E=0,w=x.length;x[0].type==="separator"&&(m+="top ",E=1),x[x.length-1].type==="separator"&&(m+="bottom ",w-=1);for(var T=E;T<w;T++)x[T].type==="align"?(g+=VD[x[T].align],R&&(S+="none "),R=!0):x[T].type==="separator"&&R&&(S+=x[T].separator==="|"?"solid ":"dashed ",R=!1);h.setAttribute("columnalign",g.trim()),/[sd]/.test(S)&&h.setAttribute("columnlines",S.trim())}if(e.colSeparationType==="align"){for(var B=e.cols||[],j="",F=1;F<B.length;F++)j+=F%2?"0em ":"1em ";h.setAttribute("columnspacing",j.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var C="",b=e.hLinesBeforeRow;m+=b[0].length>0?"left ":"",m+=b[b.length-1].length>0?"right ":"";for(var A=1;A<b.length-1;A++)C+=b[A].length===0?"none ":b[A][0]?"dashed ":"solid ";return/[sd]/.test(C)&&h.setAttribute("rowlines",C.trim()),m!==""&&(h=new X.MathNode("menclose",[h]),h.setAttribute("notation",m.trim())),e.arraystretch&&e.arraystretch<1&&(h=new X.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},jw=function(e,n){e.envName.indexOf("ed")===-1&&Ch(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=cs(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:H1(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var h="",d=0;d<n[0].body.length;d++){var m=Ae(n[0].body[d],"textord");h+=m.text}o=Number(h),l=o*2}var g=!l;a.body.forEach(function(E){for(var w=1;w<E.length;w+=2){var T=Ae(E[w],"styling"),B=Ae(T.body[0],"ordgroup");B.body.unshift(c)}if(g)l<E.length&&(l=E.length);else{var j=E.length/2;if(o<j)throw new ee("Too many math in a row: "+("expected "+o+", but got "+j),E[0])}});for(var x=0;x<l;++x){var S="r",R=0;x%2===1?S="l":x>0&&g&&(R=1),r[x]={type:"align",align:S,pregap:R,postgap:0}}return a.colSeparationType=g?"align":"alignat",a};Tr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=Th(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(a){var o=F1(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ee("Unknown column alignment: "+l,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return cs(t.parser,s,$1(t.envName))},htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ee("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=cs(t.parser,r,$1(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=cs(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=Th(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(a){var o=F1(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ee("Unknown column alignment: "+l,a)});if(i.length>1)throw new ee("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=cs(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new ee("{subarray} can contain only one column");return s},htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=cs(t.parser,e,$1(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:jw,htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){me.contains(["gather","gather*"],t.envName)&&Ch(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:H1(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return cs(t.parser,e,"display")},htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:jw,htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Ch(t);var e={autoTag:H1(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return cs(t.parser,e,"display")},htmlBuilder:Ir,mathmlBuilder:Ar});Tr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Ch(t),bD(t.parser)},htmlBuilder:Ir,mathmlBuilder:Ar});k("\\nonumber","\\gdef\\@eqnsw{0}");k("\\notag","\\nonumber");ae({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ee(t.funcName+" valid only within array environment")}});var bv=Bw;ae({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new ee("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=Ae(i.body[a],"textord").text;if(r==="\\begin"){if(!bv.hasOwnProperty(s))throw new ee("No such environment: "+s,i);var o=bv[s],{args:l,optArgs:c}=n.parseArguments("\\begin{"+s+"}",o),h={mode:n.mode,envName:s,parser:n},d=o.handler(h,l,c);n.expect("\\end",!1);var m=n.nextToken,g=Ae(n.parseFunction(),"environment");if(g.name!==s)throw new ee("Mismatch: \\begin{"+s+"} matched by \\end{"+g.name+"}",m);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var qw=(t,e)=>{var n=t.font,r=e.withFont(n);return Ve(t.body,r)},Hw=(t,e)=>{var n=t.font,r=e.withFont(n);return Ge(t.body,r)},kv={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ae({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=P0(e[0]),s=r;return s in kv&&(s=kv[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:qw,mathmlBuilder:Hw});ae({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=me.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Ih(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ae({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:qw,mathmlBuilder:Hw});var $w=(t,e)=>{var n=e;return t==="display"?n=n.id>=ye.SCRIPT.id?n.text():ye.DISPLAY:t==="text"&&n.size===ye.DISPLAY.size?n=ye.TEXT:t==="script"?n=ye.SCRIPT:t==="scriptscript"&&(n=ye.SCRIPTSCRIPT),n},W1=(t,e)=>{var n=$w(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=Ve(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(i);var c=Ve(t.denom,s,e),h,d,m;t.hasBarLine?(t.barSize?(d=ot(t.barSize,e),h=H.makeLineSpan("frac-line",e,d)):h=H.makeLineSpan("frac-line",e),d=h.height,m=h.height):(h=null,d=0,m=e.fontMetrics().defaultRuleThickness);var g,x,S;n.size===ye.DISPLAY.size||t.size==="display"?(g=e.fontMetrics().num1,d>0?x=3*m:x=7*m,S=e.fontMetrics().denom1):(d>0?(g=e.fontMetrics().num2,x=m):(g=e.fontMetrics().num3,x=3*m),S=e.fontMetrics().denom2);var R;if(h){var w=e.fontMetrics().axisHeight;g-a.depth-(w+.5*d)<x&&(g+=x-(g-a.depth-(w+.5*d))),w-.5*d-(c.height-S)<x&&(S+=x-(w-.5*d-(c.height-S)));var T=-(w-.5*d);R=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:S},{type:"elem",elem:h,shift:T},{type:"elem",elem:a,shift:-g}]},e)}else{var E=g-a.depth-(c.height-S);E<x&&(g+=.5*(x-E),S+=.5*(x-E)),R=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:S},{type:"elem",elem:a,shift:-g}]},e)}s=e.havingStyle(n),R.height*=s.sizeMultiplier/e.sizeMultiplier,R.depth*=s.sizeMultiplier/e.sizeMultiplier;var B;n.size===ye.DISPLAY.size?B=e.fontMetrics().delim1:n.size===ye.SCRIPTSCRIPT.size?B=e.havingStyle(ye.SCRIPT).fontMetrics().delim2:B=e.fontMetrics().delim2;var j,F;return t.leftDelim==null?j=Gl(e,["mopen"]):j=Kr.customSizedDelim(t.leftDelim,B,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?F=H.makeSpan([]):t.rightDelim==null?F=Gl(e,["mclose"]):F=Kr.customSizedDelim(t.rightDelim,B,!0,e.havingStyle(n),t.mode,["mclose"]),H.makeSpan(["mord"].concat(s.sizingClasses(e)),[j,H.makeSpan(["mfrac"],[R]),F],e)},G1=(t,e)=>{var n=new X.MathNode("mfrac",[Ge(t.numer,e),Ge(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=ot(t.barSize,e);n.setAttribute("linethickness",ie(r))}var i=$w(t.size,e.style);if(i.size!==e.style.size){n=new X.MathNode("mstyle",[n]);var s=i.size===ye.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new X.MathNode("mo",[new X.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(n),t.rightDelim!=null){var l=new X.MathNode("mo",[new X.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return z1(a)}return n};ae({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,o=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:c,barSize:null}},htmlBuilder:W1,mathmlBuilder:G1});ae({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ae({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var Tv=["display","text","script","scriptscript"],Iv=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ae({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=P0(e[0]),a=s.type==="atom"&&s.family==="open"?Iv(s.text):null,o=P0(e[1]),l=o.type==="atom"&&o.family==="close"?Iv(o.text):null,c=Ae(e[2],"size"),h,d=null;c.isBlank?h=!0:(d=c.value,h=d.number>0);var m="auto",g=e[3];if(g.type==="ordgroup"){if(g.body.length>0){var x=Ae(g.body[0],"textord");m=Tv[Number(x.text)]}}else g=Ae(g,"textord"),m=Tv[Number(g.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:h,barSize:d,leftDelim:a,rightDelim:l,size:m}},htmlBuilder:W1,mathmlBuilder:G1});ae({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ae(e[0],"size").value,token:i}}});ae({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=mM(Ae(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:W1,mathmlBuilder:G1});var Ww=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ve(t.sup,e.havingStyle(n.sup()),e):Ve(t.sub,e.havingStyle(n.sub()),e),i=Ae(t.base,"horizBrace")):i=Ae(t,"horizBrace");var s=Ve(i.base,e.havingBaseStyle(ye.DISPLAY)),a=ii.svgSpan(i,e),o;if(i.isOver?(o=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=H.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=H.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=H.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return H.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},FD=(t,e)=>{var n=ii.mathMLnode(t.label);return new X.MathNode(t.isOver?"mover":"munder",[Ge(t.base,e),n])};ae({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:Ww,mathmlBuilder:FD});ae({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ae(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:yt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=At(t.body,e,!1);return H.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=is(t.body,e);return n instanceof An||(n=new An("mrow",[n])),n.setAttribute("href",t.href),n}});ae({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ae(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:yt(o)}}});ae({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:yt(e[0])}},htmlBuilder(t,e){var n=At(t.body,e,!1);return H.makeFragment(n)},mathmlBuilder(t,e){return new X.MathNode("mrow",vn(t.body,e))}});ae({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ae(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(d.length!==2)throw new ee("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:yt(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=At(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=H.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>is(t.body,e)});ae({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:yt(e[0]),mathml:yt(e[1])}},htmlBuilder:(t,e)=>{var n=At(t.html,e,!1);return H.makeFragment(n)},mathmlBuilder:(t,e)=>is(t.mathml,e)});var ef=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new ee("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!hw(r))throw new ee("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ae({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(n[0])for(var l=Ae(n[0],"raw").string,c=l.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(d.length===2){var m=d[1].trim();switch(d[0].trim()){case"alt":o=m;break;case"width":i=ef(m);break;case"height":s=ef(m);break;case"totalheight":a=ef(m);break;default:throw new ee("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var g=Ae(e[0],"url").url;return o===""&&(o=g,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:s,totalheight:a,src:g}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=ot(t.height,e),r=0;t.totalheight.number>0&&(r=ot(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=ot(t.width,e));var s={height:ie(n+r)};i>0&&(s.width=ie(i)),r>0&&(s.verticalAlign=ie(-r));var a=new FM(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new X.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=ot(t.height,e),i=0;if(t.totalheight.number>0&&(i=ot(t.totalheight,e)-r,n.setAttribute("valign",ie(-i))),n.setAttribute("height",ie(r+i)),t.width.number>0){var s=ot(t.width,e);n.setAttribute("width",ie(s))}return n.setAttribute("src",t.src),n}});ae({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ae(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return H.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=ot(t.dimension,e);return new X.SpaceNode(n)}});ae({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=H.makeSpan([],[Ve(t.body,e)]),n=H.makeSpan(["inner"],[n],e)):n=H.makeSpan(["inner"],[Ve(t.body,e)]);var r=H.makeSpan(["fix"],[]),i=H.makeSpan([t.alignment],[n,r],e),s=H.makeSpan(["strut"]);return s.style.height=ie(i.height+i.depth),i.depth&&(s.style.verticalAlign=ie(-i.depth)),i.children.unshift(s),i=H.makeSpan(["thinbox"],[i],e),H.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new X.MathNode("mpadded",[Ge(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ae({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});ae({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ee("Mismatched "+t.funcName)}});var Av=(t,e)=>{switch(e.style.size){case ye.DISPLAY.size:return t.display;case ye.TEXT.size:return t.text;case ye.SCRIPT.size:return t.script;case ye.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ae({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:yt(e[0]),text:yt(e[1]),script:yt(e[2]),scriptscript:yt(e[3])}},htmlBuilder:(t,e)=>{var n=Av(t,e),r=At(n,e,!1);return H.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=Av(t,e);return is(n,e)}});var Gw=(t,e,n,r,i,s,a)=>{t=H.makeSpan([],[t]);var o=n&&me.isCharacterBox(n),l,c;if(e){var h=Ve(e,r.havingStyle(i.sup()),r);c={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=Ve(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var m;if(c&&l){var g=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;m=H.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ie(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ie(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var x=t.height-a;m=H.makeVList({positionType:"top",positionData:x,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ie(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(c){var S=t.depth+a;m=H.makeVList({positionType:"bottom",positionData:S,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ie(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var R=[m];if(l&&s!==0&&!o){var E=H.makeSpan(["mspace"],[],r);E.style.marginRight=ie(s),R.unshift(E)}return H.makeSpan(["mop","op-limits"],R,r)},Kw=["\\smallint"],go=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"op"),i=!0):s=Ae(t,"op");var a=e.style,o=!1;a.size===ye.DISPLAY.size&&s.symbol&&!me.contains(Kw,s.name)&&(o=!0);var l;if(s.symbol){var c=o?"Size2-Regular":"Size1-Regular",h="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(h=s.name.slice(1),s.name=h==="oiint"?"\\iint":"\\iiint"),l=H.makeSymbol(s.name,c,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),h.length>0){var d=l.italic,m=H.staticSvg(h+"Size"+(o?"2":"1"),e);l=H.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:m,shift:o?.08:0}]},e),s.name="\\"+h,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var g=At(s.body,e,!0);g.length===1&&g[0]instanceof Gn?(l=g[0],l.classes[0]="mop"):l=H.makeSpan(["mop"],g,e)}else{for(var x=[],S=1;S<s.name.length;S++)x.push(H.mathsym(s.name[S],s.mode,e));l=H.makeSpan(["mop"],x,e)}var R=0,E=0;return(l instanceof Gn||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(R=(l.height-l.depth)/2-e.fontMetrics().axisHeight,E=l.italic),i?Gw(l,n,r,e,a,E,R):(R&&(l.style.position="relative",l.style.top=ie(R)),l)},du=(t,e)=>{var n;if(t.symbol)n=new An("mo",[Kn(t.name,t.mode)]),me.contains(Kw,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new An("mo",vn(t.body,e));else{n=new An("mi",[new gr(t.name.slice(1))]);var r=new An("mo",[Kn("","text")]);t.parentIsSupSub?n=new An("mrow",[n,r]):n=Ew([n,r])}return n},BD={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ae({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=BD[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:go,mathmlBuilder:du});ae({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:yt(r)}},htmlBuilder:go,mathmlBuilder:du});var UD={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ae({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:go,mathmlBuilder:du});ae({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:go,mathmlBuilder:du});ae({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=UD[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:go,mathmlBuilder:du});var Qw=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"operatorname"),i=!0):s=Ae(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(d=>{var m=d.text;return typeof m=="string"?{type:"textord",mode:d.mode,text:m}:d}),l=At(o,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var h=l[c];h instanceof Gn&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=H.makeSpan(["mop"],l,e)}else a=H.makeSpan(["mop"],[],e);return i?Gw(a,n,r,e,e.style,0,0):a},jD=(t,e)=>{for(var n=vn(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof X.SpaceNode))if(s instanceof X.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof X.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(h=>h.toText()).join("");n=[new X.TextNode(o)]}var l=new X.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new X.MathNode("mo",[Kn("","text")]);return t.parentIsSupSub?new X.MathNode("mrow",[l,c]):X.newDocumentFragment([l,c])};ae({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:yt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Qw,mathmlBuilder:jD});k("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Qs({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?H.makeFragment(At(t.body,e,!1)):H.makeSpan(["mord"],At(t.body,e,!0),e)},mathmlBuilder(t,e){return is(t.body,e,!0)}});ae({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ve(t.body,e.havingCrampedStyle()),r=H.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return H.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new X.MathNode("mo",[new X.TextNode("")]);n.setAttribute("stretchy","true");var r=new X.MathNode("mover",[Ge(t.body,e),n]);return r.setAttribute("accent","true"),r}});ae({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:yt(r)}},htmlBuilder:(t,e)=>{var n=At(t.body,e.withPhantom(),!1);return H.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=vn(t.body,e);return new X.MathNode("mphantom",n)}});ae({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=H.makeSpan([],[Ve(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),H.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=vn(yt(t.body),e),r=new X.MathNode("mphantom",n),i=new X.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ae({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=H.makeSpan(["inner"],[Ve(t.body,e.withPhantom())]),r=H.makeSpan(["fix"],[]);return H.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=vn(yt(t.body),e),r=new X.MathNode("mphantom",n),i=new X.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ae({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ae(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ve(t.body,e),r=ot(t.dy,e);return H.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new X.MathNode("mpadded",[Ge(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ae({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ae({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ae(e[0],"size"),a=Ae(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ae(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=H.makeSpan(["mord","rule"],[],e),r=ot(t.width,e),i=ot(t.height,e),s=t.shift?ot(t.shift,e):0;return n.style.borderRightWidth=ie(r),n.style.borderTopWidth=ie(i),n.style.bottom=ie(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=ot(t.width,e),r=ot(t.height,e),i=t.shift?ot(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new X.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",ie(n)),a.setAttribute("height",ie(r));var o=new X.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",ie(i)):(o.setAttribute("height",ie(i)),o.setAttribute("depth",ie(-i))),o.setAttribute("voffset",ie(i)),o}});function Yw(t,e,n){for(var r=At(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return H.makeFragment(r)}var Cv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],qD=(t,e)=>{var n=e.havingSize(t.size);return Yw(t.body,n,e)};ae({type:"sizing",names:Cv,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Cv.indexOf(r)+1,body:s}},htmlBuilder:qD,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=vn(t.body,n),i=new X.MathNode("mstyle",r);return i.setAttribute("mathsize",ie(n.sizeMultiplier)),i}});ae({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&Ae(n[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var c=a.body[l];if(o=c.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var h=e[0];return{type:"smash",mode:r.mode,body:h,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=H.makeSpan([],[Ve(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return H.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new X.MathNode("mpadded",[Ge(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ae({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Ve(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=H.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<ye.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=n.height+n.depth+a+i,{span:l,ruleWidth:c,advanceWidth:h}=Kr.sqrtImage(o,e),d=l.height-c;d>n.height+n.depth+a&&(a=(a+d-n.height-n.depth)/2);var m=l.height-n.height-a-c;n.style.paddingLeft=ie(h);var g=H.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+m)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var x=e.havingStyle(ye.SCRIPTSCRIPT),S=Ve(t.index,x,e),R=.6*(g.height-g.depth),E=H.makeVList({positionType:"shift",positionData:-R,children:[{type:"elem",elem:S}]},e),w=H.makeSpan(["root"],[E]);return H.makeSpan(["mord","sqrt"],[w,g],e)}else return H.makeSpan(["mord","sqrt"],[g],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new X.MathNode("mroot",[Ge(n,e),Ge(r,e)]):new X.MathNode("msqrt",[Ge(n,e)])}});var Rv={display:ye.DISPLAY,text:ye.TEXT,script:ye.SCRIPT,scriptscript:ye.SCRIPTSCRIPT};ae({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=Rv[t.style],r=e.havingStyle(n).withFont("");return Yw(t.body,r,e)},mathmlBuilder(t,e){var n=Rv[t.style],r=e.havingStyle(n),i=vn(t.body,r),s=new X.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var HD=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===ye.DISPLAY.size||r.alwaysHandleSupSub);return i?go:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===ye.DISPLAY.size||r.limits);return s?Qw:null}else{if(r.type==="accent")return me.isCharacterBox(r.base)?B1:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?Ww:null}else return null}else return null};Qs({type:"supsub",htmlBuilder(t,e){var n=HD(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=Ve(r,e),o,l,c=e.fontMetrics(),h=0,d=0,m=r&&me.isCharacterBox(r);if(i){var g=e.havingStyle(e.style.sup());o=Ve(i,g,e),m||(h=a.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(s){var x=e.havingStyle(e.style.sub());l=Ve(s,x,e),m||(d=a.depth+x.fontMetrics().subDrop*x.sizeMultiplier/e.sizeMultiplier)}var S;e.style===ye.DISPLAY?S=c.sup1:e.style.cramped?S=c.sup3:S=c.sup2;var R=e.sizeMultiplier,E=ie(.5/c.ptPerEm/R),w=null;if(l){var T=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof Gn||T)&&(w=ie(-a.italic))}var B;if(o&&l){h=Math.max(h,S,o.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var j=c.defaultRuleThickness,F=4*j;if(h-o.depth-(l.height-d)<F){d=F-(h-o.depth)+l.height;var C=.8*c.xHeight-(h-o.depth);C>0&&(h+=C,d-=C)}var b=[{type:"elem",elem:l,shift:d,marginRight:E,marginLeft:w},{type:"elem",elem:o,shift:-h,marginRight:E}];B=H.makeVList({positionType:"individualShift",children:b},e)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var A=[{type:"elem",elem:l,marginLeft:w,marginRight:E}];B=H.makeVList({positionType:"shift",positionData:d,children:A},e)}else if(o)h=Math.max(h,S,o.depth+.25*c.xHeight),B=H.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:o,marginRight:E}]},e);else throw new Error("supsub must have either sup or sub.");var N=Op(a,"right")||"mord";return H.makeSpan([N],[a,H.makeSpan(["msupsub"],[B])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[Ge(t.base,e)];t.sub&&s.push(Ge(t.sub,e)),t.sup&&s.push(Ge(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===ye.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===ye.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===ye.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===ye.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===ye.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===ye.DISPLAY)?a="mover":a="msup"}return new X.MathNode(a,s)}});Qs({type:"atom",htmlBuilder(t,e){return H.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new X.MathNode("mo",[Kn(t.text,t.mode)]);if(t.family==="bin"){var r=V1(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var Xw={mi:"italic",mn:"normal",mtext:"normal"};Qs({type:"mathord",htmlBuilder(t,e){return H.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new X.MathNode("mi",[Kn(t.text,t.mode,e)]),r=V1(t,e)||"italic";return r!==Xw[n.type]&&n.setAttribute("mathvariant",r),n}});Qs({type:"textord",htmlBuilder(t,e){return H.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Kn(t.text,t.mode,e),r=V1(t,e)||"normal",i;return t.mode==="text"?i=new X.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new X.MathNode("mn",[n]):t.text==="\\prime"?i=new X.MathNode("mo",[n]):i=new X.MathNode("mi",[n]),r!==Xw[i.type]&&i.setAttribute("mathvariant",r),i}});var tf={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},nf={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Qs({type:"spacing",htmlBuilder(t,e){if(nf.hasOwnProperty(t.text)){var n=nf[t.text].className||"";if(t.mode==="text"){var r=H.makeOrd(t,e,"textord");return r.classes.push(n),r}else return H.makeSpan(["mspace",n],[H.mathsym(t.text,t.mode,e)],e)}else{if(tf.hasOwnProperty(t.text))return H.makeSpan(["mspace",tf[t.text]],[],e);throw new ee('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(nf.hasOwnProperty(t.text))n=new X.MathNode("mtext",[new X.TextNode("")]);else{if(tf.hasOwnProperty(t.text))return new X.MathNode("mspace");throw new ee('Unknown type of space "'+t.text+'"')}return n}});var Pv=()=>{var t=new X.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Qs({type:"tag",mathmlBuilder(t,e){var n=new X.MathNode("mtable",[new X.MathNode("mtr",[Pv(),new X.MathNode("mtd",[is(t.body,e)]),Pv(),new X.MathNode("mtd",[is(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Nv={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Mv={"\\textbf":"textbf","\\textmd":"textmd"},$D={"\\textit":"textit","\\textup":"textup"},Dv=(t,e)=>{var n=t.font;if(n){if(Nv[n])return e.withTextFontFamily(Nv[n]);if(Mv[n])return e.withTextFontWeight(Mv[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape($D[n])};ae({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:yt(i),font:r}},htmlBuilder(t,e){var n=Dv(t,e),r=At(t.body,n,!0);return H.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=Dv(t,e);return is(t.body,n)}});ae({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ve(t.body,e),r=H.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=H.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return H.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new X.MathNode("mo",[new X.TextNode("")]);n.setAttribute("stretchy","true");var r=new X.MathNode("munder",[Ge(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ae({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ve(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return H.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new X.MathNode("mpadded",[Ge(t.body,e)],["vcenter"])}});ae({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new ee("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=Ov(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(H.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return H.makeSpan(["mord","text"].concat(i.sizingClasses(e)),H.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new X.TextNode(Ov(t)),r=new X.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Ov=t=>t.body.replace(/ /g,t.star?"":""),Di=_w,Jw=`[ \r
	]`,WD="\\\\[a-zA-Z@]+",GD="\\\\[^\uD800-\uDFFF]",KD="("+WD+")"+Jw+"*",QD=`\\\\(
|[ \r	]+
?)[ \r	]*`,Fp="[-]",YD=new RegExp(Fp+"+$"),XD="("+Jw+"+)|"+(QD+"|")+"([!-\\[\\]---]"+(Fp+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Fp+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+KD)+("|"+GD+")");class Lv{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(XD,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Hn("EOF",new Tn(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new ee("Unexpected character: '"+e[n]+"'",new Hn(e[n],new Tn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Hn(i,new Tn(this,n,this.tokenRegex.lastIndex))}}class JD{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ee("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var ZD=Uw;k("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});k("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});k("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});k("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});k("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});k("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");k("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var zv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};k("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ee("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=zv[e.text],r==null||r>=n)throw new ee("Invalid base-"+n+" digit "+e.text);for(var i;(i=zv[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var K1=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new ee("\\newcommand's first argument must be a macro name");var s=i[0].text,a=t.isDefined(s);if(a&&!e)throw new ee("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!n)throw new ee("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new ee("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return a&&r||t.macros.set(s,{tokens:i,numArgs:o}),""};k("\\newcommand",t=>K1(t,!1,!0,!1));k("\\renewcommand",t=>K1(t,!0,!1,!1));k("\\providecommand",t=>K1(t,!0,!0,!0));k("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});k("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});k("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Di[n],Ye.math[n],Ye.text[n]),""});k("\\bgroup","{");k("\\egroup","}");k("~","\\nobreakspace");k("\\lq","`");k("\\rq","'");k("\\aa","\\r a");k("\\AA","\\r A");k("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");k("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");k("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");k("","\\mathscr{B}");k("","\\mathscr{E}");k("","\\mathscr{F}");k("","\\mathscr{H}");k("","\\mathscr{I}");k("","\\mathscr{L}");k("","\\mathscr{M}");k("","\\mathscr{R}");k("","\\mathfrak{C}");k("","\\mathfrak{H}");k("","\\mathfrak{Z}");k("\\Bbbk","\\Bbb{k}");k("","\\cdotp");k("\\llap","\\mathllap{\\textrm{#1}}");k("\\rlap","\\mathrlap{\\textrm{#1}}");k("\\clap","\\mathclap{\\textrm{#1}}");k("\\mathstrut","\\vphantom{(}");k("\\underbar","\\underline{\\text{#1}}");k("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');k("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");k("\\ne","\\neq");k("","\\neq");k("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");k("","\\notin");k("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");k("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");k("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");k("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");k("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");k("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");k("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");k("","\\perp");k("","\\mathclose{!\\mkern-0.8mu!}");k("","\\notni");k("","\\ulcorner");k("","\\urcorner");k("","\\llcorner");k("","\\lrcorner");k("","\\copyright");k("","\\textregistered");k("","\\textregistered");k("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');k("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');k("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');k("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');k("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");k("","\\vdots");k("\\varGamma","\\mathit{\\Gamma}");k("\\varDelta","\\mathit{\\Delta}");k("\\varTheta","\\mathit{\\Theta}");k("\\varLambda","\\mathit{\\Lambda}");k("\\varXi","\\mathit{\\Xi}");k("\\varPi","\\mathit{\\Pi}");k("\\varSigma","\\mathit{\\Sigma}");k("\\varUpsilon","\\mathit{\\Upsilon}");k("\\varPhi","\\mathit{\\Phi}");k("\\varPsi","\\mathit{\\Psi}");k("\\varOmega","\\mathit{\\Omega}");k("\\substack","\\begin{subarray}{c}#1\\end{subarray}");k("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");k("\\boxed","\\fbox{$\\displaystyle{#1}$}");k("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");k("\\implies","\\DOTSB\\;\\Longrightarrow\\;");k("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");k("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");k("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Vv={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};k("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in Vv?e=Vv[n]:(n.slice(0,4)==="\\not"||n in Ye.math&&me.contains(["bin","rel"],Ye.math[n].group))&&(e="\\dotsb"),e});var Q1={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};k("\\dotso",function(t){var e=t.future().text;return e in Q1?"\\ldots\\,":"\\ldots"});k("\\dotsc",function(t){var e=t.future().text;return e in Q1&&e!==","?"\\ldots\\,":"\\ldots"});k("\\cdots",function(t){var e=t.future().text;return e in Q1?"\\@cdots\\,":"\\@cdots"});k("\\dotsb","\\cdots");k("\\dotsm","\\cdots");k("\\dotsi","\\!\\cdots");k("\\dotsx","\\ldots\\,");k("\\DOTSI","\\relax");k("\\DOTSB","\\relax");k("\\DOTSX","\\relax");k("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");k("\\,","\\tmspace+{3mu}{.1667em}");k("\\thinspace","\\,");k("\\>","\\mskip{4mu}");k("\\:","\\tmspace+{4mu}{.2222em}");k("\\medspace","\\:");k("\\;","\\tmspace+{5mu}{.2777em}");k("\\thickspace","\\;");k("\\!","\\tmspace-{3mu}{.1667em}");k("\\negthinspace","\\!");k("\\negmedspace","\\tmspace-{4mu}{.2222em}");k("\\negthickspace","\\tmspace-{5mu}{.277em}");k("\\enspace","\\kern.5em ");k("\\enskip","\\hskip.5em\\relax");k("\\quad","\\hskip1em\\relax");k("\\qquad","\\hskip2em\\relax");k("\\tag","\\@ifstar\\tag@literal\\tag@paren");k("\\tag@paren","\\tag@literal{({#1})}");k("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ee("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});k("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");k("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");k("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");k("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");k("\\newline","\\\\\\relax");k("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Zw=ie(mr["Main-Regular"][84][1]-.7*mr["Main-Regular"][65][1]);k("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Zw+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");k("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Zw+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");k("\\hspace","\\@ifstar\\@hspacer\\@hspace");k("\\@hspace","\\hskip #1\\relax");k("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");k("\\ordinarycolon",":");k("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");k("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');k("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');k("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');k("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');k("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');k("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');k("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');k("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');k("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');k("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');k("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');k("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');k("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');k("","\\dblcolon");k("","\\eqcolon");k("","\\coloneqq");k("","\\eqqcolon");k("","\\Coloneqq");k("\\ratio","\\vcentcolon");k("\\coloncolon","\\dblcolon");k("\\colonequals","\\coloneqq");k("\\coloncolonequals","\\Coloneqq");k("\\equalscolon","\\eqqcolon");k("\\equalscoloncolon","\\Eqqcolon");k("\\colonminus","\\coloneq");k("\\coloncolonminus","\\Coloneq");k("\\minuscolon","\\eqcolon");k("\\minuscoloncolon","\\Eqcolon");k("\\coloncolonapprox","\\Colonapprox");k("\\coloncolonsim","\\Colonsim");k("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");k("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");k("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");k("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");k("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");k("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");k("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");k("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");k("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");k("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");k("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");k("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");k("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");k("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");k("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");k("\\ngeqq","\\html@mathml{\\@ngeqq}{}");k("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");k("\\nleqq","\\html@mathml{\\@nleqq}{}");k("\\nleqslant","\\html@mathml{\\@nleqslant}{}");k("\\nshortmid","\\html@mathml{\\@nshortmid}{}");k("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");k("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");k("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");k("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");k("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");k("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");k("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");k("\\imath","\\html@mathml{\\@imath}{}");k("\\jmath","\\html@mathml{\\@jmath}{}");k("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");k("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");k("","\\llbracket");k("","\\rrbracket");k("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");k("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");k("","\\lBrace");k("","\\rBrace");k("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");k("","\\minuso");k("\\darr","\\downarrow");k("\\dArr","\\Downarrow");k("\\Darr","\\Downarrow");k("\\lang","\\langle");k("\\rang","\\rangle");k("\\uarr","\\uparrow");k("\\uArr","\\Uparrow");k("\\Uarr","\\Uparrow");k("\\N","\\mathbb{N}");k("\\R","\\mathbb{R}");k("\\Z","\\mathbb{Z}");k("\\alef","\\aleph");k("\\alefsym","\\aleph");k("\\Alpha","\\mathrm{A}");k("\\Beta","\\mathrm{B}");k("\\bull","\\bullet");k("\\Chi","\\mathrm{X}");k("\\clubs","\\clubsuit");k("\\cnums","\\mathbb{C}");k("\\Complex","\\mathbb{C}");k("\\Dagger","\\ddagger");k("\\diamonds","\\diamondsuit");k("\\empty","\\emptyset");k("\\Epsilon","\\mathrm{E}");k("\\Eta","\\mathrm{H}");k("\\exist","\\exists");k("\\harr","\\leftrightarrow");k("\\hArr","\\Leftrightarrow");k("\\Harr","\\Leftrightarrow");k("\\hearts","\\heartsuit");k("\\image","\\Im");k("\\infin","\\infty");k("\\Iota","\\mathrm{I}");k("\\isin","\\in");k("\\Kappa","\\mathrm{K}");k("\\larr","\\leftarrow");k("\\lArr","\\Leftarrow");k("\\Larr","\\Leftarrow");k("\\lrarr","\\leftrightarrow");k("\\lrArr","\\Leftrightarrow");k("\\Lrarr","\\Leftrightarrow");k("\\Mu","\\mathrm{M}");k("\\natnums","\\mathbb{N}");k("\\Nu","\\mathrm{N}");k("\\Omicron","\\mathrm{O}");k("\\plusmn","\\pm");k("\\rarr","\\rightarrow");k("\\rArr","\\Rightarrow");k("\\Rarr","\\Rightarrow");k("\\real","\\Re");k("\\reals","\\mathbb{R}");k("\\Reals","\\mathbb{R}");k("\\Rho","\\mathrm{P}");k("\\sdot","\\cdot");k("\\sect","\\S");k("\\spades","\\spadesuit");k("\\sub","\\subset");k("\\sube","\\subseteq");k("\\supe","\\supseteq");k("\\Tau","\\mathrm{T}");k("\\thetasym","\\vartheta");k("\\weierp","\\wp");k("\\Zeta","\\mathrm{Z}");k("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");k("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");k("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");k("\\bra","\\mathinner{\\langle{#1}|}");k("\\ket","\\mathinner{|{#1}\\rangle}");k("\\braket","\\mathinner{\\langle{#1}\\rangle}");k("\\Bra","\\left\\langle#1\\right|");k("\\Ket","\\left|#1\\right\\rangle");var e9=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=d=>m=>{t&&(m.macros.set("|",a),i.length&&m.macros.set("\\|",o));var g=d;if(!d&&i.length){var x=m.future();x.text==="|"&&(m.popToken(),g=!0)}return{tokens:g?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,h=e.expandTokens([...s,...c,...n]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};k("\\bra@ket",e9(!1));k("\\bra@set",e9(!0));k("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");k("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");k("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");k("\\angln","{\\angl n}");k("\\blue","\\textcolor{##6495ed}{#1}");k("\\orange","\\textcolor{##ffa500}{#1}");k("\\pink","\\textcolor{##ff00af}{#1}");k("\\red","\\textcolor{##df0030}{#1}");k("\\green","\\textcolor{##28ae7b}{#1}");k("\\gray","\\textcolor{gray}{#1}");k("\\purple","\\textcolor{##9d38bd}{#1}");k("\\blueA","\\textcolor{##ccfaff}{#1}");k("\\blueB","\\textcolor{##80f6ff}{#1}");k("\\blueC","\\textcolor{##63d9ea}{#1}");k("\\blueD","\\textcolor{##11accd}{#1}");k("\\blueE","\\textcolor{##0c7f99}{#1}");k("\\tealA","\\textcolor{##94fff5}{#1}");k("\\tealB","\\textcolor{##26edd5}{#1}");k("\\tealC","\\textcolor{##01d1c1}{#1}");k("\\tealD","\\textcolor{##01a995}{#1}");k("\\tealE","\\textcolor{##208170}{#1}");k("\\greenA","\\textcolor{##b6ffb0}{#1}");k("\\greenB","\\textcolor{##8af281}{#1}");k("\\greenC","\\textcolor{##74cf70}{#1}");k("\\greenD","\\textcolor{##1fab54}{#1}");k("\\greenE","\\textcolor{##0d923f}{#1}");k("\\goldA","\\textcolor{##ffd0a9}{#1}");k("\\goldB","\\textcolor{##ffbb71}{#1}");k("\\goldC","\\textcolor{##ff9c39}{#1}");k("\\goldD","\\textcolor{##e07d10}{#1}");k("\\goldE","\\textcolor{##a75a05}{#1}");k("\\redA","\\textcolor{##fca9a9}{#1}");k("\\redB","\\textcolor{##ff8482}{#1}");k("\\redC","\\textcolor{##f9685d}{#1}");k("\\redD","\\textcolor{##e84d39}{#1}");k("\\redE","\\textcolor{##bc2612}{#1}");k("\\maroonA","\\textcolor{##ffbde0}{#1}");k("\\maroonB","\\textcolor{##ff92c6}{#1}");k("\\maroonC","\\textcolor{##ed5fa6}{#1}");k("\\maroonD","\\textcolor{##ca337c}{#1}");k("\\maroonE","\\textcolor{##9e034e}{#1}");k("\\purpleA","\\textcolor{##ddd7ff}{#1}");k("\\purpleB","\\textcolor{##c6b9fc}{#1}");k("\\purpleC","\\textcolor{##aa87ff}{#1}");k("\\purpleD","\\textcolor{##7854ab}{#1}");k("\\purpleE","\\textcolor{##543b78}{#1}");k("\\mintA","\\textcolor{##f5f9e8}{#1}");k("\\mintB","\\textcolor{##edf2df}{#1}");k("\\mintC","\\textcolor{##e0e5cc}{#1}");k("\\grayA","\\textcolor{##f6f7f7}{#1}");k("\\grayB","\\textcolor{##f0f1f2}{#1}");k("\\grayC","\\textcolor{##e3e5e6}{#1}");k("\\grayD","\\textcolor{##d6d8da}{#1}");k("\\grayE","\\textcolor{##babec2}{#1}");k("\\grayF","\\textcolor{##888d93}{#1}");k("\\grayG","\\textcolor{##626569}{#1}");k("\\grayH","\\textcolor{##3b3e40}{#1}");k("\\grayI","\\textcolor{##21242c}{#1}");k("\\kaBlue","\\textcolor{##314453}{#1}");k("\\kaGreen","\\textcolor{##71B307}{#1}");var t9={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class eO{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new JD(ZD,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Lv(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Hn("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,a=0,o=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new ee("Extra }",s)}else if(s.text==="EOF")throw new ee("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",s);if(e&&r)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(a!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new ee("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new ee("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(n&&n[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new ee("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ee("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new ee("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new ee("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Hn(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new Lv(i,this.settings),l=[],c=o.lex();c.text!=="EOF";)l.push(c),c=o.lex();l.reverse();var h={tokens:l,numArgs:s};return h}return i}isDefined(e){return this.macros.has(e)||Di.hasOwnProperty(e)||Ye.math.hasOwnProperty(e)||Ye.text.hasOwnProperty(e)||t9.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Di.hasOwnProperty(e)&&!Di[e].primitive}}var Fv=/^[]/,dc=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),rf={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Bv={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Rh{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new eO(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new ee("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Hn("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Rh.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&Di[i.text]&&Di[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new ee("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,a,o=e.slice(0,n),l=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[s,e[n],a],[]):c=this.callFunction(r,[s,a],[]),[c]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new ee("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var a=s.text==="\\limits";n.limits=a,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new ee("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new ee("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new ee("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new ee("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(dc[s.text]){var c=Fv.test(s.text),h=[];for(h.push(new Hn(dc[s.text])),this.consume();;){var d=this.fetch().text;if(!dc[d]||Fv.test(d)!==c)break;h.unshift(new Hn(dc[d])),this.consume()}var m=this.subparse(h);c?i={type:"ordgroup",mode:"math",body:m}:r={type:"ordgroup",mode:"math",body:m}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=Di[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new ee("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new ee("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new ee("Can't use function '"+i+"' in math mode",r);var{args:a,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,a,o,r,e)}callFunction(e,n,r,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},o=Di[e];if(o&&o.handler)return o.handler(a,n,r);throw new ee("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<r;a++){var o=n.argTypes&&n.argTypes[a],l=a<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(c);else if(c!=null)i.push(c);else throw new ee("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new ee("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new ee("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ee("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new ee("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ee("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ee("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!hw(s))throw new ee("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),a}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Tn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!t9.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ee("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Tn.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Tn.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Tn.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ee(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}Bv.hasOwnProperty(n[0])&&!Ye[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=Bv[n[0]]+n.slice(1));var s=YD.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var a;if(Ye[this.mode][n]){this.settings.strict&&this.mode==="math"&&Dp.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=Ye[this.mode][n].group,l=Tn.range(e),c;if(jM.hasOwnProperty(o)){var h=o;c={type:"atom",mode:this.mode,family:h,loc:l,text:n}}else c={type:o,mode:this.mode,loc:l,text:n};a=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(cw(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:Tn.range(e),text:n};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var m=s[0][d];if(!rf[m])throw new ee("Unknown accent ' "+m+"'",e);var g=rf[m][this.mode]||rf[m].text;if(!g)throw new ee("Accent "+m+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:Tn.range(e),label:g,isStretchy:!1,isShifty:!0,base:a}}return a}}Rh.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Y1=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Rh(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ee("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Hn("\\df@tag")])}]}return i},n9=function(e,n,r){n.textContent="";var i=X1(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),n9=function(){throw new ee("KaTeX doesn't work in quirks mode.")});var tO=function(e,n){var r=X1(e,n).toMarkup();return r},nO=function(e,n){var r=new N1(n);return Y1(e,r)},r9=function(e,n,r){if(r.throwOnError||!(e instanceof ee))throw e;var i=H.makeSpan(["katex-error"],[new Gn(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},X1=function(e,n){var r=new N1(n);try{var i=Y1(e,r);return hD(i,e,r)}catch(s){return r9(s,e,r)}},rO=function(e,n){var r=new N1(n);try{var i=Y1(e,r);return dD(i,e,r)}catch(s){return r9(s,e,r)}},iO="0.16.20",sO={Span:hu,Anchor:O1,SymbolNode:Gn,SvgNode:ni,PathNode:rs,LineNode:Mp},Uv={version:iO,render:n9,renderToString:tO,ParseError:ee,SETTINGS_SCHEMA:Dc,__parse:nO,__renderToDomTree:X1,__renderToHTMLTree:rO,__setFontMetrics:OM,__defineSymbol:f,__defineFunction:ae,__defineMacro:k,__domTree:sO};const aO={};function oO(t){const e=this,n=t||aO,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(aM(n)),s.push(JN()),a.push(ZN(n))}const jv=/[#.]/g;function lO(t,e){const n=t||"",r={};let i=0,s,a;for(;i<n.length;){jv.lastIndex=i;const o=jv.exec(n),l=n.slice(i,o?o.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:a=l,i+=l.length),o&&(s=o[0],i++)}return{type:"element",tagName:a||e||"div",properties:r,children:[]}}const Bp={}.hasOwnProperty;function i9(t,e,n){const r=n&&dO(n);function i(s,a,...o){let l=-1,c;if(s==null){c={type:"root",children:[]};const h=a;o.unshift(h)}else if(c=lO(s,e),c.tagName=c.tagName.toLowerCase(),r&&Bp.call(r,c.tagName)&&(c.tagName=r[c.tagName]),uO(a))o.unshift(a);else{let h;for(h in a)Bp.call(a,h)&&cO(t,c.properties,h,a[h])}for(;++l<o.length;)Up(c.children,o[l]);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function uO(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function cO(t,e,n,r){const i=R8(t,n);let s=-1,a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=wy(r):i.commaSeparated?a=py(r):i.commaOrSpaceSeparated?a=wy(py(r).join(" ")):a=qv(i,i.property,r):Array.isArray(r)?a=r.concat():a=i.property==="style"?hO(r):String(r);if(Array.isArray(a)){const o=[];for(;++s<a.length;){const l=qv(i,i.property,a[s]);o[s]=l}a=o}if(i.property==="className"&&Array.isArray(e.className)){const o=a;a=e.className.concat(o)}e[i.property]=a}}function Up(t,e){let n=-1;if(e!=null)if(typeof e=="string"||typeof e=="number")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++n<e.length;)Up(t,e[n]);else if(typeof e=="object"&&"type"in e)e.type==="root"?Up(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function qv(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Hl(n)===Hl(e)))return!0}return n}function hO(t){const e=[];let n;for(n in t)Bp.call(t,n)&&e.push([n,t[n]].join(": "));return e.join("; ")}function dO(t){const e={};let n=-1;for(;++n<t.length;)e[t[n].toLowerCase()]=t[n];return e}const fO=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],pO=i9(P8,"div"),mO=i9(_h,"g",fO),sf={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gO(t,e){return s9(t,{})||{type:"root",children:[]}}function s9(t,e){const n=yO(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function yO(t,e){switch(t.nodeType){case 1:return xO(t,e);case 3:return wO(t);case 8:return _O(t);case 9:return Hv(t,e);case 10:return vO();case 11:return Hv(t,e);default:return}}function Hv(t,e){return{type:"root",children:a9(t,e)}}function vO(){return{type:"doctype"}}function wO(t){return{type:"text",value:t.nodeValue||""}}function _O(t){return{type:"comment",value:t.nodeValue||""}}function xO(t,e){const n=t.namespaceURI,r=n===sf.svg?mO:pO,i=n===sf.html?t.tagName.toLowerCase():t.tagName,s=n===sf.html&&i==="template"?t.content:t,a=t.getAttributeNames(),o={};let l=-1;for(;++l<a.length;)o[a[l]]=t.getAttribute(a[l])||"";return r(i,o,a9(s,e))}function a9(t,e){const n=t.childNodes,r=[];let i=-1;for(;++i<n.length;){const s=s9(n[i],e);s!==void 0&&r.push(s)}return r}new DOMParser;function EO(t,e){const n=SO(t);return gO(n)}function SO(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const $v=function(t,e,n){const r=R1(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},Ys=function(t){if(t==null)return TO;if(typeof t=="string")return kO(t);if(typeof t=="object")return bO(t);if(typeof t=="function")return J1(t);throw new Error("Expected function, string, or array as `test`")};function bO(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ys(t[n]);return J1(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function kO(t){return J1(e);function e(n){return n.tagName===t}}function J1(t){return e;function e(n,r,i){return!!(IO(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function TO(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function IO(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const Wv=/\n/g,Gv=/[\t ]+/g,jp=Ys("br"),Kv=Ys(OO),AO=Ys("p"),Qv=Ys("tr"),CO=Ys(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",DO,LO]),o9=Ys(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function RO(t,e){const n=e,r="children"in t?t.children:[],i=o9(t),s=c9(t,{whitespace:n.whitespace||"normal",breakBefore:!1,breakAfter:!1}),a=[];(t.type==="text"||t.type==="comment")&&a.push(...u9(t,{whitespace:s,breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)a.push(...l9(r[o],t,{whitespace:s,breakBefore:o?void 0:i,breakAfter:o<r.length-1?jp(r[o+1]):i}));const l=[];let c;for(o=-1;++o<a.length;){const h=a[o];typeof h=="number"?c!==void 0&&h>c&&(c=h):h&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(h))}return l.join("")}function l9(t,e,n){return t.type==="element"?PO(t,e,n):t.type==="text"?n.whitespace==="normal"?u9(t,n):NO(t):[]}function PO(t,e,n){const r=c9(t,n),i=t.children||[];let s=-1,a=[];if(CO(t))return a;let o,l;for(jp(t)||Qv(t)&&$v(e,t,Qv)?l=`
`:AO(t)?(o=2,l=2):o9(t)&&(o=1,l=1);++s<i.length;)a=a.concat(l9(i[s],t,{whitespace:r,breakBefore:s?void 0:o,breakAfter:s<i.length-1?jp(i[s+1]):l}));return Kv(t)&&$v(e,t,Kv)&&a.push("	"),o&&a.unshift(o),l&&a.push(l),a}function u9(t,e){const n=String(t.value),r=[],i=[];let s=0;for(;s<=n.length;){Wv.lastIndex=s;const l=Wv.exec(n),c=l&&"index"in l?l.index:n.length;r.push(MO(n.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,c===n.length?e.breakAfter:!0)),s=c+1}let a=-1,o;for(;++a<r.length;)r[a].charCodeAt(r[a].length-1)===8203||a<r.length-1&&r[a+1].charCodeAt(0)===8203?(i.push(r[a]),o=void 0):r[a]?(typeof o=="number"&&i.push(o),i.push(r[a]),o=0):(a===0||a===r.length-1)&&i.push(0);return i}function NO(t){return[String(t.value)]}function MO(t,e,n){const r=[];let i=0,s;for(;i<t.length;){Gv.lastIndex=i;const a=Gv.exec(t);s=a?a.index:t.length,!i&&!s&&a&&!e&&r.push(""),i!==s&&r.push(t.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function c9(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function DO(t){return!!(t.properties||{}).hidden}function OO(t){return t.tagName==="td"||t.tagName==="th"}function LO(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const zO={},VO=[];function FO(t){const e=t||zO;return function(n,r){sw(n,"element",function(i,s){const a=Array.isArray(i.properties.className)?i.properties.className:VO,o=a.includes("language-math"),l=a.includes("math-display"),c=a.includes("math-inline");let h=l;if(!o&&!l&&!c)return;let d=s[s.length-1],m=i;if(i.tagName==="code"&&o&&d&&d.type==="element"&&d.tagName==="pre"&&(m=d,d=s[s.length-2],h=!0),!d)return;const g=RO(m,{whitespace:"pre"});let x;try{x=Uv.renderToString(g,{...e,displayMode:h,throwOnError:!0})}catch(R){const E=R,w=E.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:E,place:i.position,ruleId:w,source:"rehype-katex"});try{x=Uv.renderToString(g,{...e,displayMode:h,strict:"ignore",throwOnError:!1})}catch{x=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(R)},children:[{type:"text",value:g}]}]}}typeof x=="string"&&(x=EO(x).children);const S=d.children.indexOf(m);return d.children.splice(S,1,...x),iw})}}function BO({text:t,sender:e}){return e==="user"?$.jsx("p",{children:t}):$.jsx("div",{className:"prose prose-sm max-w-none",children:$.jsx(QN,{remarkPlugins:[oO],rehypePlugins:[FO],components:{p:({children:n})=>$.jsx("span",{className:"text-inherit",children:n}),a:({children:n,href:r})=>$.jsx("a",{href:r,className:"text-blue-400 hover:text-blue-300",target:"_blank",rel:"noopener noreferrer",children:n})},children:t})})}function UO(){const t=ao(),e=so(),[n,r]=re.useState([]),[i,s]=re.useState(""),[a,o]=re.useState([]),[l,c]=re.useState(!0),[h,d]=re.useState(null),[m,g]=re.useState(!1),x=re.useRef(null),S=()=>{var w;(w=x.current)==null||w.scrollIntoView({behavior:"smooth"})};re.useEffect(()=>{S()},[n]);const R=async w=>{try{const T=Xa(Bs),B=localStorage.getItem("authId"),{assignmentId:j}=e.state,F=Gi(T,"chat-history",`${B}${j}`);await x8(F,{completedObjectives:w.map((C,b)=>({index:b,completed:C.completed}))})}catch(T){console.error("Error saving completed objectives:",T)}};re.useEffect(()=>{(async()=>{try{const T=Xa(Bs),{classId:B,assignmentId:j}=e.state,F=localStorage.getItem("authId");if(!B||!j||!F)throw new Error("Missing required IDs");const C=Gi(T,"chat-history",`${F}${j}`),b=await ql(C);let A=[];if(b.exists()){const de=b.data(),ce=de.messages.map((Ce,Re)=>({id:Re+1,text:Ce.data.content,sender:Ce.type==="human"?"user":"bot",timestamp:new Date}));r(ce),A=de.completedObjectives||[]}else r([{id:1,text:"Hello! I'm your AI learning assistant. What would you like to learn about today?",sender:"bot",timestamp:new Date}]);const N=Gi(T,"classes",B,"assignments",j),M=await ql(N);if(!M.exists())throw new Error("Assignment not found");const P=(M.data().Components||[]).map((de,ce)=>{var Ce;return{id:ce+1,text:de,completed:((Ce=A.find(Re=>Re.index===ce))==null?void 0:Ce.completed)||!1}});o(P),c(!1)}catch(T){console.error("Error fetching data:",T),d("Failed to load chat data"),c(!1)}})()},[e.state]);const E=async w=>{var B;if(w.preventDefault(),!i.trim())return;const T={id:n.length+1,text:i,sender:"user",timestamp:new Date};r(j=>[...j,T]),s(""),g(!0);try{const j=localStorage.getItem("authId"),{assignmentId:F}=e.state,C=await fetch("http://localhost:8000/talkstream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:i,components:a.map(N=>N.text),authId:j,assignmentId:F})});if(!C.ok)throw new Error("Failed to get response from server");const b=(B=C.body)==null?void 0:B.getReader();if(!b)throw new Error("No response body");let A="";for(;;){const{done:N,value:M}=await b.read();if(N)break;const L=new TextDecoder().decode(M);if(L.startsWith("__COMPLETED_CRITERION__")){const P=parseInt(L.replace("__COMPLETED_CRITERION__",""),10);o(de=>{const ce=de.map((Ce,Re)=>Re===P?{...Ce,completed:!0}:Ce);return R(ce),ce});continue}A+=L,r(P=>{const de=P[P.length-1];return de.sender==="bot"?[...P.slice(0,-1),{...de,text:A}]:[...P,{id:P.length+1,text:A,sender:"bot",timestamp:new Date}]})}g(!1)}catch(j){console.error("Error sending message:",j),r(F=>[...F,{id:F.length+1,text:"I'm sorry, I'm having trouble connecting right now. Please try again later.",sender:"bot",timestamp:new Date}]),g(!1)}};return l?$.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:$.jsx("div",{className:"text-gray-600",children:"Loading chat data..."})}):h?$.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:$.jsx("div",{className:"text-red-600",children:h})}):$.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[$.jsx("div",{className:"bg-white shadow fixed top-0 left-0 right-0 z-10",children:$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:$.jsxs("div",{className:"flex justify-between items-center h-16",children:[$.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"AI Learning Assistant"}),$.jsxs("button",{onClick:()=>t("/dashboard"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[$.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]})})}),$.jsxs("div",{className:"flex-1 flex pt-16",children:[" ",$.jsxs("div",{className:"flex-1 flex flex-col mr-80",children:[" ",$.jsxs("div",{className:"flex-1 overflow-y-auto p-6 pb-24",children:[" ",$.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[n.map(w=>$.jsx("div",{className:`flex ${w.sender==="user"?"justify-end":"justify-start"}`,children:$.jsxs("div",{className:`max-w-sm rounded-lg px-4 py-2 ${w.sender==="user"?"bg-blue-600 text-white":"bg-white text-gray-800 shadow-sm"}`,children:[$.jsx(BO,{text:w.text,sender:w.sender}),$.jsx("p",{className:"text-xs mt-1 opacity-75",children:w.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},w.id)),m&&$.jsx("div",{className:"flex justify-start",children:$.jsx("div",{className:"bg-white text-gray-800 shadow-sm rounded-lg px-4 py-2",children:$.jsxs("div",{className:"flex space-x-2",children:[$.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),$.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),$.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),$.jsx("div",{ref:x})]})]}),$.jsxs("div",{className:"border-t bg-white p-4 fixed bottom-0 left-0 right-80",children:[" ",$.jsx("form",{onSubmit:E,className:"max-w-3xl mx-auto",children:$.jsxs("div",{className:"flex space-x-4",children:[$.jsx("input",{type:"text",value:i,onChange:w=>s(w.target.value),placeholder:"Type your message...",className:"flex-1 rounded-lg border border-gray-300 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:m}),$.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",disabled:m||!i.trim(),children:"Send"})]})})]})]}),$.jsx("div",{className:"w-80 bg-white border-l overflow-y-auto fixed right-0 top-16 bottom-0",children:$.jsxs("div",{className:"p-6",children:[$.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Learning Objectives"}),$.jsx("div",{className:"space-y-3",children:a.map(w=>$.jsxs("div",{className:"flex items-start space-x-3",children:[$.jsx("input",{type:"checkbox",checked:w.completed,readOnly:!0,className:"mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),$.jsx("span",{className:`text-gray-700 ${w.completed?"line-through":""}`,children:w.text})]},w.id))})]})})]})]})}function jO(){const t=ao(),e=so(),[n,r]=re.useState([]),[i,s]=re.useState(!0),[a,o]=re.useState(null);re.useEffect(()=>{(async()=>{var h;try{const d=Xa(Bs),m=(h=e.state)==null?void 0:h.classId;if(!m)throw new Error("No class ID provided");const g=sA(Gi(d,"classes",m),"assignments"),S=(await _A(g)).docs.map(R=>({id:R.id,title:R.data().Title,description:R.data().Description,dueDate:R.data()["Due Date"].toDate()}));r(S),s(!1)}catch(d){console.error("Error fetching assignments:",d),o("Failed to load assignments"),s(!1)}})()},[e.state]);const l=c=>{t("/chat",{state:{classId:e.state.classId,assignmentId:c}})};return i?$.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:$.jsx("div",{className:"text-gray-600",children:"Loading assignments..."})}):a?$.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:$.jsx("div",{className:"text-red-600",children:a})}):$.jsxs("div",{className:"min-h-screen bg-gray-100",children:[$.jsx("div",{className:"bg-white shadow",children:$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:$.jsxs("div",{className:"flex justify-between items-center h-16",children:[$.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Assignments"}),$.jsxs("button",{onClick:()=>t("/dashboard"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[$.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})]})})}),$.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.length===0?$.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] bg-white rounded-lg shadow-sm",children:[$.jsx("svg",{className:"w-16 h-16 text-gray-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),$.jsx("h2",{className:"text-2xl font-semibold text-gray-700",children:"Woohoo, you have no assignments!"}),$.jsx("p",{className:"text-gray-500 mt-2",children:"Time to relax and enjoy your free time!"})]}):$.jsx("div",{className:"space-y-4",children:n.map(c=>$.jsx("div",{onClick:()=>l(c.id),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 cursor-pointer",children:$.jsxs("div",{className:"p-6 flex items-center justify-between",children:[$.jsxs("div",{className:"flex-1",children:[$.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:c.title}),$.jsx("p",{className:"text-gray-600 mt-1",children:c.description}),$.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Due: ",c.dueDate.toLocaleDateString()]})]}),$.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},c.id))})})]})}function qO(){return $.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center",children:$.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md flex flex-col items-center",children:[$.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),$.jsx("p",{className:"text-gray-700",children:"Setting up your account..."})]})})}function HO(){const t=ao(),[e,n]=re.useState(""),[r,i]=re.useState(""),[s,a]=re.useState(""),[o,l]=re.useState(!1);re.useEffect(()=>{sessionStorage.getItem("tempAuthId")||t("/")},[t]);const c=async h=>{h.preventDefault(),a(""),l(!0);const d=sessionStorage.getItem("tempAuthId");try{if((await(await fetch("http://localhost:8000/loadstudent",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type"},body:JSON.stringify({username:e,password:r,tempAuthId:d})})).json()).response==="success"){const x=Xa(Bs),S=sessionStorage.getItem("tempAuthId");if(!S)throw new Error("No user ID found");await x8(Gi(x,"users",S),{isActive:!0}),localStorage.setItem("authId",S),sessionStorage.removeItem("tempAuthId"),t("/dashboard")}else a("Invalid credentials")}catch(m){console.error("Setup error:",m),a("Failed to complete setup. Please try again.")}finally{l(!1)}};return $.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:[o&&$.jsx(qO,{}),$.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[$.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Account Setup"}),s&&$.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:s}),$.jsxs("form",{className:"space-y-4",onSubmit:c,children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Lionel Username"}),$.jsx("input",{type:"text",id:"username",value:e,onChange:h=>n(h.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your Lionel username",required:!0})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Lionel Password"}),$.jsx("input",{type:"password",id:"password",value:r,onChange:h=>i(h.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your Lionel password",required:!0})]}),$.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Complete Setup"})]})]})]})}function Z1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function h9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=h9,d9=new ru("auth","Firebase",h9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Um("@firebase/auth");function WO(t,...e){N0.logLevel<=Me.WARN&&N0.warn(`Auth (${oo}): ${t}`,...e)}function Lc(t,...e){N0.logLevel<=Me.ERROR&&N0.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw eg(t,...e)}function xr(t,...e){return eg(t,...e)}function f9(t,e,n){const r=Object.assign(Object.assign({},$O()),{[e]:n});return new ru("auth","Firebase",r).create(e,{appName:t.name})}function Ki(t){return f9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d9.create(t,...e)}function Ee(t,e,...n){if(!t)throw eg(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lc(e),new Error(e)}function si(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GO(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GO()||KS()||"connection"in navigator)?navigator.onLine:!0}function QO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,si(n>e,"Short delay should be less than long delay!"),this.isMobile=$S()||QS()}get(){return KO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new fu(3e4,6e4);function Xs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hs(t,e,n,r,i={}){return m9(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=iu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return GS()||(c.referrerPolicy="no-referrer"),p9.fetch()(g9(t,t.config.apiHost,n,o),c)})}async function m9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},YO),e);try{const i=new ZO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw fc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw fc(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw f9(t,h,c);or(t,h)}}catch(i){if(i instanceof oi)throw i;or(t,"network-request-failed",{message:String(i)})}}async function Ph(t,e,n,r,i={}){const s=await hs(t,e,n,r,i);return"mfaPendingCredential"in s&&or(t,"multi-factor-auth-required",{_serverResponse:s}),s}function g9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?tg(t.config,i):`${t.config.apiScheme}://${i}`}function JO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),XO.get())})}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xr(t,e,r);return i.customData._tokenResponse=n,i}function Xv(t){return t!==void 0&&t.enterprise!==void 0}class eL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tL(t,e){return hs(t,"GET","/v2/recaptchaConfig",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){return hs(t,"POST","/v1/accounts:delete",e)}async function y9(t,e){return hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rL(t,e=!1){const n=sn(t),r=await n.getIdToken(e),i=ng(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gl(af(i.auth_time)),issuedAtTime:gl(af(i.iat)),expirationTime:gl(af(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function af(t){return Number(t)*1e3}function ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const i=H6(n);return i?JSON.parse(i):(Lc("Failed to decode base64 JWT payload"),null)}catch(i){return Lc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Jv(t){const e=ng(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof oi&&iL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kl(t,y9(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?v9(s.providerUserInfo):[],o=oL(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Hp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function aL(t){const e=sn(t);await M0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function v9(t){return t.map(e=>{var{providerId:n}=e,r=Z1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){const n=await m9(t,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=g9(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",p9.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uL(t,e){return hs(t,"POST","/v2/accounts:revokeToken",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Da;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Z1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rL(this,e)}reload(){return aL(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await M0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await Kl(this,nL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(o=n.tenantId)!==null&&o!==void 0?o:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:B,isAnonymous:j,providerData:F,stsTokenManager:C}=n;Ee(T&&C,e,"internal-error");const b=Da.fromJSON(this.name,C);Ee(typeof T=="string",e,"internal-error"),xi(d,e.name),xi(m,e.name),Ee(typeof B=="boolean",e,"internal-error"),Ee(typeof j=="boolean",e,"internal-error"),xi(g,e.name),xi(x,e.name),xi(S,e.name),xi(R,e.name),xi(E,e.name),xi(w,e.name);const A=new jr({uid:T,auth:e,email:m,emailVerified:B,displayName:d,isAnonymous:j,photoURL:x,phoneNumber:g,tenantId:S,stsTokenManager:b,createdAt:E,lastLoginAt:w});return F&&Array.isArray(F)&&(A.providerData=F.map(N=>Object.assign({},N))),R&&(A._redirectEventId=R),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Da;i.updateFromServerResponse(n);const s=new jr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await M0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?v9(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Da;o.updateFromIdToken(r);const l=new jr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Hp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function qr(t){si(t instanceof Function,"Expected a class definition");let e=Zv.get(t);return e?(si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w9.type="NONE";const e5=w9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t,e,n){return`firebase:${t}:${e}:${n}`}class Oa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zc(this.userKey,i.apiKey,s),this.fullPersistenceKey=zc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oa(qr(e5),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||qr(e5);const a=zc(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){const d=jr._fromJSON(e,h);c!==s&&(o=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Oa(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Oa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k9(e))return"Blackberry";if(T9(e))return"Webos";if(x9(e))return"Safari";if((e.includes("chrome/")||E9(e))&&!e.includes("edge/"))return"Chrome";if(b9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _9(t=Yt()){return/firefox\//i.test(t)}function x9(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E9(t=Yt()){return/crios\//i.test(t)}function S9(t=Yt()){return/iemobile/i.test(t)}function b9(t=Yt()){return/android/i.test(t)}function k9(t=Yt()){return/blackberry/i.test(t)}function T9(t=Yt()){return/webos/i.test(t)}function rg(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cL(t=Yt()){var e;return rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hL(){return YS()&&document.documentMode===10}function I9(t=Yt()){return rg(t)||b9(t)||T9(t)||k9(t)||/windows phone/i.test(t)||S9(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e=[]){let n;switch(t){case"Browser":n=t5(Yt());break;case"Worker":n=`${t5(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e={}){return hs(t,"GET","/v2/passwordPolicy",Xs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=6;class mL{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:pL,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n5(this),this.idTokenSubscription=new n5(this),this.beforeStateQueue=new dL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await y9(this,{idToken:e}),r=await jr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Br(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await M0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Br(this.app))return Promise.reject(Ki(this));const n=e?sn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Br(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Br(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fL(this),n=new mL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yo(t){return sn(t)}class n5{constructor(e){this.auth=e,this.observer=null,this.addObserver=ib(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yL(t){Nh=t}function C9(t){return Nh.loadJS(t)}function vL(){return Nh.recaptchaEnterpriseScript}function wL(){return Nh.gapiScript}function _L(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xL{constructor(){this.enterprise=new EL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class EL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SL="recaptcha-enterprise",R9="NO_RECAPTCHA";class bL{constructor(e){this.type=SL,this.auth=yo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{tL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new eL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;Xv(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(R9)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xL().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&Xv(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vL();l.length!==0&&(l+=o),C9(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function r5(t,e,n,r=!1,i=!1){const s=new bL(t);let a;if(i)a=R9;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function i5(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await r5(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await r5(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){const n=qm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(d0(s,e??{}))return i;or(i,"already-initialized")}return n.initialize({options:e})}function TL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IL(t,e,n){const r=yo(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=P9(e),{host:a,port:o}=AL(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),CL()}function P9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AL(t){const e=P9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:s5(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:s5(a)}}}function s5(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function RL(t,e){return hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e){return Ph(t,"POST","/v1/accounts:signInWithPassword",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){return Ph(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}async function ML(t,e){return Ph(t,"POST","/v1/accounts:signInWithEmailLink",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends ig{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ql(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i5(e,n,"signInWithPassword",PL);case"emailLink":return NL(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i5(e,r,"signUpPassword",RL);case"emailLink":return ML(e,{idToken:n,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e){return Ph(t,"POST","/v1/accounts:signInWithIdp",Xs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="http://localhost";class Us extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Z1(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Us(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,La(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:DL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LL(t){const e=Go(Ko(t)).link,n=e?Go(Ko(e)).deep_link_id:null,r=Go(Ko(t)).deep_link_id;return(r?Go(Ko(r)).link:null)||r||n||e||t}class sg{constructor(e){var n,r,i,s,a,o;const l=Go(Ko(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=OL((i=l.mode)!==null&&i!==void 0?i:null);Ee(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=LL(e);try{return new sg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sg.parseLink(n);return Ee(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends N9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends pu{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Us._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends pu{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends pu{constructor(){super("twitter.com")}static credential(e,n){return Us._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await jr._fromIdTokenResponse(e,r,i),a=a5(r);return new eo({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=a5(r);return new eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function a5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends oi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,D0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new D0(e,n,r,i)}}function M9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?D0._fromErrorAndOperation(t,s,e,r):s})}async function zL(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e,n=!1){const{auth:r}=t;if(Br(r.app))return Promise.reject(Ki(r));const i="reauthenticate";try{const s=await Kl(t,M9(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const a=ng(s.idToken);Ee(a,r,"internal-error");const{sub:o}=a;return Ee(t.uid===o,r,"user-mismatch"),eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&or(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e,n=!1){if(Br(t.app))return Promise.reject(Ki(t));const r="signIn",i=await M9(t,r,e),s=await eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function FL(t,e){return D9(yo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t){const e=yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function UL(t,e,n){return Br(t.app)?Promise.reject(Ki(t)):FL(sn(t),vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BL(t),r})}function jL(t,e,n,r){return sn(t).onIdTokenChanged(e,n,r)}function qL(t,e,n){return sn(t).beforeAuthStateChanged(e,n)}const O0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(O0,"1"),this.storage.removeItem(O0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=1e3,$L=10;class L9 extends O9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);hL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$L):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L9.type="LOCAL";const WL=L9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9 extends O9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z9.type="SESSION";const V9=z9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await GL(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=ag("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(m.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function QL(t){Er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function YL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JL(){return F9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="firebaseLocalStorageDb",ZL=1,L0="firebaseLocalStorage",U9="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(t,e){return t.transaction([L0],e?"readwrite":"readonly").objectStore(L0)}function ez(){const t=indexedDB.deleteDatabase(B9);return new mu(t).toPromise()}function $p(){const t=indexedDB.open(B9,ZL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(L0,{keyPath:U9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(L0)?e(r):(r.close(),await ez(),e(await $p()))})})}async function o5(t,e,n){const r=Dh(t,!0).put({[U9]:e,value:n});return new mu(r).toPromise()}async function tz(t,e){const n=Dh(t,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function l5(t,e){const n=Dh(t,!0).delete(e);return new mu(n).toPromise()}const nz=800,rz=3;class j9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(JL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await YL(),!this.activeServiceWorker)return;this.sender=new KL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await o5(e,O0,"1"),await l5(e,O0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>o5(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l5(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Dh(i,!1).getAll();return new mu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j9.type="LOCAL";const iz=j9;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e){return e?qr(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function az(t){return D9(t.auth,new og(t),t.bypassAuthState)}function oz(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),VL(n,new og(t),t.bypassAuthState)}async function lz(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),zL(n,new og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return az;case"linkViaPopup":case"linkViaRedirect":return lz;case"reauthViaPopup":case"reauthViaRedirect":return oz;default:or(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=new fu(2e3,1e4);class Sa extends q9{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uz.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="pendingRedirect",Vc=new Map;class hz extends q9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const r=await dz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dz(t,e){const n=mz(e),r=pz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fz(t,e){Vc.set(t._key(),e)}function pz(t){return qr(t._redirectPersistence)}function mz(t){return zc(cz,t.config.apiKey,t.name)}async function gz(t,e,n=!1){if(Br(t.app))return Promise.reject(Ki(t));const r=yo(t),i=sz(r,e),a=await new hz(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=10*60*1e3;class vz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!H9(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yz&&this.cachedEventUids.clear(),this.cachedEventUids.has(u5(e))}saveEventToCache(e){this.cachedEventUids.add(u5(e)),this.lastProcessedEventTime=Date.now()}}function u5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e={}){return hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ez=/^https?/;async function Sz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _z(t);for(const n of e)try{if(bz(n))return}catch{}or(t,"unauthorized-domain")}function bz(t){const e=qp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Ez.test(n))return!1;if(xz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=new fu(3e4,6e4);function c5(){const t=Er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Tz(t){return new Promise((e,n)=>{var r,i,s;function a(){c5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c5(),n(xr(t,"network-request-failed"))},timeout:kz.get()})}if(!((i=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Er().gapi)===null||s===void 0)&&s.load)a();else{const o=_L("iframefcb");return Er()[o]=()=>{gapi.load?a():n(xr(t,"network-request-failed"))},C9(`${wL()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function Iz(t){return Fc=Fc||Tz(t),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=new fu(5e3,15e3),Cz="__/auth/iframe",Rz="emulator/auth/iframe",Pz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mz(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,Rz):`https://${t.config.authDomain}/${Cz}`,r={apiKey:e.apiKey,appName:t.name,v:oo},i=Nz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${iu(r).slice(1)}`}async function Dz(t){const e=await Iz(t),n=Er().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:Mz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=xr(t,"network-request-failed"),o=Er().setTimeout(()=>{s(a)},Az.get());function l(){Er().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lz=500,zz=600,Vz="_blank",Fz="http://localhost";class h5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bz(t,e,n,r=Lz,i=zz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Oz),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Yt().toLowerCase();n&&(o=E9(c)?Vz:n),_9(c)&&(e=e||Fz,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,x])=>`${m}${g}=${x},`,"");if(cL(c)&&o!=="_self")return Uz(e||"",o),new h5(null);const d=window.open(e||"",o,h);Ee(d,t,"popup-blocked");try{d.focus()}catch{}return new h5(d)}function Uz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz="__/auth/handler",qz="emulator/auth/handler",Hz=encodeURIComponent("fac");async function d5(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oo,eventId:i};if(e instanceof N9){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",rb(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(e instanceof pu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${Hz}=${encodeURIComponent(l)}`:"";return`${$z(t)}?${iu(o).slice(1)}${c}`}function $z({config:t}){return t.emulator?tg(t,qz):`https://${t.authDomain}/${jz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="webStorageSupport";class Wz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V9,this._completeRedirectFn=gz,this._overrideRedirectResult=fz}async _openPopup(e,n,r,i){var s;si((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await d5(e,n,r,qp(),i);return Bz(e,a,ag())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await d5(e,n,r,qp(),i);return QL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(si(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Dz(e),r=new vz(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(of,{type:of},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[of];a!==void 0&&n(!!a),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I9()||x9()||rg()}}const Gz=Wz;var f5="@firebase/auth",p5="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yz(t){Ha(new zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ee(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A9(t)},c=new gL(r,i,s,l);return TL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ha(new zs("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(r=>new Kz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(f5,p5,Qz(t)),$i(f5,p5,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=5*60,Jz=G6("authIdTokenMaxAge")||Xz;let m5=null;const Zz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Jz)return;const i=n==null?void 0:n.token;m5!==i&&(m5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function eV(t=X6()){const e=qm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kL(t,{popupRedirectResolver:Gz,persistence:[iz,WL,V9]}),r=G6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Zz(s.toString());qL(n,a,()=>a(n.currentUser)),jL(n,o=>a(o))}}const i=$6("auth");return i&&IL(n,`http://${i}`),n}function tV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yz("Browser");function lf({children:t}){return localStorage.getItem("authId")?$.jsx($.Fragment,{children:t}):$.jsx(CS,{to:"/",replace:!0})}function nV(){const t=ao(),[e,n]=re.useState(""),[r,i]=re.useState(""),[s,a]=re.useState(""),[o,l]=re.useState(!1),c=eV(Bs);re.useEffect(()=>{document.title="Login | Student Learning Platform",localStorage.getItem("authId")&&t("/dashboard")},[t]);const h=async d=>{d.preventDefault(),a(""),l(!0);try{const g=(await UL(c,e,r)).user,x=Xa(Bs),S=await ql(Gi(x,"users",g.uid));if(!S.exists()){a("User data not found");return}S.data().isActive?(localStorage.setItem("authId",g.uid),t("/dashboard")):(sessionStorage.setItem("tempAuthId",g.uid),t("/setup"))}catch(m){a("Invalid email or password"),console.error("Authentication error:",m)}finally{l(!1)}};return $.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:$.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[$.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Login"}),s&&$.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:s}),$.jsxs("form",{className:"space-y-4",onSubmit:h,children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),$.jsx("input",{type:"email",id:"email",value:e,onChange:d=>n(d.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email",required:!0})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),$.jsx("input",{type:"password",id:"password",value:r,onChange:d=>i(d.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password",required:!0})]}),$.jsx("button",{type:"submit",disabled:o,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:o?"Signing in...":"Sign in"})]})]})})}function rV(){const t=so();return re.useEffect(()=>{const e={"/":"Login | Student Learning Platform","/dashboard":"Dashboard | Student Learning Platform","/assignments":"Assignments | Student Learning Platform","/chat":"AI Chat | Student Learning Platform","/setup":"Setup | Student Learning Platform"};document.title=e[t.pathname]||"Student Learning Platform"},[t]),$.jsxs(PS,{children:[$.jsx(aa,{path:"/",element:$.jsx(nV,{})}),$.jsx(aa,{path:"/setup",element:$.jsx(HO,{})}),$.jsx(aa,{path:"/dashboard",element:$.jsx(lf,{children:$.jsx(TA,{})})}),$.jsx(aa,{path:"/assignments",element:$.jsx(lf,{children:$.jsx(jO,{})})}),$.jsx(aa,{path:"/chat",element:$.jsx(lf,{children:$.jsx(UO,{})})})]})}uf.createRoot(document.getElementById("root")).render($.jsx(I5.StrictMode,{children:$.jsx(DS,{children:$.jsx(rV,{})})}));
